(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ZC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qp={exports:{}},Pu={};var Q0;function YC(){if(Q0)return Pu;Q0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pu.Fragment=e,Pu.jsx=n,Pu.jsxs=n,Pu}var K0;function XC(){return K0||(K0=1,qp.exports=YC()),qp.exports}var w=XC(),Hp={exports:{}},ze={};var Z0;function WC(){if(Z0)return ze;Z0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function W(j,te,le){this.props=j,this.context=te,this.refs=U,this.updater=le||M}W.prototype.isReactComponent={},W.prototype.setState=function(j,te){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,te,"setState")},W.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Q(){}Q.prototype=W.prototype;function ne(j,te,le){this.props=j,this.context=te,this.refs=U,this.updater=le||M}var he=ne.prototype=new Q;he.constructor=ne,P(he,W.prototype),he.isPureReactComponent=!0;var J=Array.isArray;function ve(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(j,te,le){var ye=le.ref;return{$$typeof:t,type:j,key:te,ref:ye!==void 0?ye:null,props:le}}function O(j,te){return I(j.type,te,j.props)}function z(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function D(j){var te={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return te[le]})}var C=/\/+/g;function ke(j,te){return typeof j=="object"&&j!==null&&j.key!=null?D(""+j.key):te.toString(36)}function Fe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ve,ve):(j.status="pending",j.then(function(te){j.status==="pending"&&(j.status="fulfilled",j.value=te)},function(te){j.status==="pending"&&(j.status="rejected",j.reason=te)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,te,le,ye,Ie){var Ve=typeof j;(Ve==="undefined"||Ve==="boolean")&&(j=null);var Ce=!1;if(j===null)Ce=!0;else switch(Ve){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(j.$$typeof){case t:case e:Ce=!0;break;case v:return Ce=j._init,Z(Ce(j._payload),te,le,ye,Ie)}}if(Ce)return Ie=Ie(j),Ce=ye===""?"."+ke(j,0):ye,J(Ie)?(le="",Ce!=null&&(le=Ce.replace(C,"$&/")+"/"),Z(Ie,te,le,"",function(jt){return jt})):Ie!=null&&(z(Ie)&&(Ie=O(Ie,le+(Ie.key==null||j&&j.key===Ie.key?"":(""+Ie.key).replace(C,"$&/")+"/")+Ce)),te.push(Ie)),1;Ce=0;var bt=ye===""?".":ye+":";if(J(j))for(var Ee=0;Ee<j.length;Ee++)ye=j[Ee],Ve=bt+ke(ye,Ee),Ce+=Z(ye,te,le,Ve,Ie);else if(Ee=x(j),typeof Ee=="function")for(j=Ee.call(j),Ee=0;!(ye=j.next()).done;)ye=ye.value,Ve=bt+ke(ye,Ee++),Ce+=Z(ye,te,le,Ve,Ie);else if(Ve==="object"){if(typeof j.then=="function")return Z(Fe(j),te,le,ye,Ie);throw te=String(j),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function fe(j,te,le){if(j==null)return j;var ye=[],Ie=0;return Z(j,ye,"","",function(Ve){return te.call(le,Ve,Ie++)}),ye}function oe(j){if(j._status===-1){var te=j._result;te=te(),te.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=te)}if(j._status===1)return j._result.default;throw j._result}var Be=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},He={map:fe,forEach:function(j,te,le){fe(j,function(){te.apply(this,arguments)},le)},count:function(j){var te=0;return fe(j,function(){te++}),te},toArray:function(j){return fe(j,function(te){return te})||[]},only:function(j){if(!z(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ze.Activity=b,ze.Children=He,ze.Component=W,ze.Fragment=n,ze.Profiler=a,ze.PureComponent=ne,ze.StrictMode=i,ze.Suspense=m,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ze.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},ze.cache=function(j){return function(){return j.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(j,te,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ye=P({},j.props),Ie=j.key;if(te!=null)for(Ve in te.key!==void 0&&(Ie=""+te.key),te)!A.call(te,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&te.ref===void 0||(ye[Ve]=te[Ve]);var Ve=arguments.length-2;if(Ve===1)ye.children=le;else if(1<Ve){for(var Ce=Array(Ve),bt=0;bt<Ve;bt++)Ce[bt]=arguments[bt+2];ye.children=Ce}return I(j.type,Ie,ye)},ze.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},ze.createElement=function(j,te,le){var ye,Ie={},Ve=null;if(te!=null)for(ye in te.key!==void 0&&(Ve=""+te.key),te)A.call(te,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ie[ye]=te[ye]);var Ce=arguments.length-2;if(Ce===1)Ie.children=le;else if(1<Ce){for(var bt=Array(Ce),Ee=0;Ee<Ce;Ee++)bt[Ee]=arguments[Ee+2];Ie.children=bt}if(j&&j.defaultProps)for(ye in Ce=j.defaultProps,Ce)Ie[ye]===void 0&&(Ie[ye]=Ce[ye]);return I(j,Ve,Ie)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(j){return{$$typeof:f,render:j}},ze.isValidElement=z,ze.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:oe}},ze.memo=function(j,te){return{$$typeof:g,type:j,compare:te===void 0?null:te}},ze.startTransition=function(j){var te=N.T,le={};N.T=le;try{var ye=j(),Ie=N.S;Ie!==null&&Ie(le,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ve,Be)}catch(Ve){Be(Ve)}finally{te!==null&&le.types!==null&&(te.types=le.types),N.T=te}},ze.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ze.use=function(j){return N.H.use(j)},ze.useActionState=function(j,te,le){return N.H.useActionState(j,te,le)},ze.useCallback=function(j,te){return N.H.useCallback(j,te)},ze.useContext=function(j){return N.H.useContext(j)},ze.useDebugValue=function(){},ze.useDeferredValue=function(j,te){return N.H.useDeferredValue(j,te)},ze.useEffect=function(j,te){return N.H.useEffect(j,te)},ze.useEffectEvent=function(j){return N.H.useEffectEvent(j)},ze.useId=function(){return N.H.useId()},ze.useImperativeHandle=function(j,te,le){return N.H.useImperativeHandle(j,te,le)},ze.useInsertionEffect=function(j,te){return N.H.useInsertionEffect(j,te)},ze.useLayoutEffect=function(j,te){return N.H.useLayoutEffect(j,te)},ze.useMemo=function(j,te){return N.H.useMemo(j,te)},ze.useOptimistic=function(j,te){return N.H.useOptimistic(j,te)},ze.useReducer=function(j,te,le){return N.H.useReducer(j,te,le)},ze.useRef=function(j){return N.H.useRef(j)},ze.useState=function(j){return N.H.useState(j)},ze.useSyncExternalStore=function(j,te,le){return N.H.useSyncExternalStore(j,te,le)},ze.useTransition=function(){return N.H.useTransition()},ze.version="19.2.4",ze}var Y0;function ey(){return Y0||(Y0=1,Hp.exports=WC()),Hp.exports}var F=ey();const Et=ZC(F);var $p={exports:{}},ju={},Gp={exports:{}},Qp={};var X0;function JC(){return X0||(X0=1,(function(t){function e(Z,fe){var oe=Z.length;Z.push(fe);e:for(;0<oe;){var Be=oe-1>>>1,He=Z[Be];if(0<a(He,fe))Z[Be]=fe,Z[oe]=He,oe=Be;else break e}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var fe=Z[0],oe=Z.pop();if(oe!==fe){Z[0]=oe;e:for(var Be=0,He=Z.length,j=He>>>1;Be<j;){var te=2*(Be+1)-1,le=Z[te],ye=te+1,Ie=Z[ye];if(0>a(le,oe))ye<He&&0>a(Ie,le)?(Z[Be]=Ie,Z[ye]=oe,Be=ye):(Z[Be]=le,Z[te]=oe,Be=te);else if(ye<He&&0>a(Ie,oe))Z[Be]=Ie,Z[ye]=oe,Be=ye;else break e}}return fe}function a(Z,fe){var oe=Z.sortIndex-fe.sortIndex;return oe!==0?oe:Z.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var m=[],g=[],v=1,b=null,T=3,x=!1,M=!1,P=!1,U=!1,W=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function he(Z){for(var fe=n(g);fe!==null;){if(fe.callback===null)i(g);else if(fe.startTime<=Z)i(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=n(g)}}function J(Z){if(P=!1,he(Z),!M)if(n(m)!==null)M=!0,ve||(ve=!0,D());else{var fe=n(g);fe!==null&&Fe(J,fe.startTime-Z)}}var ve=!1,N=-1,A=5,I=-1;function O(){return U?!0:!(t.unstable_now()-I<A)}function z(){if(U=!1,ve){var Z=t.unstable_now();I=Z;var fe=!0;try{e:{M=!1,P&&(P=!1,Q(N),N=-1),x=!0;var oe=T;try{t:{for(he(Z),b=n(m);b!==null&&!(b.expirationTime>Z&&O());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,T=b.priorityLevel;var He=Be(b.expirationTime<=Z);if(Z=t.unstable_now(),typeof He=="function"){b.callback=He,he(Z),fe=!0;break t}b===n(m)&&i(m),he(Z)}else i(m);b=n(m)}if(b!==null)fe=!0;else{var j=n(g);j!==null&&Fe(J,j.startTime-Z),fe=!1}}break e}finally{b=null,T=oe,x=!1}fe=void 0}}finally{fe?D():ve=!1}}}var D;if(typeof ne=="function")D=function(){ne(z)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=z,D=function(){ke.postMessage(null)}}else D=function(){W(z,0)};function Fe(Z,fe){N=W(function(){Z(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var fe=3;break;default:fe=T}var oe=T;T=fe;try{return Z()}finally{T=oe}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(Z,fe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var oe=T;T=Z;try{return fe()}finally{T=oe}},t.unstable_scheduleCallback=function(Z,fe,oe){var Be=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Be+oe:Be):oe=Be,Z){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=oe+He,Z={id:v++,callback:fe,priorityLevel:Z,startTime:oe,expirationTime:He,sortIndex:-1},oe>Be?(Z.sortIndex=oe,e(g,Z),n(m)===null&&Z===n(g)&&(P?(Q(N),N=-1):P=!0,Fe(J,oe-Be))):(Z.sortIndex=He,e(m,Z),M||x||(M=!0,ve||(ve=!0,D()))),Z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Z){var fe=T;return function(){var oe=T;T=fe;try{return Z.apply(this,arguments)}finally{T=oe}}}})(Qp)),Qp}var W0;function e1(){return W0||(W0=1,Gp.exports=JC()),Gp.exports}var Kp={exports:{}},On={};var J0;function t1(){if(J0)return On;J0=1;var t=ey();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},On.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},On.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},On.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},On.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:x}):v==="script"&&i.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},On.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},On.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=f(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},On.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},On.requestFormReset=function(m){i.d.r(m)},On.unstable_batchedUpdates=function(m,g){return m(g)},On.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},On.useFormStatus=function(){return c.H.useHostTransitionStatus()},On.version="19.2.4",On}var eE;function xT(){if(eE)return Kp.exports;eE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kp.exports=t1(),Kp.exports}var tE;function n1(){if(tE)return ju;tE=1;var t=e1(),e=ey(),n=xT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),r;if(p===u)return m(d),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var _=!1,S=d.child;S;){if(S===o){_=!0,o=d,u=p;break}if(S===u){_=!0,u=d,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=d;break}if(S===u){_=!0,u=p,o=d;break}S=S.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function v(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=v(r),s!==null)return s;r=r.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=z&&r[z]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case W:return"Profiler";case U:return"StrictMode";case J:return"Suspense";case ve:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case ne:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case he:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:ke(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ke(r(s))}catch{}}return null}var Fe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Be=[],He=-1;function j(r){return{current:r}}function te(r){0>He||(r.current=Be[He],Be[He]=null,He--)}function le(r,s){He++,Be[He]=r.current,r.current=s}var ye=j(null),Ie=j(null),Ve=j(null),Ce=j(null);function bt(r,s){switch(le(Ve,s),le(Ie,r),le(ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?g0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=g0(s),r=y0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}te(ye),le(ye,r)}function Ee(){te(ye),te(Ie),te(Ve)}function jt(r){r.memoizedState!==null&&le(Ce,r);var s=ye.current,o=y0(s,r.type);s!==o&&(le(Ie,r),le(ye,o))}function mn(r){Ie.current===r&&(te(ye),te(Ie)),Ce.current===r&&(te(Ce),Du._currentValue=oe)}var Hn,mi;function er(r){if(Hn===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Hn=s&&s[1]||"",mi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hn+r+mi}var $r=!1;function pi(r,s){if(!r||$r)return"";$r=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Y){var K=Y}Reflect.construct(r,[],se)}else{try{se.call()}catch(Y){K=Y}r.call(se.prototype)}}else{try{throw Error()}catch(Y){K=Y}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],S=p[1];if(_&&S){var k=_.split(`
`),G=S.split(`
`);for(d=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===k.length||d===G.length)for(u=k.length-1,d=G.length-1;1<=u&&0<=d&&k[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(k[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||k[u]!==G[d]){var re=`
`+k[u].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=u&&0<=d);break}}}finally{$r=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?er(o):""}function jl(r,s){switch(r.tag){case 26:case 27:case 5:return er(r.type);case 16:return er("Lazy");case 13:return r.child!==s&&s!==null?er("Suspense Fallback"):er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return pi(r.type,!1);case 11:return pi(r.type.render,!1);case 1:return pi(r.type,!0);case 31:return er("Activity");default:return""}}function fo(r){try{var s="",o=null;do s+=jl(r,o),o=r,r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ma=Object.prototype.hasOwnProperty,Gr=t.unstable_scheduleCallback,V=t.unstable_cancelCallback,$=t.unstable_shouldYield,ee=t.unstable_requestPaint,me=t.unstable_now,pe=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,Ge=t.unstable_NormalPriority,nt=t.unstable_LowPriority,zt=t.unstable_IdlePriority,Cr=t.log,xn=t.unstable_setDisableYieldValue,Qr=null,qt=null;function Cn(r){if(typeof Cr=="function"&&xn(r),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Qr,r)}catch{}}var pn=Math.clz32?Math.clz32:ga,mo=Math.log,pa=Math.LN2;function ga(r){return r>>>=0,r===0?32:31-(mo(r)/pa|0)|0}var ya=256,Kr=262144,as=4194304;function Ir(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function dr(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,p=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?d=Ir(u):(_&=S,_!==0?d=Ir(_):o||(o=S&~r,o!==0&&(d=Ir(o))))):(S=u&~p,S!==0?d=Ir(S):_!==0?d=Ir(_):o||(o=u&~r,o!==0&&(d=Ir(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function os(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function po(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zl(){var r=as;return as<<=1,(as&62914560)===0&&(as=4194304),r}function gi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ls(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function gn(r,s,o,u,d,p){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,k=r.expirationTimes,G=r.hiddenUpdates;for(o=_&~o;0<o;){var re=31-pn(o),se=1<<re;S[re]=0,k[re]=-1;var K=G[re];if(K!==null)for(G[re]=null,re=0;re<K.length;re++){var Y=K[re];Y!==null&&(Y.lane&=-536870913)}o&=~se}u!==0&&Ll(r,u,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(_&~s))}function Ll(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-pn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function us(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-pn(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function cs(r,s){var o=s&-s;return o=(o&42)!==0?1:Ul(o),(o&(r.suspendedLanes|s))!==0?0:o}function Ul(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Fl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function yi(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:U0(r.type))}function jc(r,s){var o=fe.p;try{return fe.p=r,s()}finally{fe.p=o}}var Zr=Math.random().toString(36).slice(2),kt="__reactFiber$"+Zr,yn="__reactProps$"+Zr,Yr="__reactContainer$"+Zr,hs="__reactEvents$"+Zr,Xr="__reactListeners$"+Zr,zc="__reactHandles$"+Zr,Bl="__reactResources$"+Zr,vi="__reactMarker$"+Zr;function va(r){delete r[kt],delete r[yn],delete r[hs],delete r[Xr],delete r[zc]}function _i(r){var s=r[kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Yr]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=S0(r);r!==null;){if(o=r[kt])return o;r=S0(r)}return s}r=o,o=r.parentNode}return null}function bi(r){if(r=r[kt]||r[Yr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function _a(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Or(r){var s=r[Bl];return s||(s=r[Bl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(r){r[vi]=!0}var go=new Set,fs={};function Vn(r,s){Wr(r,s),Wr(r+"Capture",s)}function Wr(r,s){for(fs[r]=s,r=0;r<s.length;r++)go.add(s[r])}var Hd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ql={},Hl={};function Lc(r){return ma.call(Hl,r)?!0:ma.call(ql,r)?!1:Hd.test(r)?Hl[r]=!0:(ql[r]=!0,!1)}function ds(r,s,o){if(Lc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ms(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function mr(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function Pn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Uc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $d(r,s,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){o=""+_,p.call(this,_)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yo(r){if(!r._valueTracker){var s=Uc(r)?"checked":"value";r._valueTracker=$d(r,s,""+r[s])}}function $l(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Uc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function vo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ei=/[\n"\\]/g;function Mt(r){return r.replace(Ei,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ps(r,s,o,u,d,p,_,S){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Pn(s)):r.value!==""+Pn(s)&&(r.value=""+Pn(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?_o(r,_,Pn(s)):o!=null?_o(r,_,Pn(o)):u!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Pn(S):r.removeAttribute("name")}function ba(r,s,o,u,d,p,_,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){yo(r);return}o=o!=null?""+Pn(o):"",s=s!=null?""+Pn(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),yo(r)}function _o(r,s,o){s==="number"&&vo(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function it(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Pn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Ea(r,s,o){if(s!=null&&(s=""+Pn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Pn(o):""}function gs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Fe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Pn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),yo(r)}function pr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Gd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Gd.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Fc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Gl(r,d,u)}else for(var p in s)s.hasOwnProperty(p)&&Gl(r,p,s[p])}function Ql(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(r){return Kd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ln(){}var bo=null;function Eo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wi=null,tr=null;function Bc(r){var s=bi(r);if(s&&(r=s.stateNode)){var o=r[yn]||null;e:switch(r=s.stateNode,s.type){case"input":if(ps(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[yn]||null;if(!d)throw Error(i(90));ps(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&$l(u)}break e;case"textarea":Ea(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&it(r,!!o.multiple,s,!1)}}}var Kl=!1;function qc(r,s,o){if(Kl)return r(s,o);Kl=!0;try{var u=r(s);return u}finally{if(Kl=!1,(wi!==null||tr!==null)&&(Lh(),wi&&(s=wi,r=tr,tr=wi=null,Bc(s),r)))for(s=0;s<r.length;s++)Bc(r[s])}}function $n(r,s){var o=r.stateNode;if(o===null)return null;var u=o[yn]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zl=!1;if(Nr)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{Zl=!1}var nr=null,wo=null,ti=null;function ys(){if(ti)return ti;var r,s=wo,o=s.length,u,d="value"in nr?nr.value:nr.textContent,p=d.length;for(r=0;r<o&&s[r]===d[r];r++);var _=o-r;for(u=1;u<=_&&s[o-u]===d[p-u];u++);return ti=d.slice(r,1<u?1-u:void 0)}function wa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function vs(){return!0}function wt(){return!1}function In(r){function s(o,u,d,p,_){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vs:wt,this.isPropagationStopped=wt,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),s}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=In(Ti),_s=b({},Ti,{view:0,detail:0}),Hc=In(_s),bs,To,jn,Sa=b({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==jn&&(jn&&r.type==="mousemove"?(bs=r.screenX-jn.screenX,To=r.screenY-jn.screenY):To=bs=0,jn=r),bs)},movementY:function(r){return"movementY"in r?r.movementY:To}}),$c=In(Sa),Aa=b({},Sa,{dataTransfer:0}),Gc=In(Aa),Yl=b({},_s,{relatedTarget:0}),Es=In(Yl),Qc=b({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),So=In(Qc),Zd=b({},Ti,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Kc=In(Zd),Ra=b({},Ti,{data:0}),Xl=In(Ra),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jl[r])?!!s[r]:!1}function ws(){return Yc}var Xc=b({},_s,{key:function(r){if(r.key){var s=Zc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=wa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wl[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(r){return r.type==="keypress"?wa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Wc=In(Xc),Si=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=In(Si),Jc=b({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),eh=In(Jc),th=b({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ao=In(th),zn=b({},Sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nh=In(zn),rh=b({},Ti,{newState:0,oldState:0}),Ts=In(rh),h=[9,13,27,32],y=Nr&&"CompositionEvent"in window,E=null;Nr&&"documentMode"in document&&(E=document.documentMode);var R=Nr&&"TextEvent"in window&&!E,q=Nr&&(!y||E&&8<E&&11>=E),X=" ",ge=!1;function ut(r,s){switch(r){case"keyup":return h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ht(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qe=!1;function un(r,s){switch(r){case"compositionend":return Ht(s);case"keypress":return s.which!==32?null:(ge=!0,X);case"textInput":return r=s.data,r===X&&ge?null:r;default:return null}}function cn(r,s){if(Qe)return r==="compositionend"||!y&&ut(r,s)?(r=ys(),ti=wo=nr=null,Qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return q&&s.locale!=="ko"?null:s.data;default:return null}}var Ss={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ss[r.type]:s==="textarea"}function xa(r,s,o,u){wi?tr?tr.push(u):tr=[u]:wi=u,s=Gh(s,"onChange"),0<s.length&&(o=new Ta("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Ai=null,tu=null;function wx(r){c0(r,0)}function ih(r){var s=_a(r);if($l(s))return r}function Iv(r,s){if(r==="change")return s}var Ov=!1;if(Nr){var Yd;if(Nr){var Xd="oninput"in document;if(!Xd){var Nv=document.createElement("div");Nv.setAttribute("oninput","return;"),Xd=typeof Nv.oninput=="function"}Yd=Xd}else Yd=!1;Ov=Yd&&(!document.documentMode||9<document.documentMode)}function Dv(){Ai&&(Ai.detachEvent("onpropertychange",kv),tu=Ai=null)}function kv(r){if(r.propertyName==="value"&&ih(tu)){var s=[];xa(s,tu,r,Eo(r)),qc(wx,s)}}function Tx(r,s,o){r==="focusin"?(Dv(),Ai=s,tu=o,Ai.attachEvent("onpropertychange",kv)):r==="focusout"&&Dv()}function Sx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ih(tu)}function Ax(r,s){if(r==="click")return ih(s)}function Rx(r,s){if(r==="input"||r==="change")return ih(s)}function xx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var rr=typeof Object.is=="function"?Object.is:xx;function nu(r,s){if(rr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!ma.call(s,d)||!rr(r[d],s[d]))return!1}return!0}function Mv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vv(r,s){var o=Mv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Mv(o)}}function Pv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Pv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function jv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=vo(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=vo(r.document)}return s}function Wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Cx=Nr&&"documentMode"in document&&11>=document.documentMode,Ro=null,Jd=null,ru=null,em=!1;function zv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;em||Ro==null||Ro!==vo(u)||(u=Ro,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ru&&nu(ru,u)||(ru=u,u=Gh(Jd,"onSelect"),0<u.length&&(s=new Ta("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ro)))}function Ca(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var xo={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},tm={},Lv={};Nr&&(Lv=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Ia(r){if(tm[r])return tm[r];if(!xo[r])return r;var s=xo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Lv)return tm[r]=s[o];return r}var Uv=Ia("animationend"),Fv=Ia("animationiteration"),Bv=Ia("animationstart"),Ix=Ia("transitionrun"),Ox=Ia("transitionstart"),Nx=Ia("transitioncancel"),qv=Ia("transitionend"),Hv=new Map,nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nm.push("scrollEnd");function Dr(r,s){Hv.set(r,s),Vn(s,[r])}var sh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},gr=[],Co=0,rm=0;function ah(){for(var r=Co,s=rm=Co=0;s<r;){var o=gr[s];gr[s++]=null;var u=gr[s];gr[s++]=null;var d=gr[s];gr[s++]=null;var p=gr[s];if(gr[s++]=null,u!==null&&d!==null){var _=u.pending;_===null?d.next=d:(d.next=_.next,_.next=d),u.pending=d}p!==0&&$v(o,d,p)}}function oh(r,s,o,u){gr[Co++]=r,gr[Co++]=s,gr[Co++]=o,gr[Co++]=u,rm|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function im(r,s,o,u){return oh(r,s,o,u),lh(r)}function Oa(r,s){return oh(r,null,null,s),lh(r)}function $v(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&s!==null&&(d=31-pn(o),r=p.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),p):null}function lh(r){if(50<Au)throw Au=0,dp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Io={};function Dx(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,o,u){return new Dx(r,s,o,u)}function sm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ri(r,s){var o=r.alternate;return o===null?(o=ir(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Gv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function uh(r,s,o,u,d,p){var _=0;if(u=r,typeof r=="function")sm(r)&&(_=1);else if(typeof r=="string")_=jC(r,o,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=ir(31,o,s,d),r.elementType=I,r.lanes=p,r;case P:return Na(o.children,d,p,s);case U:_=8,d|=24;break;case W:return r=ir(12,o,s,d|2),r.elementType=W,r.lanes=p,r;case J:return r=ir(13,o,s,d),r.elementType=J,r.lanes=p,r;case ve:return r=ir(19,o,s,d),r.elementType=ve,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ne:_=10;break e;case Q:_=9;break e;case he:_=11;break e;case N:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=ir(_,o,s,d),s.elementType=r,s.type=u,s.lanes=p,s}function Na(r,s,o,u){return r=ir(7,r,u,s),r.lanes=o,r}function am(r,s,o){return r=ir(6,r,null,s),r.lanes=o,r}function Qv(r){var s=ir(18,null,null,0);return s.stateNode=r,s}function om(r,s,o){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Kv=new WeakMap;function yr(r,s){if(typeof r=="object"&&r!==null){var o=Kv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:fo(s)},Kv.set(r,s),s)}return{value:r,source:s,stack:fo(s)}}var Oo=[],No=0,ch=null,iu=0,vr=[],_r=0,As=null,ni=1,ri="";function xi(r,s){Oo[No++]=iu,Oo[No++]=ch,ch=r,iu=s}function Zv(r,s,o){vr[_r++]=ni,vr[_r++]=ri,vr[_r++]=As,As=r;var u=ni;r=ri;var d=32-pn(u)-1;u&=~(1<<d),o+=1;var p=32-pn(s)+d;if(30<p){var _=d-d%5;p=(u&(1<<_)-1).toString(32),u>>=_,d-=_,ni=1<<32-pn(s)+d|o<<d|u,ri=p+r}else ni=1<<p|o<<d|u,ri=r}function lm(r){r.return!==null&&(xi(r,1),Zv(r,1,0))}function um(r){for(;r===ch;)ch=Oo[--No],Oo[No]=null,iu=Oo[--No],Oo[No]=null;for(;r===As;)As=vr[--_r],vr[_r]=null,ri=vr[--_r],vr[_r]=null,ni=vr[--_r],vr[_r]=null}function Yv(r,s){vr[_r++]=ni,vr[_r++]=ri,vr[_r++]=As,ni=s.id,ri=s.overflow,As=r}var vn=null,Tt=null,et=!1,Rs=null,br=!1,cm=Error(i(519));function xs(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(yr(s,r)),cm}function Xv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[kt]=r,s[yn]=u,o){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(o=0;o<xu.length;o++)Ye(xu[o],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),ba(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),gs(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||m0(s.textContent,o)?(u.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),u.onScroll!=null&&Ye("scroll",s),u.onScrollEnd!=null&&Ye("scrollend",s),u.onClick!=null&&(s.onclick=ln),s=!0):s=!1,s||xs(r,!0)}function Wv(r){for(vn=r.return;vn;)switch(vn.tag){case 5:case 31:case 13:br=!1;return;case 27:case 3:br=!0;return;default:vn=vn.return}}function Do(r){if(r!==vn)return!1;if(!et)return Wv(r),et=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Cp(r.type,r.memoizedProps)),o=!o),o&&Tt&&xs(r),Wv(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Tt=T0(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Tt=T0(r)}else s===27?(s=Tt,Fs(r.type)?(r=kp,kp=null,Tt=r):Tt=s):Tt=vn?wr(r.stateNode.nextSibling):null;return!0}function Da(){Tt=vn=null,et=!1}function hm(){var r=Rs;return r!==null&&(Yn===null?Yn=r:Yn.push.apply(Yn,r),Rs=null),r}function su(r){Rs===null?Rs=[r]:Rs.push(r)}var fm=j(null),ka=null,Ci=null;function Cs(r,s,o){le(fm,s._currentValue),s._currentValue=o}function Ii(r){r._currentValue=fm.current,te(fm)}function dm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function mm(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var _=d.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=d;for(var k=0;k<s.length;k++)if(S.context===s[k]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),dm(p.return,o,r),u||(_=null);break e}p=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=o,p=_.alternate,p!==null&&(p.lanes|=o),dm(_,o,r),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===r){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function ko(r,s,o,u){r=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var S=d.type;rr(d.pendingProps.value,_.value)||(r!==null?r.push(S):r=[S])}}else if(d===Ce.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}d=d.return}r!==null&&mm(s,r,o,u),s.flags|=262144}function hh(r){for(r=r.firstContext;r!==null;){if(!rr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ma(r){ka=r,Ci=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return Jv(ka,r)}function fh(r,s){return ka===null&&Ma(r),Jv(r,s)}function Jv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ci===null){if(r===null)throw Error(i(308));Ci=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ci=Ci.next=s;return o}var kx=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},Mx=t.unstable_scheduleCallback,Vx=t.unstable_NormalPriority,$t={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pm(){return{controller:new kx,data:new Map,refCount:0}}function au(r){r.refCount--,r.refCount===0&&Mx(Vx,function(){r.controller.abort()})}var ou=null,gm=0,Mo=0,Vo=null;function Px(r,s){if(ou===null){var o=ou=[];gm=0,Mo=_p(),Vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return gm++,s.then(e_,e_),s}function e_(){if(--gm===0&&ou!==null){Vo!==null&&(Vo.status="fulfilled");var r=ou;ou=null,Mo=0,Vo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function jx(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var t_=Z.S;Z.S=function(r,s){zb=me(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Px(r,s),t_!==null&&t_(r,s)};var Va=j(null);function ym(){var r=Va.current;return r!==null?r:vt.pooledCache}function dh(r,s){s===null?le(Va,Va.current):le(Va,s.pool)}function n_(){var r=ym();return r===null?null:{parent:$t._currentValue,pool:r}}var Po=Error(i(460)),vm=Error(i(474)),mh=Error(i(542)),ph={then:function(){}};function r_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function i_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(ln,ln),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,a_(r),r;default:if(typeof s.status=="string")s.then(ln,ln);else{if(r=vt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,a_(r),r}throw ja=s,Po}}function Pa(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ja=o,Po):o}}var ja=null;function s_(){if(ja===null)throw Error(i(459));var r=ja;return ja=null,r}function a_(r){if(r===Po||r===mh)throw Error(i(483))}var jo=null,lu=0;function gh(r){var s=lu;return lu+=1,jo===null&&(jo=[]),i_(jo,r,s)}function uu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function yh(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function o_(r){function s(B,L){if(r){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function o(B,L){if(!r)return null;for(;L!==null;)s(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function d(B,L){return B=Ri(B,L),B.index=0,B.sibling=null,B}function p(B,L,H){return B.index=H,r?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function _(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function S(B,L,H,ie){return L===null||L.tag!==6?(L=am(H,B.mode,ie),L.return=B,L):(L=d(L,H),L.return=B,L)}function k(B,L,H,ie){var Oe=H.type;return Oe===P?re(B,L,H.props.children,ie,H.key):L!==null&&(L.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===A&&Pa(Oe)===L.type)?(L=d(L,H.props),uu(L,H),L.return=B,L):(L=uh(H.type,H.key,H.props,null,B.mode,ie),uu(L,H),L.return=B,L)}function G(B,L,H,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=om(H,B.mode,ie),L.return=B,L):(L=d(L,H.children||[]),L.return=B,L)}function re(B,L,H,ie,Oe){return L===null||L.tag!==7?(L=Na(H,B.mode,ie,Oe),L.return=B,L):(L=d(L,H),L.return=B,L)}function se(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=am(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return H=uh(L.type,L.key,L.props,null,B.mode,H),uu(H,L),H.return=B,H;case M:return L=om(L,B.mode,H),L.return=B,L;case A:return L=Pa(L),se(B,L,H)}if(Fe(L)||D(L))return L=Na(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return se(B,gh(L),H);if(L.$$typeof===ne)return se(B,fh(B,L),H);yh(B,L)}return null}function K(B,L,H,ie){var Oe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Oe!==null?null:S(B,L,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===Oe?k(B,L,H,ie):null;case M:return H.key===Oe?G(B,L,H,ie):null;case A:return H=Pa(H),K(B,L,H,ie)}if(Fe(H)||D(H))return Oe!==null?null:re(B,L,H,ie,null);if(typeof H.then=="function")return K(B,L,gh(H),ie);if(H.$$typeof===ne)return K(B,L,fh(B,H),ie);yh(B,H)}return null}function Y(B,L,H,ie,Oe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return B=B.get(H)||null,S(L,B,""+ie,Oe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return B=B.get(ie.key===null?H:ie.key)||null,k(L,B,ie,Oe);case M:return B=B.get(ie.key===null?H:ie.key)||null,G(L,B,ie,Oe);case A:return ie=Pa(ie),Y(B,L,H,ie,Oe)}if(Fe(ie)||D(ie))return B=B.get(H)||null,re(L,B,ie,Oe,null);if(typeof ie.then=="function")return Y(B,L,H,gh(ie),Oe);if(ie.$$typeof===ne)return Y(B,L,H,fh(L,ie),Oe);yh(L,ie)}return null}function we(B,L,H,ie){for(var Oe=null,st=null,xe=L,$e=L=0,We=null;xe!==null&&$e<H.length;$e++){xe.index>$e?(We=xe,xe=null):We=xe.sibling;var at=K(B,xe,H[$e],ie);if(at===null){xe===null&&(xe=We);break}r&&xe&&at.alternate===null&&s(B,xe),L=p(at,L,$e),st===null?Oe=at:st.sibling=at,st=at,xe=We}if($e===H.length)return o(B,xe),et&&xi(B,$e),Oe;if(xe===null){for(;$e<H.length;$e++)xe=se(B,H[$e],ie),xe!==null&&(L=p(xe,L,$e),st===null?Oe=xe:st.sibling=xe,st=xe);return et&&xi(B,$e),Oe}for(xe=u(xe);$e<H.length;$e++)We=Y(xe,B,$e,H[$e],ie),We!==null&&(r&&We.alternate!==null&&xe.delete(We.key===null?$e:We.key),L=p(We,L,$e),st===null?Oe=We:st.sibling=We,st=We);return r&&xe.forEach(function(Gs){return s(B,Gs)}),et&&xi(B,$e),Oe}function De(B,L,H,ie){if(H==null)throw Error(i(151));for(var Oe=null,st=null,xe=L,$e=L=0,We=null,at=H.next();xe!==null&&!at.done;$e++,at=H.next()){xe.index>$e?(We=xe,xe=null):We=xe.sibling;var Gs=K(B,xe,at.value,ie);if(Gs===null){xe===null&&(xe=We);break}r&&xe&&Gs.alternate===null&&s(B,xe),L=p(Gs,L,$e),st===null?Oe=Gs:st.sibling=Gs,st=Gs,xe=We}if(at.done)return o(B,xe),et&&xi(B,$e),Oe;if(xe===null){for(;!at.done;$e++,at=H.next())at=se(B,at.value,ie),at!==null&&(L=p(at,L,$e),st===null?Oe=at:st.sibling=at,st=at);return et&&xi(B,$e),Oe}for(xe=u(xe);!at.done;$e++,at=H.next())at=Y(xe,B,$e,at.value,ie),at!==null&&(r&&at.alternate!==null&&xe.delete(at.key===null?$e:at.key),L=p(at,L,$e),st===null?Oe=at:st.sibling=at,st=at);return r&&xe.forEach(function(KC){return s(B,KC)}),et&&xi(B,$e),Oe}function yt(B,L,H,ie){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var Oe=H.key;L!==null;){if(L.key===Oe){if(Oe=H.type,Oe===P){if(L.tag===7){o(B,L.sibling),ie=d(L,H.props.children),ie.return=B,B=ie;break e}}else if(L.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===A&&Pa(Oe)===L.type){o(B,L.sibling),ie=d(L,H.props),uu(ie,H),ie.return=B,B=ie;break e}o(B,L);break}else s(B,L);L=L.sibling}H.type===P?(ie=Na(H.props.children,B.mode,ie,H.key),ie.return=B,B=ie):(ie=uh(H.type,H.key,H.props,null,B.mode,ie),uu(ie,H),ie.return=B,B=ie)}return _(B);case M:e:{for(Oe=H.key;L!==null;){if(L.key===Oe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){o(B,L.sibling),ie=d(L,H.children||[]),ie.return=B,B=ie;break e}else{o(B,L);break}else s(B,L);L=L.sibling}ie=om(H,B.mode,ie),ie.return=B,B=ie}return _(B);case A:return H=Pa(H),yt(B,L,H,ie)}if(Fe(H))return we(B,L,H,ie);if(D(H)){if(Oe=D(H),typeof Oe!="function")throw Error(i(150));return H=Oe.call(H),De(B,L,H,ie)}if(typeof H.then=="function")return yt(B,L,gh(H),ie);if(H.$$typeof===ne)return yt(B,L,fh(B,H),ie);yh(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(o(B,L.sibling),ie=d(L,H),ie.return=B,B=ie):(o(B,L),ie=am(H,B.mode,ie),ie.return=B,B=ie),_(B)):o(B,L)}return function(B,L,H,ie){try{lu=0;var Oe=yt(B,L,H,ie);return jo=null,Oe}catch(xe){if(xe===Po||xe===mh)throw xe;var st=ir(29,xe,null,B.mode);return st.lanes=ie,st.return=B,st}}}var za=o_(!0),l_=o_(!1),Is=!1;function _m(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ns(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=lh(r),$v(r,null,o),s}return oh(r,u,s,o),lh(r)}function cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,us(r,o)}}function Em(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var wm=!1;function hu(){if(wm){var r=Vo;if(r!==null)throw r}}function fu(r,s,o,u){wm=!1;var d=r.updateQueue;Is=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var k=S,G=k.next;k.next=null,_===null?p=G:_.next=G,_=k;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==_&&(S===null?re.firstBaseUpdate=G:S.next=G,re.lastBaseUpdate=k))}if(p!==null){var se=d.baseState;_=0,re=G=k=null,S=p;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(Xe&K)===K:(u&K)===K){K!==0&&K===Mo&&(wm=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var we=r,De=S;K=s;var yt=o;switch(De.tag){case 1:if(we=De.payload,typeof we=="function"){se=we.call(yt,se,K);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=De.payload,K=typeof we=="function"?we.call(yt,se,K):we,K==null)break e;se=b({},se,K);break e;case 2:Is=!0}}K=S.callback,K!==null&&(r.flags|=64,Y&&(r.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(G=re=Y,k=se):re=re.next=Y,_|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);re===null&&(k=se),d.baseState=k,d.firstBaseUpdate=G,d.lastBaseUpdate=re,p===null&&(d.shared.lanes=0),Ps|=_,r.lanes=_,r.memoizedState=se}}function u_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function c_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)u_(o[r],s)}var zo=j(null),vh=j(0);function h_(r,s){r=zi,le(vh,r),le(zo,s),zi=r|s.baseLanes}function Tm(){le(vh,zi),le(zo,zo.current)}function Sm(){zi=vh.current,te(zo),te(vh)}var sr=j(null),Er=null;function Ds(r){var s=r.alternate;le(Ut,Ut.current&1),le(sr,r),Er===null&&(s===null||zo.current!==null||s.memoizedState!==null)&&(Er=r)}function Am(r){le(Ut,Ut.current),le(sr,r),Er===null&&(Er=r)}function f_(r){r.tag===22?(le(Ut,Ut.current),le(sr,r),Er===null&&(Er=r)):ks()}function ks(){le(Ut,Ut.current),le(sr,sr.current)}function ar(r){te(sr),Er===r&&(Er=null),te(Ut)}var Ut=j(0);function _h(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Np(o)||Dp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oi=0,qe=null,pt=null,Gt=null,bh=!1,Lo=!1,La=!1,Eh=0,du=0,Uo=null,zx=0;function Vt(){throw Error(i(321))}function Rm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!rr(r[o],s[o]))return!1;return!0}function xm(r,s,o,u,d,p){return Oi=p,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?Z_:Bm,La=!1,p=o(u,d),La=!1,Lo&&(p=m_(s,o,u,d)),d_(r),p}function d_(r){Z.H=gu;var s=pt!==null&&pt.next!==null;if(Oi=0,Gt=pt=qe=null,bh=!1,du=0,Uo=null,s)throw Error(i(300));r===null||Qt||(r=r.dependencies,r!==null&&hh(r)&&(Qt=!0))}function m_(r,s,o,u){qe=r;var d=0;do{if(Lo&&(Uo=null),du=0,Lo=!1,25<=d)throw Error(i(301));if(d+=1,Gt=pt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=Y_,p=s(o,u)}while(Lo);return p}function Lx(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?mu(s):s,r=r.useState()[0],(pt!==null?pt.memoizedState:null)!==r&&(qe.flags|=1024),s}function Cm(){var r=Eh!==0;return Eh=0,r}function Im(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Om(r){if(bh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bh=!1}Oi=0,Gt=pt=qe=null,Lo=!1,du=Eh=0,Uo=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?qe.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Ft(){if(pt===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=pt.next;var s=Gt===null?qe.memoizedState:Gt.next;if(s!==null)Gt=s,pt=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));pt=r,r={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Gt===null?qe.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(r){var s=du;return du+=1,Uo===null&&(Uo=[]),r=i_(Uo,r,s),s=qe,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Z_:Bm),r}function Th(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return mu(r);if(r.$$typeof===ne)return _n(r)}throw Error(i(438,String(r)))}function Nm(r){var s=null,o=qe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=qe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=wh(),qe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=O;return s.index++,o}function Ni(r,s){return typeof s=="function"?s(r):s}function Sh(r){var s=Ft();return Dm(s,pt,r)}function Dm(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,p=u.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}s.baseQueue=d=p,u.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{s=d.next;var S=_=null,k=null,G=s,re=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Xe&se)===se:(Oi&se)===se){var K=G.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===Mo&&(re=!0);else if((Oi&K)===K){G=G.next,K===Mo&&(re=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=se,_=p):k=k.next=se,qe.lanes|=K,Ps|=K;se=G.action,La&&o(p,se),p=G.hasEagerState?G.eagerState:o(p,se)}else K={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},k===null?(S=k=K,_=p):k=k.next=K,qe.lanes|=se,Ps|=se;G=G.next}while(G!==null&&G!==s);if(k===null?_=p:k.next=S,!rr(p,r.memoizedState)&&(Qt=!0,re&&(o=Vo,o!==null)))throw o;r.memoizedState=p,r.baseState=_,r.baseQueue=k,u.lastRenderedState=p}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function km(r){var s=Ft(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=r(p,_.action),_=_.next;while(_!==d);rr(p,s.memoizedState)||(Qt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function p_(r,s,o){var u=qe,d=Ft(),p=et;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var _=!rr((pt||d).memoizedState,o);if(_&&(d.memoizedState=o,Qt=!0),d=d.queue,Pm(v_.bind(null,u,d,r),[r]),d.getSnapshot!==s||_||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Fo(9,{destroy:void 0},y_.bind(null,u,d,o,s),null),vt===null)throw Error(i(349));p||(Oi&127)!==0||g_(u,s,o)}return o}function g_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=qe.updateQueue,s===null?(s=wh(),qe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function y_(r,s,o,u){s.value=o,s.getSnapshot=u,__(s)&&b_(r)}function v_(r,s,o){return o(function(){__(s)&&b_(r)})}function __(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!rr(r,o)}catch{return!0}}function b_(r){var s=Oa(r,2);s!==null&&Xn(s,r,2)}function Mm(r){var s=Ln();if(typeof r=="function"){var o=r;if(r=o(),La){Cn(!0);try{o()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:r},s}function E_(r,s,o,u){return r.baseState=o,Dm(r,pt,typeof u=="function"?u:Ni)}function Ux(r,s,o,u,d){if(xh(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,w_(s,p)):(p.next=o.next,s.pending=o.next=p)}}function w_(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var p=Z.T,_={};Z.T=_;try{var S=o(d,u),k=Z.S;k!==null&&k(_,S),T_(r,s,S)}catch(G){Vm(r,s,G)}finally{p!==null&&_.types!==null&&(p.types=_.types),Z.T=p}}else try{p=o(d,u),T_(r,s,p)}catch(G){Vm(r,s,G)}}function T_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){S_(r,s,u)},function(u){return Vm(r,s,u)}):S_(r,s,o)}function S_(r,s,o){s.status="fulfilled",s.value=o,A_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,w_(r,o)))}function Vm(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,A_(s),s=s.next;while(s!==u)}r.action=null}function A_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function R_(r,s){return s}function x_(r,s){if(et){var o=vt.formState;if(o!==null){e:{var u=qe;if(et){if(Tt){t:{for(var d=Tt,p=br;d.nodeType!==8;){if(!p){d=null;break t}if(d=wr(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Tt=wr(d.nextSibling),u=d.data==="F!";break e}}xs(u)}u=!1}u&&(s=o[0])}}return o=Ln(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R_,lastRenderedState:s},o.queue=u,o=G_.bind(null,qe,u),u.dispatch=o,u=Mm(!1),p=Fm.bind(null,qe,!1,u.queue),u=Ln(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=Ux.bind(null,qe,d,p,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function C_(r){var s=Ft();return I_(s,pt,r)}function I_(r,s,o){if(s=Dm(r,s,R_)[0],r=Sh(Ni)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=mu(s)}catch(_){throw _===Po?mh:_}else u=s;s=Ft();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(qe.flags|=2048,Fo(9,{destroy:void 0},Fx.bind(null,d,o),null)),[u,p,r]}function Fx(r,s){r.action=s}function O_(r){var s=Ft(),o=pt;if(o!==null)return I_(s,o,r);Ft(),s=s.memoizedState,o=Ft();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Fo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=qe.updateQueue,s===null&&(s=wh(),qe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function N_(){return Ft().memoizedState}function Ah(r,s,o,u){var d=Ln();qe.flags|=r,d.memoizedState=Fo(1|s,{destroy:void 0},o,u===void 0?null:u)}function Rh(r,s,o,u){var d=Ft();u=u===void 0?null:u;var p=d.memoizedState.inst;pt!==null&&u!==null&&Rm(u,pt.memoizedState.deps)?d.memoizedState=Fo(s,p,o,u):(qe.flags|=r,d.memoizedState=Fo(1|s,p,o,u))}function D_(r,s){Ah(8390656,8,r,s)}function Pm(r,s){Rh(2048,8,r,s)}function Bx(r){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=wh(),qe.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function k_(r){var s=Ft().memoizedState;return Bx({ref:s,nextImpl:r}),function(){if((lt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function M_(r,s){return Rh(4,2,r,s)}function V_(r,s){return Rh(4,4,r,s)}function P_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function j_(r,s,o){o=o!=null?o.concat([r]):null,Rh(4,4,P_.bind(null,s,r),o)}function jm(){}function z_(r,s){var o=Ft();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rm(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function L_(r,s){var o=Ft();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rm(s,u[1]))return u[0];if(u=r(),La){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[u,s],u}function zm(r,s,o){return o===void 0||(Oi&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=Ub(),qe.lanes|=r,Ps|=r,o)}function U_(r,s,o,u){return rr(o,s)?o:zo.current!==null?(r=zm(r,o,u),rr(r,s)||(Qt=!0),r):(Oi&42)===0||(Oi&1073741824)!==0&&(Xe&261930)===0?(Qt=!0,r.memoizedState=o):(r=Ub(),qe.lanes|=r,Ps|=r,s)}function F_(r,s,o,u,d){var p=fe.p;fe.p=p!==0&&8>p?p:8;var _=Z.T,S={};Z.T=S,Fm(r,!1,s,o);try{var k=d(),G=Z.S;if(G!==null&&G(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var re=jx(k,u);pu(r,s,re,ur(r))}else pu(r,s,u,ur(r))}catch(se){pu(r,s,{then:function(){},status:"rejected",reason:se},ur())}finally{fe.p=p,_!==null&&S.types!==null&&(_.types=S.types),Z.T=_}}function qx(){}function Lm(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=B_(r).queue;F_(r,d,s,oe,o===null?qx:function(){return q_(r),o(u)})}function B_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:oe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function q_(r){var s=B_(r);s.next===null&&(s=r.alternate.memoizedState),pu(r,s.next.queue,{},ur())}function Um(){return _n(Du)}function H_(){return Ft().memoizedState}function $_(){return Ft().memoizedState}function Hx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=ur();r=Os(o);var u=Ns(s,r,o);u!==null&&(Xn(u,s,o),cu(u,s,o)),s={cache:pm()},r.payload=s;return}s=s.return}}function $x(r,s,o){var u=ur();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xh(r)?Q_(s,o):(o=im(r,s,o,u),o!==null&&(Xn(o,r,u),K_(o,s,u)))}function G_(r,s,o){var u=ur();pu(r,s,o,u)}function pu(r,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xh(r))Q_(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var _=s.lastRenderedState,S=p(_,o);if(d.hasEagerState=!0,d.eagerState=S,rr(S,_))return oh(r,s,d,0),vt===null&&ah(),!1}catch{}if(o=im(r,s,d,u),o!==null)return Xn(o,r,u),K_(o,s,u),!0}return!1}function Fm(r,s,o,u){if(u={lane:2,revertLane:_p(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xh(r)){if(s)throw Error(i(479))}else s=im(r,o,u,2),s!==null&&Xn(s,r,2)}function xh(r){var s=r.alternate;return r===qe||s!==null&&s===qe}function Q_(r,s){Lo=bh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function K_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,us(r,o)}}var gu={readContext:_n,use:Th,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};gu.useEffectEvent=Vt;var Z_={readContext:_n,use:Th,useCallback:function(r,s){return Ln().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:D_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Ah(4194308,4,P_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Ah(4194308,4,r,s)},useInsertionEffect:function(r,s){Ah(4,2,r,s)},useMemo:function(r,s){var o=Ln();s=s===void 0?null:s;var u=r();if(La){Cn(!0);try{r()}finally{Cn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Ln();if(o!==void 0){var d=o(s);if(La){Cn(!0);try{o(s)}finally{Cn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=$x.bind(null,qe,r),[u.memoizedState,r]},useRef:function(r){var s=Ln();return r={current:r},s.memoizedState=r},useState:function(r){r=Mm(r);var s=r.queue,o=G_.bind(null,qe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:jm,useDeferredValue:function(r,s){var o=Ln();return zm(o,r,s)},useTransition:function(){var r=Mm(!1);return r=F_.bind(null,qe,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=qe,d=Ln();if(et){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),vt===null)throw Error(i(349));(Xe&127)!==0||g_(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,D_(v_.bind(null,u,p,r),[r]),u.flags|=2048,Fo(9,{destroy:void 0},y_.bind(null,u,p,o,s),null),o},useId:function(){var r=Ln(),s=vt.identifierPrefix;if(et){var o=ri,u=ni;o=(u&~(1<<32-pn(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=zx++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Um,useFormState:x_,useActionState:x_,useOptimistic:function(r){var s=Ln();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Fm.bind(null,qe,!0,o),o.dispatch=s,[r,s]},useMemoCache:Nm,useCacheRefresh:function(){return Ln().memoizedState=Hx.bind(null,qe)},useEffectEvent:function(r){var s=Ln(),o={impl:r};return s.memoizedState=o,function(){if((lt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Bm={readContext:_n,use:Th,useCallback:z_,useContext:_n,useEffect:Pm,useImperativeHandle:j_,useInsertionEffect:M_,useLayoutEffect:V_,useMemo:L_,useReducer:Sh,useRef:N_,useState:function(){return Sh(Ni)},useDebugValue:jm,useDeferredValue:function(r,s){var o=Ft();return U_(o,pt.memoizedState,r,s)},useTransition:function(){var r=Sh(Ni)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:mu(r),s]},useSyncExternalStore:p_,useId:H_,useHostTransitionStatus:Um,useFormState:C_,useActionState:C_,useOptimistic:function(r,s){var o=Ft();return E_(o,pt,r,s)},useMemoCache:Nm,useCacheRefresh:$_};Bm.useEffectEvent=k_;var Y_={readContext:_n,use:Th,useCallback:z_,useContext:_n,useEffect:Pm,useImperativeHandle:j_,useInsertionEffect:M_,useLayoutEffect:V_,useMemo:L_,useReducer:km,useRef:N_,useState:function(){return km(Ni)},useDebugValue:jm,useDeferredValue:function(r,s){var o=Ft();return pt===null?zm(o,r,s):U_(o,pt.memoizedState,r,s)},useTransition:function(){var r=km(Ni)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:mu(r),s]},useSyncExternalStore:p_,useId:H_,useHostTransitionStatus:Um,useFormState:O_,useActionState:O_,useOptimistic:function(r,s){var o=Ft();return pt!==null?E_(o,pt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Nm,useCacheRefresh:$_};Y_.useEffectEvent=k_;function qm(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:b({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hm={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=ur(),d=Os(u);d.payload=s,o!=null&&(d.callback=o),s=Ns(r,d,u),s!==null&&(Xn(s,r,u),cu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=ur(),d=Os(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Ns(r,d,u),s!==null&&(Xn(s,r,u),cu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=ur(),u=Os(o);u.tag=2,s!=null&&(u.callback=s),s=Ns(r,u,o),s!==null&&(Xn(s,r,o),cu(s,r,o))}};function X_(r,s,o,u,d,p,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,_):s.prototype&&s.prototype.isPureReactComponent?!nu(o,u)||!nu(d,p):!0}function W_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Hm.enqueueReplaceState(s,s.state,null)}function Ua(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=b({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function J_(r){sh(r)}function eb(r){console.error(r)}function tb(r){sh(r)}function Ch(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function nb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $m(r,s,o){return o=Os(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(r,s)},o}function rb(r){return r=Os(r),r.tag=3,r}function ib(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;r.payload=function(){return d(p)},r.callback=function(){nb(s,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){nb(s,o,u),typeof d!="function"&&(js===null?js=new Set([this]):js.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Gx(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ko(s,o,d,!0),o=sr.current,o!==null){switch(o.tag){case 31:case 13:return Er===null?Uh():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===ph?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),gp(r,u,d)),!1;case 22:return o.flags|=65536,u===ph?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),gp(r,u,d)),!1}throw Error(i(435,o.tag))}return gp(r,u,d),Uh(),!1}if(et)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==cm&&(r=Error(i(422),{cause:u}),su(yr(r,o)))):(u!==cm&&(s=Error(i(423),{cause:u}),su(yr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=yr(u,o),d=$m(r.stateNode,u,d),Em(r,d),Pt!==4&&(Pt=2)),!1;var p=Error(i(520),{cause:u});if(p=yr(p,o),Su===null?Su=[p]:Su.push(p),Pt!==4&&(Pt=2),s===null)return!0;u=yr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=$m(o.stateNode,u,r),Em(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(js===null||!js.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=rb(d),ib(d,r,o,u),Em(o,d),!1}o=o.return}while(o!==null);return!1}var Gm=Error(i(461)),Qt=!1;function bn(r,s,o,u){s.child=r===null?l_(s,null,o,u):za(s,r.child,o,u)}function sb(r,s,o,u,d){o=o.render;var p=s.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return Ma(s),u=xm(r,s,o,_,p,d),S=Cm(),r!==null&&!Qt?(Im(r,s,d),Di(r,s,d)):(et&&S&&lm(s),s.flags|=1,bn(r,s,u,d),s.child)}function ab(r,s,o,u,d){if(r===null){var p=o.type;return typeof p=="function"&&!sm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,ob(r,s,p,u,d)):(r=uh(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!ep(r,d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:nu,o(_,u)&&r.ref===s.ref)return Di(r,s,d)}return s.flags|=1,r=Ri(p,u),r.ref=s.ref,r.return=s,s.child=r}function ob(r,s,o,u,d){if(r!==null){var p=r.memoizedProps;if(nu(p,u)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=u=p,ep(r,d))(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,Di(r,s,d)}return Qm(r,s,o,u,d)}function lb(r,s,o,u){var d=u.children,p=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,r!==null){for(u=s.child=r.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,s.child=null;return ub(r,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&dh(s,p!==null?p.cachePool:null),p!==null?h_(s,p):Tm(),f_(s);else return u=s.lanes=536870912,ub(r,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(dh(s,p.cachePool),h_(s,p),ks(),s.memoizedState=null):(r!==null&&dh(s,null),Tm(),ks());return bn(r,s,d,o),s.child}function yu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ub(r,s,o,u,d){var p=ym();return p=p===null?null:{parent:$t._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&dh(s,null),Tm(),f_(s),r!==null&&ko(r,s,u,!0),s.childLanes=d,null}function Ih(r,s){return s=Nh({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function cb(r,s,o){return za(s,r.child,null,o),r=Ih(s,s.pendingProps),r.flags|=2,ar(s),s.memoizedState=null,r}function Qx(r,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(et){if(u.mode==="hidden")return r=Ih(s,u),s.lanes=536870912,yu(null,r);if(Am(s),(r=Tt)?(r=w0(r,br),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:As!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Qv(r),o.return=s,s.child=o,vn=s,Tt=null)):r=null,r===null)throw xs(s);return s.lanes=536870912,null}return Ih(s,u)}var p=r.memoizedState;if(p!==null){var _=p.dehydrated;if(Am(s),d)if(s.flags&256)s.flags&=-257,s=cb(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Qt||ko(r,s,o,!1),d=(o&r.childLanes)!==0,Qt||d){if(u=vt,u!==null&&(_=cs(u,o),_!==0&&_!==p.retryLane))throw p.retryLane=_,Oa(r,_),Xn(u,r,_),Gm;Uh(),s=cb(r,s,o)}else r=p.treeContext,Tt=wr(_.nextSibling),vn=s,et=!0,Rs=null,br=!1,r!==null&&Yv(s,r),s=Ih(s,u),s.flags|=4096;return s}return r=Ri(r.child,{mode:u.mode,children:u.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Oh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Qm(r,s,o,u,d){return Ma(s),o=xm(r,s,o,u,void 0,d),u=Cm(),r!==null&&!Qt?(Im(r,s,d),Di(r,s,d)):(et&&u&&lm(s),s.flags|=1,bn(r,s,o,d),s.child)}function hb(r,s,o,u,d,p){return Ma(s),s.updateQueue=null,o=m_(s,u,o,d),d_(r),u=Cm(),r!==null&&!Qt?(Im(r,s,p),Di(r,s,p)):(et&&u&&lm(s),s.flags|=1,bn(r,s,o,p),s.child)}function fb(r,s,o,u,d){if(Ma(s),s.stateNode===null){var p=Io,_=o.contextType;typeof _=="object"&&_!==null&&(p=_n(_)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},_m(s),_=o.contextType,p.context=typeof _=="object"&&_!==null?_n(_):Io,p.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(qm(s,o,_,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&Hm.enqueueReplaceState(p,p.state,null),fu(s,u,p,d),hu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var S=s.memoizedProps,k=Ua(o,S);p.props=k;var G=p.context,re=o.contextType;_=Io,typeof re=="object"&&re!==null&&(_=_n(re));var se=o.getDerivedStateFromProps;re=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||G!==_)&&W_(s,p,u,_),Is=!1;var K=s.memoizedState;p.state=K,fu(s,u,p,d),hu(),G=s.memoizedState,S||K!==G||Is?(typeof se=="function"&&(qm(s,o,se,u),G=s.memoizedState),(k=Is||X_(s,o,k,u,K,G,_))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),p.props=u,p.state=G,p.context=_,u=k):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,bm(r,s),_=s.memoizedProps,re=Ua(o,_),p.props=re,se=s.pendingProps,K=p.context,G=o.contextType,k=Io,typeof G=="object"&&G!==null&&(k=_n(G)),S=o.getDerivedStateFromProps,(G=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==se||K!==k)&&W_(s,p,u,k),Is=!1,K=s.memoizedState,p.state=K,fu(s,u,p,d),hu();var Y=s.memoizedState;_!==se||K!==Y||Is||r!==null&&r.dependencies!==null&&hh(r.dependencies)?(typeof S=="function"&&(qm(s,o,S,u),Y=s.memoizedState),(re=Is||X_(s,o,re,u,K,Y,k)||r!==null&&r.dependencies!==null&&hh(r.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,k)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Y),p.props=u,p.state=Y,p.context=k,u=re):(typeof p.componentDidUpdate!="function"||_===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,Oh(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=za(s,r.child,null,d),s.child=za(s,null,o,d)):bn(r,s,o,d),s.memoizedState=p.state,r=s.child):r=Di(r,s,d),r}function db(r,s,o,u){return Da(),s.flags|=256,bn(r,s,o,u),s.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(r){return{baseLanes:r,cachePool:n_()}}function Ym(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function mb(r,s,o){var u=s.pendingProps,d=!1,p=(s.flags&128)!==0,_;if((_=p)||(_=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(et){if(d?Ds(s):ks(),(r=Tt)?(r=w0(r,br),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:As!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},o=Qv(r),o.return=s,s.child=o,vn=s,Tt=null)):r=null,r===null)throw xs(s);return Dp(r)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,d?(ks(),d=s.mode,S=Nh({mode:"hidden",children:S},d),u=Na(u,d,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=Zm(o),u.childLanes=Ym(r,_,o),s.memoizedState=Km,yu(null,u)):(Ds(s),Xm(s,S))}var k=r.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)s.flags&256?(Ds(s),s.flags&=-257,s=Wm(r,s,o)):s.memoizedState!==null?(ks(),s.child=r.child,s.flags|=128,s=null):(ks(),S=u.fallback,d=s.mode,u=Nh({mode:"visible",children:u.children},d),S=Na(S,d,o,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,za(s,r.child,null,o),u=s.child,u.memoizedState=Zm(o),u.childLanes=Ym(r,_,o),s.memoizedState=Km,s=yu(null,u));else if(Ds(s),Dp(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var G=_.dgst;_=G,u=Error(i(419)),u.stack="",u.digest=_,su({value:u,source:null,stack:null}),s=Wm(r,s,o)}else if(Qt||ko(r,s,o,!1),_=(o&r.childLanes)!==0,Qt||_){if(_=vt,_!==null&&(u=cs(_,o),u!==0&&u!==k.retryLane))throw k.retryLane=u,Oa(r,u),Xn(_,r,u),Gm;Np(S)||Uh(),s=Wm(r,s,o)}else Np(S)?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,Tt=wr(S.nextSibling),vn=s,et=!0,Rs=null,br=!1,r!==null&&Yv(s,r),s=Xm(s,u.children),s.flags|=4096);return s}return d?(ks(),S=u.fallback,d=s.mode,k=r.child,G=k.sibling,u=Ri(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,G!==null?S=Ri(G,S):(S=Na(S,d,o,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,yu(null,u),u=s.child,S=r.child.memoizedState,S===null?S=Zm(o):(d=S.cachePool,d!==null?(k=$t._currentValue,d=d.parent!==k?{parent:k,pool:k}:d):d=n_(),S={baseLanes:S.baseLanes|o,cachePool:d}),u.memoizedState=S,u.childLanes=Ym(r,_,o),s.memoizedState=Km,yu(r.child,u)):(Ds(s),o=r.child,r=o.sibling,o=Ri(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=o,s.memoizedState=null,o)}function Xm(r,s){return s=Nh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Nh(r,s){return r=ir(22,r,null,s),r.lanes=0,r}function Wm(r,s,o){return za(s,r.child,null,o),r=Xm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function pb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),dm(r.return,s,o)}function Jm(r,s,o,u,d,p){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=d,_.treeForkCount=p)}function gb(r,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var _=Ut.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,le(Ut,_),bn(r,s,u,o),u=et?iu:0,!S&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pb(r,o,s);else if(r.tag===19)pb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&_h(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Jm(s,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&_h(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Jm(s,!0,o,null,p,u);break;case"together":Jm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Di(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ko(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ri(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ri(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ep(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&hh(r)))}function Kx(r,s,o){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Cs(s,$t,r.memoizedState.cache),Da();break;case 27:case 5:jt(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Cs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Am(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?mb(r,s,o):(Ds(s),r=Di(r,s,o),r!==null?r.sibling:null);Ds(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ko(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return gb(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(Ut,Ut.current),u)break;return null;case 22:return s.lanes=0,lb(r,s,o,s.pendingProps);case 24:Cs(s,$t,r.memoizedState.cache)}return Di(r,s,o)}function yb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qt=!0;else{if(!ep(r,o)&&(s.flags&128)===0)return Qt=!1,Kx(r,s,o);Qt=(r.flags&131072)!==0}else Qt=!1,et&&(s.flags&1048576)!==0&&Zv(s,iu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(r=Pa(s.elementType),s.type=r,typeof r=="function")sm(r)?(u=Ua(r,u),s.tag=1,s=fb(null,s,r,u,o)):(s.tag=0,s=Qm(null,s,r,u,o));else{if(r!=null){var d=r.$$typeof;if(d===he){s.tag=11,s=sb(null,s,r,u,o);break e}else if(d===N){s.tag=14,s=ab(null,s,r,u,o);break e}}throw s=ke(r)||r,Error(i(306,s,""))}}return s;case 0:return Qm(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Ua(u,s.pendingProps),fb(r,s,u,d,o);case 3:e:{if(bt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;d=p.element,bm(r,s),fu(s,u,null,o);var _=s.memoizedState;if(u=_.cache,Cs(s,$t,u),u!==p.cache&&mm(s,[$t],o,!0),hu(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=db(r,s,u,o);break e}else if(u!==d){d=yr(Error(i(424)),s),su(d),s=db(r,s,u,o);break e}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Tt=wr(r.firstChild),vn=s,et=!0,Rs=null,br=!0,o=l_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Da(),u===d){s=Di(r,s,o);break e}bn(r,s,u,o)}s=s.child}return s;case 26:return Oh(r,s),r===null?(o=C0(s.type,null,s.pendingProps,null))?s.memoizedState=o:et||(o=s.type,r=s.pendingProps,u=Qh(Ve.current).createElement(o),u[kt]=s,u[yn]=r,En(u,o,r),Lt(u),s.stateNode=u):s.memoizedState=C0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return jt(s),r===null&&et&&(u=s.stateNode=A0(s.type,s.pendingProps,Ve.current),vn=s,br=!0,d=Tt,Fs(s.type)?(kp=d,Tt=wr(u.firstChild)):Tt=d),bn(r,s,s.pendingProps.children,o),Oh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&et&&((d=u=Tt)&&(u=SC(u,s.type,s.pendingProps,br),u!==null?(s.stateNode=u,vn=s,Tt=wr(u.firstChild),br=!1,d=!0):d=!1),d||xs(s)),jt(s),d=s.type,p=s.pendingProps,_=r!==null?r.memoizedProps:null,u=p.children,Cp(d,p)?u=null:_!==null&&Cp(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=xm(r,s,Lx,null,null,o),Du._currentValue=d),Oh(r,s),bn(r,s,u,o),s.child;case 6:return r===null&&et&&((r=o=Tt)&&(o=AC(o,s.pendingProps,br),o!==null?(s.stateNode=o,vn=s,Tt=null,r=!0):r=!1),r||xs(s)),null;case 13:return mb(r,s,o);case 4:return bt(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=za(s,null,u,o):bn(r,s,u,o),s.child;case 11:return sb(r,s,s.type,s.pendingProps,o);case 7:return bn(r,s,s.pendingProps,o),s.child;case 8:return bn(r,s,s.pendingProps.children,o),s.child;case 12:return bn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Cs(s,s.type,u.value),bn(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Ma(s),d=_n(d),u=u(d),s.flags|=1,bn(r,s,u,o),s.child;case 14:return ab(r,s,s.type,s.pendingProps,o);case 15:return ob(r,s,s.type,s.pendingProps,o);case 19:return gb(r,s,o);case 31:return Qx(r,s,o);case 22:return lb(r,s,o,s.pendingProps);case 24:return Ma(s),u=_n($t),r===null?(d=ym(),d===null&&(d=vt,p=pm(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:u,cache:d},_m(s),Cs(s,$t,d)):((r.lanes&o)!==0&&(bm(r,s),fu(s,null,null,o),hu()),d=r.memoizedState,p=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Cs(s,$t,u)):(u=p.cache,Cs(s,$t,u),u!==d.cache&&mm(s,[$t],o,!0))),bn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ki(r){r.flags|=4}function tp(r,s,o,u,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(Hb())r.flags|=8192;else throw ja=ph,vm}else r.flags&=-16777217}function vb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!k0(s))if(Hb())r.flags|=8192;else throw ja=ph,vm}function Dh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?zl():536870912,r.lanes|=s,$o|=s)}function vu(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function Zx(r,s,o){var u=s.pendingProps;switch(um(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(s),null;case 1:return St(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ii($t),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Do(s)?ki(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hm())),St(s),null;case 26:var d=s.type,p=s.memoizedState;return r===null?(ki(s),p!==null?(St(s),vb(s,p)):(St(s),tp(s,d,null,u,o))):p?p!==r.memoizedState?(ki(s),St(s),vb(s,p)):(St(s),s.flags&=-16777217):(r=r.memoizedProps,r!==u&&ki(s),St(s),tp(s,d,r,u,o)),null;case 27:if(mn(s),o=Ve.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}r=ye.current,Do(s)?Xv(s):(r=A0(d,u,o),s.stateNode=r,ki(s))}return St(s),null;case 5:if(mn(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return St(s),null}if(p=ye.current,Do(s))Xv(s);else{var _=Qh(Ve.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(d,{is:u.is}):_.createElement(d)}}p[kt]=s,p[yn]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=p;e:switch(En(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ki(s)}}return St(s),tp(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ki(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ve.current,Do(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=vn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||m0(r.nodeValue,o)),r||xs(s,!0)}else r=Qh(r).createTextNode(u),r[kt]=s,s.stateNode=r}return St(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(u=Do(s),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[kt]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),r=!1}else o=hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(ar(s),s):(ar(s),null);if((s.flags&128)!==0)throw Error(i(558))}return St(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Do(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[kt]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;St(s),d=!1}else d=hm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ar(s),s):(ar(s),null)}return ar(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Dh(s,s.updateQueue),St(s),null);case 4:return Ee(),r===null&&Tp(s.stateNode.containerInfo),St(s),null;case 10:return Ii(s.type),St(s),null;case 19:if(te(Ut),u=s.memoizedState,u===null)return St(s),null;if(d=(s.flags&128)!==0,p=u.rendering,p===null)if(d)vu(u,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=_h(r),p!==null){for(s.flags|=128,vu(u,!1),r=p.updateQueue,s.updateQueue=r,Dh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Gv(o,r),o=o.sibling;return le(Ut,Ut.current&1|2),et&&xi(s,u.treeForkCount),s.child}r=r.sibling}u.tail!==null&&me()>jh&&(s.flags|=128,d=!0,vu(u,!1),s.lanes=4194304)}else{if(!d)if(r=_h(p),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,Dh(s,r),vu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!et)return St(s),null}else 2*me()-u.renderingStartTime>jh&&o!==536870912&&(s.flags|=128,d=!0,vu(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(r=u.last,r!==null?r.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=me(),r.sibling=null,o=Ut.current,le(Ut,d?o&1|2:o&1),et&&xi(s,u.treeForkCount),r):(St(s),null);case 22:case 23:return ar(s),Sm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(St(s),s.subtreeFlags&6&&(s.flags|=8192)):St(s),o=s.updateQueue,o!==null&&Dh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&te(Va),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ii($t),St(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Yx(r,s){switch(um(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ii($t),Ee(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return mn(s),null;case 31:if(s.memoizedState!==null){if(ar(s),s.alternate===null)throw Error(i(340));Da()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ar(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Da()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return te(Ut),null;case 4:return Ee(),null;case 10:return Ii(s.type),null;case 22:case 23:return ar(s),Sm(),r!==null&&te(Va),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ii($t),null;case 25:return null;default:return null}}function _b(r,s){switch(um(s),s.tag){case 3:Ii($t),Ee();break;case 26:case 27:case 5:mn(s);break;case 4:Ee();break;case 31:s.memoizedState!==null&&ar(s);break;case 13:ar(s);break;case 19:te(Ut);break;case 10:Ii(s.type);break;case 22:case 23:ar(s),Sm(),r!==null&&te(Va);break;case 24:Ii($t)}}function _u(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var p=o.create,_=o.inst;u=p(),_.destroy=u}o=o.next}while(o!==d)}}catch(S){ht(s,s.return,S)}}function Ms(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&r)===r){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=s;var k=o,G=S;try{G()}catch(re){ht(d,k,re)}}}u=u.next}while(u!==p)}}catch(re){ht(s,s.return,re)}}function bb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{c_(s,o)}catch(u){ht(r,r.return,u)}}}function Eb(r,s,o){o.props=Ua(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ht(r,s,u)}}function bu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){ht(r,s,d)}}function ii(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ht(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ht(r,s,d)}else o.current=null}function wb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ht(r,r.return,d)}}function np(r,s,o){try{var u=r.stateNode;vC(u,r.type,o,s),u[yn]=s}catch(d){ht(r,r.return,d)}}function Tb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Fs(r.type)||r.tag===4}function rp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Tb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Fs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ip(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ln));else if(u!==4&&(u===27&&Fs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(ip(r,s,o),r=r.sibling;r!==null;)ip(r,s,o),r=r.sibling}function kh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Fs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kh(r,s,o),r=r.sibling;r!==null;)kh(r,s,o),r=r.sibling}function Sb(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);En(s,u,o),s[kt]=r,s[yn]=o}catch(p){ht(r,r.return,p)}}var Mi=!1,Kt=!1,sp=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,hn=null;function Xx(r,s){if(r=r.containerInfo,Rp=ef,r=jv(r),Wd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,k=-1,G=0,re=0,se=r,K=null;t:for(;;){for(var Y;se!==o||d!==0&&se.nodeType!==3||(S=_+d),se!==p||u!==0&&se.nodeType!==3||(k=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(Y=se.firstChild)!==null;)K=se,se=Y;for(;;){if(se===r)break t;if(K===o&&++G===d&&(S=_),K===p&&++re===u&&(k=_),(Y=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Y}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(xp={focusedElem:r,selectionRange:o},ef=!1,hn=s;hn!==null;)if(s=hn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,hn=r;else for(;hn!==null;){switch(s=hn,p=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var we=Ua(o.type,d);r=u.getSnapshotBeforeUpdate(we,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(De){ht(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Op(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Op(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,hn=r;break}hn=s.return}}function Rb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Pi(r,o),u&4&&_u(5,o);break;case 1:if(Pi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(_){ht(o,o.return,_)}else{var d=Ua(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){ht(o,o.return,_)}}u&64&&bb(o),u&512&&bu(o,o.return);break;case 3:if(Pi(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{c_(r,s)}catch(_){ht(o,o.return,_)}}break;case 27:s===null&&u&4&&Sb(o);case 26:case 5:Pi(r,o),s===null&&u&4&&wb(o),u&512&&bu(o,o.return);break;case 12:Pi(r,o);break;case 31:Pi(r,o),u&4&&Ib(r,o);break;case 13:Pi(r,o),u&4&&Ob(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=aC.bind(null,o),RC(r,o))));break;case 22:if(u=o.memoizedState!==null||Mi,!u){s=s!==null&&s.memoizedState!==null||Kt,d=Mi;var p=Kt;Mi=u,(Kt=s)&&!p?ji(r,o,(o.subtreeFlags&8772)!==0):Pi(r,o),Mi=d,Kt=p}break;case 30:break;default:Pi(r,o)}}function xb(r){var s=r.alternate;s!==null&&(r.alternate=null,xb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&va(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Rt=null,Qn=!1;function Vi(r,s,o){for(o=o.child;o!==null;)Cb(r,s,o),o=o.sibling}function Cb(r,s,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Qr,o)}catch{}switch(o.tag){case 26:Kt||ii(o,s),Vi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||ii(o,s);var u=Rt,d=Qn;Fs(o.type)&&(Rt=o.stateNode,Qn=!1),Vi(r,s,o),Iu(o.stateNode),Rt=u,Qn=d;break;case 5:Kt||ii(o,s);case 6:if(u=Rt,d=Qn,Rt=null,Vi(r,s,o),Rt=u,Qn=d,Rt!==null)if(Qn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(o.stateNode)}catch(p){ht(o,s,p)}else try{Rt.removeChild(o.stateNode)}catch(p){ht(o,s,p)}break;case 18:Rt!==null&&(Qn?(r=Rt,b0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Jo(r)):b0(Rt,o.stateNode));break;case 4:u=Rt,d=Qn,Rt=o.stateNode.containerInfo,Qn=!0,Vi(r,s,o),Rt=u,Qn=d;break;case 0:case 11:case 14:case 15:Ms(2,o,s),Kt||Ms(4,o,s),Vi(r,s,o);break;case 1:Kt||(ii(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Eb(o,s,u)),Vi(r,s,o);break;case 21:Vi(r,s,o);break;case 22:Kt=(u=Kt)||o.memoizedState!==null,Vi(r,s,o),Kt=u;break;default:Vi(r,s,o)}}function Ib(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Jo(r)}catch(o){ht(s,s.return,o)}}}function Ob(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Jo(r)}catch(o){ht(s,s.return,o)}}function Wx(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Ab),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Ab),s;default:throw Error(i(435,r.tag))}}function Mh(r,s){var o=Wx(r);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=oC.bind(null,r,u);u.then(d,d)}})}function Kn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=r,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Fs(S.type)){Rt=S.stateNode,Qn=!1;break e}break;case 5:Rt=S.stateNode,Qn=!1;break e;case 3:case 4:Rt=S.stateNode.containerInfo,Qn=!0;break e}S=S.return}if(Rt===null)throw Error(i(160));Cb(p,_,d),Rt=null,Qn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Nb(s,r),s=s.sibling}var kr=null;function Nb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Kn(s,r),Zn(r),u&4&&(Ms(3,r,r.return),_u(3,r),Ms(5,r,r.return));break;case 1:Kn(s,r),Zn(r),u&512&&(Kt||o===null||ii(o,o.return)),u&64&&Mi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=kr;if(Kn(s,r),Zn(r),u&512&&(Kt||o===null||ii(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[vi]||p[kt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),En(p,u,o),p[kt]=r,Lt(p),u=p;break e;case"link":var _=N0("link","href",d).get(u+(o.href||""));if(_){for(var S=0;S<_.length;S++)if(p=_[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(S,1);break t}}p=d.createElement(u),En(p,u,o),d.head.appendChild(p);break;case"meta":if(_=N0("meta","content",d).get(u+(o.content||""))){for(S=0;S<_.length;S++)if(p=_[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(S,1);break t}}p=d.createElement(u),En(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[kt]=r,Lt(p),u=p}r.stateNode=u}else D0(d,r.type,r.stateNode);else r.stateNode=O0(d,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?D0(d,r.type,r.stateNode):O0(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&np(r,r.memoizedProps,o.memoizedProps)}break;case 27:Kn(s,r),Zn(r),u&512&&(Kt||o===null||ii(o,o.return)),o!==null&&u&4&&np(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Kn(s,r),Zn(r),u&512&&(Kt||o===null||ii(o,o.return)),r.flags&32){d=r.stateNode;try{pr(d,"")}catch(we){ht(r,r.return,we)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,np(r,d,o!==null?o.memoizedProps:d)),u&1024&&(sp=!0);break;case 6:if(Kn(s,r),Zn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(we){ht(r,r.return,we)}}break;case 3:if(Yh=null,d=kr,kr=Kh(s.containerInfo),Kn(s,r),kr=d,Zn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(s.containerInfo)}catch(we){ht(r,r.return,we)}sp&&(sp=!1,Db(r));break;case 4:u=kr,kr=Kh(r.stateNode.containerInfo),Kn(s,r),Zn(r),kr=u;break;case 12:Kn(s,r),Zn(r);break;case 31:Kn(s,r),Zn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mh(r,u)));break;case 13:Kn(s,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ph=me()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mh(r,u)));break;case 22:d=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,G=Mi,re=Kt;if(Mi=G||d,Kt=re||k,Kn(s,r),Kt=re,Mi=G,Zn(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||k||Mi||Kt||Fa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(p=k.stateNode,d)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=k.stateNode;var se=k.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(we){ht(k,k.return,we)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(we){ht(k,k.return,we)}}}else if(s.tag===18){if(o===null){k=s;try{var Y=k.stateNode;d?E0(Y,!0):E0(k.stateNode,!1)}catch(we){ht(k,k.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Mh(r,o))));break;case 19:Kn(s,r),Zn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Mh(r,u)));break;case 30:break;case 21:break;default:Kn(s,r),Zn(r)}}function Zn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Tb(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=rp(r);kh(r,p,d);break;case 5:var _=o.stateNode;o.flags&32&&(pr(_,""),o.flags&=-33);var S=rp(r);kh(r,S,_);break;case 3:case 4:var k=o.stateNode.containerInfo,G=rp(r);ip(r,G,k);break;default:throw Error(i(161))}}catch(re){ht(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Db(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Db(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Pi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rb(r,s.alternate,s),s=s.sibling}function Fa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ms(4,s,s.return),Fa(s);break;case 1:ii(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Eb(s,s.return,o),Fa(s);break;case 27:Iu(s.stateNode);case 26:case 5:ii(s,s.return),Fa(s);break;case 22:s.memoizedState===null&&Fa(s);break;case 30:Fa(s);break;default:Fa(s)}r=r.sibling}}function ji(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,p=s,_=p.flags;switch(p.tag){case 0:case 11:case 15:ji(d,p,o),_u(4,p);break;case 1:if(ji(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){ht(u,u.return,G)}if(u=p,d=u.updateQueue,d!==null){var S=u.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)u_(k[d],S)}catch(G){ht(u,u.return,G)}}o&&_&64&&bb(p),bu(p,p.return);break;case 27:Sb(p);case 26:case 5:ji(d,p,o),o&&u===null&&_&4&&wb(p),bu(p,p.return);break;case 12:ji(d,p,o);break;case 31:ji(d,p,o),o&&_&4&&Ib(d,p);break;case 13:ji(d,p,o),o&&_&4&&Ob(d,p);break;case 22:p.memoizedState===null&&ji(d,p,o),bu(p,p.return);break;case 30:break;default:ji(d,p,o)}s=s.sibling}}function ap(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&au(o))}function op(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r))}function Mr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kb(r,s,o,u),s=s.sibling}function kb(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Mr(r,s,o,u),d&2048&&_u(9,s);break;case 1:Mr(r,s,o,u);break;case 3:Mr(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&au(r)));break;case 12:if(d&2048){Mr(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,_=p.id,S=p.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){ht(s,s.return,k)}}else Mr(r,s,o,u);break;case 31:Mr(r,s,o,u);break;case 13:Mr(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,_=s.alternate,s.memoizedState!==null?p._visibility&2?Mr(r,s,o,u):Eu(r,s):p._visibility&2?Mr(r,s,o,u):(p._visibility|=2,Bo(r,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&ap(_,s);break;case 24:Mr(r,s,o,u),d&2048&&op(s.alternate,s);break;default:Mr(r,s,o,u)}}function Bo(r,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=r,_=s,S=o,k=u,G=_.flags;switch(_.tag){case 0:case 11:case 15:Bo(p,_,S,k,d),_u(8,_);break;case 23:break;case 22:var re=_.stateNode;_.memoizedState!==null?re._visibility&2?Bo(p,_,S,k,d):Eu(p,_):(re._visibility|=2,Bo(p,_,S,k,d)),d&&G&2048&&ap(_.alternate,_);break;case 24:Bo(p,_,S,k,d),d&&G&2048&&op(_.alternate,_);break;default:Bo(p,_,S,k,d)}s=s.sibling}}function Eu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:Eu(o,u),d&2048&&ap(u.alternate,u);break;case 24:Eu(o,u),d&2048&&op(u.alternate,u);break;default:Eu(o,u)}s=s.sibling}}var wu=8192;function qo(r,s,o){if(r.subtreeFlags&wu)for(r=r.child;r!==null;)Mb(r,s,o),r=r.sibling}function Mb(r,s,o){switch(r.tag){case 26:qo(r,s,o),r.flags&wu&&r.memoizedState!==null&&zC(o,kr,r.memoizedState,r.memoizedProps);break;case 5:qo(r,s,o);break;case 3:case 4:var u=kr;kr=Kh(r.stateNode.containerInfo),qo(r,s,o),kr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=wu,wu=16777216,qo(r,s,o),wu=u):qo(r,s,o));break;default:qo(r,s,o)}}function Vb(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Tu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];hn=u,jb(u,r)}Vb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pb(r),r=r.sibling}function Pb(r){switch(r.tag){case 0:case 11:case 15:Tu(r),r.flags&2048&&Ms(9,r,r.return);break;case 3:Tu(r);break;case 12:Tu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Vh(r)):Tu(r);break;default:Tu(r)}}function Vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];hn=u,jb(u,r)}Vb(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ms(8,s,s.return),Vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Vh(s));break;default:Vh(s)}r=r.sibling}}function jb(r,s){for(;hn!==null;){var o=hn;switch(o.tag){case 0:case 11:case 15:Ms(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:au(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,hn=u;else e:for(o=r;hn!==null;){u=hn;var d=u.sibling,p=u.return;if(xb(u),u===o){hn=null;break e}if(d!==null){d.return=p,hn=d;break e}hn=p}}}var Jx={getCacheForType:function(r){var s=_n($t),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return _n($t).controller.signal}},eC=typeof WeakMap=="function"?WeakMap:Map,lt=0,vt=null,Ze=null,Xe=0,ct=0,or=null,Vs=!1,Ho=!1,lp=!1,zi=0,Pt=0,Ps=0,Ba=0,up=0,lr=0,$o=0,Su=null,Yn=null,cp=!1,Ph=0,zb=0,jh=1/0,zh=null,js=null,tn=0,zs=null,Go=null,Li=0,hp=0,fp=null,Lb=null,Au=0,dp=null;function ur(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:Z.T!==null?_p():yi()}function Ub(){if(lr===0)if((Xe&536870912)===0||et){var r=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),lr=r}else lr=536870912;return r=sr.current,r!==null&&(r.flags|=32),lr}function Xn(r,s,o){(r===vt&&(ct===2||ct===9)||r.cancelPendingCommit!==null)&&(Qo(r,0),Ls(r,Xe,lr,!1)),ls(r,o),((lt&2)===0||r!==vt)&&(r===vt&&((lt&2)===0&&(Ba|=o),Pt===4&&Ls(r,Xe,lr,!1)),si(r))}function Fb(r,s,o){if((lt&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&r.expiredLanes)===0||os(r,s),d=u?rC(r,s):pp(r,s,!0),p=u;do{if(d===0){Ho&&!u&&Ls(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!tC(o)){d=pp(r,s,!1),p=!1;continue}if(d===2){if(p=s,r.errorRecoveryDisabledLanes&p)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=r;d=Su;var k=S.current.memoizedState.isDehydrated;if(k&&(Qo(S,_).flags|=256),_=pp(S,_,!1),_!==2){if(lp&&!k){S.errorRecoveryDisabledLanes|=p,Ba|=p,d=4;break e}p=Yn,Yn=d,p!==null&&(Yn===null?Yn=p:Yn.push.apply(Yn,p))}d=_}if(p=!1,d!==2)continue}}if(d===1){Qo(r,0),Ls(r,s,0,!0);break}e:{switch(u=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ls(u,s,lr,!Vs);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Ph+300-me(),10<d)){if(Ls(u,s,lr,!Vs),dr(u,0,!0)!==0)break e;Li=s,u.timeoutHandle=v0(Bb.bind(null,u,o,Yn,zh,cp,s,lr,Ba,$o,Vs,p,"Throttled",-0,0),d);break e}Bb(u,o,Yn,zh,cp,s,lr,Ba,$o,Vs,p,null,-0,0)}}break}while(!0);si(r)}function Bb(r,s,o,u,d,p,_,S,k,G,re,se,K,Y){if(r.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},Mb(s,p,se);var we=(p&62914560)===p?Ph-me():(p&4194048)===p?zb-me():0;if(we=LC(se,we),we!==null){Li=p,r.cancelPendingCommit=we(Yb.bind(null,r,s,p,o,u,d,_,S,k,re,se,null,K,Y)),Ls(r,p,_,!G);return}}Yb(r,s,p,o,u,d,_,S,k)}function tC(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!rr(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ls(r,s,o,u){s&=~up,s&=~Ba,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var p=31-pn(d),_=1<<p;u[p]=-1,d&=~_}o!==0&&Ll(r,o,s)}function Lh(){return(lt&6)===0?(Ru(0),!1):!0}function mp(){if(Ze!==null){if(ct===0)var r=Ze.return;else r=Ze,Ci=ka=null,Om(r),jo=null,lu=0,r=Ze;for(;r!==null;)_b(r.alternate,r),r=r.return;Ze=null}}function Qo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,EC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Li=0,mp(),vt=r,Ze=o=Ri(r.current,null),Xe=s,ct=0,or=null,Vs=!1,Ho=os(r,s),lp=!1,$o=lr=up=Ba=Ps=Pt=0,Yn=Su=null,cp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-pn(u),p=1<<d;s|=r[d],u&=~p}return zi=s,ah(),o}function qb(r,s){qe=null,Z.H=gu,s===Po||s===mh?(s=s_(),ct=3):s===vm?(s=s_(),ct=4):ct=s===Gm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,Ze===null&&(Pt=1,Ch(r,yr(s,r.current)))}function Hb(){var r=sr.current;return r===null?!0:(Xe&4194048)===Xe?Er===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===Er:!1}function $b(){var r=Z.H;return Z.H=gu,r===null?gu:r}function Gb(){var r=Z.A;return Z.A=Jx,r}function Uh(){Pt=4,Vs||(Xe&4194048)!==Xe&&sr.current!==null||(Ho=!0),(Ps&134217727)===0&&(Ba&134217727)===0||vt===null||Ls(vt,Xe,lr,!1)}function pp(r,s,o){var u=lt;lt|=2;var d=$b(),p=Gb();(vt!==r||Xe!==s)&&(zh=null,Qo(r,s)),s=!1;var _=Pt;e:do try{if(ct!==0&&Ze!==null){var S=Ze,k=or;switch(ct){case 8:mp(),_=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var G=ct;if(ct=0,or=null,Ko(r,S,k,G),o&&Ho){_=0;break e}break;default:G=ct,ct=0,or=null,Ko(r,S,k,G)}}nC(),_=Pt;break}catch(re){qb(r,re)}while(!0);return s&&r.shellSuspendCounter++,Ci=ka=null,lt=u,Z.H=d,Z.A=p,Ze===null&&(vt=null,Xe=0,ah()),_}function nC(){for(;Ze!==null;)Qb(Ze)}function rC(r,s){var o=lt;lt|=2;var u=$b(),d=Gb();vt!==r||Xe!==s?(zh=null,jh=me()+500,Qo(r,s)):Ho=os(r,s);e:do try{if(ct!==0&&Ze!==null){s=Ze;var p=or;t:switch(ct){case 1:ct=0,or=null,Ko(r,s,p,1);break;case 2:case 9:if(r_(p)){ct=0,or=null,Kb(s);break}s=function(){ct!==2&&ct!==9||vt!==r||(ct=7),si(r)},p.then(s,s);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:r_(p)?(ct=0,or=null,Kb(s)):(ct=0,or=null,Ko(r,s,p,7));break;case 5:var _=null;switch(Ze.tag){case 26:_=Ze.memoizedState;case 5:case 27:var S=Ze;if(_?k0(_):S.stateNode.complete){ct=0,or=null;var k=S.sibling;if(k!==null)Ze=k;else{var G=S.return;G!==null?(Ze=G,Fh(G)):Ze=null}break t}}ct=0,or=null,Ko(r,s,p,5);break;case 6:ct=0,or=null,Ko(r,s,p,6);break;case 8:mp(),Pt=6;break e;default:throw Error(i(462))}}iC();break}catch(re){qb(r,re)}while(!0);return Ci=ka=null,Z.H=u,Z.A=d,lt=o,Ze!==null?0:(vt=null,Xe=0,ah(),Pt)}function iC(){for(;Ze!==null&&!$();)Qb(Ze)}function Qb(r){var s=yb(r.alternate,r,zi);r.memoizedProps=r.pendingProps,s===null?Fh(r):Ze=s}function Kb(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=hb(o,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=hb(o,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:Om(s);default:_b(o,s),s=Ze=Gv(s,zi),s=yb(o,s,zi)}r.memoizedProps=r.pendingProps,s===null?Fh(r):Ze=s}function Ko(r,s,o,u){Ci=ka=null,Om(s),jo=null,lu=0;var d=s.return;try{if(Gx(r,d,s,o,Xe)){Pt=1,Ch(r,yr(o,r.current)),Ze=null;return}}catch(p){if(d!==null)throw Ze=d,p;Pt=1,Ch(r,yr(o,r.current)),Ze=null;return}s.flags&32768?(et||u===1?r=!0:Ho||(Xe&536870912)!==0?r=!1:(Vs=r=!0,(u===2||u===9||u===3||u===6)&&(u=sr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zb(s,r)):Fh(s)}function Fh(r){var s=r;do{if((s.flags&32768)!==0){Zb(s,Vs);return}r=s.return;var o=Zx(s.alternate,s,zi);if(o!==null){Ze=o;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);Pt===0&&(Pt=5)}function Zb(r,s){do{var o=Yx(r.alternate,r);if(o!==null){o.flags&=32767,Ze=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=o}while(r!==null);Pt=6,Ze=null}function Yb(r,s,o,u,d,p,_,S,k){r.cancelPendingCommit=null;do Bh();while(tn!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=rm,gn(r,o,p,_,S,k),r===vt&&(Ze=vt=null,Xe=0),Go=s,zs=r,Li=o,hp=p,fp=d,Lb=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,lC(Ge,function(){return t0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=fe.p,fe.p=2,_=lt,lt|=4;try{Xx(r,s,o)}finally{lt=_,fe.p=d,Z.T=u}}tn=1,Xb(),Wb(),Jb()}}function Xb(){if(tn===1){tn=0;var r=zs,s=Go,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=fe.p;fe.p=2;var d=lt;lt|=4;try{Nb(s,r);var p=xp,_=jv(r.containerInfo),S=p.focusedElem,k=p.selectionRange;if(_!==S&&S&&S.ownerDocument&&Pv(S.ownerDocument.documentElement,S)){if(k!==null&&Wd(S)){var G=k.start,re=k.end;if(re===void 0&&(re=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(re,S.value.length);else{var se=S.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var Y=K.getSelection(),we=S.textContent.length,De=Math.min(k.start,we),yt=k.end===void 0?De:Math.min(k.end,we);!Y.extend&&De>yt&&(_=yt,yt=De,De=_);var B=Vv(S,De),L=Vv(S,yt);if(B&&L&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=se.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),De>yt?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(se=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&se.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<se.length;S++){var ie=se[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}ef=!!Rp,xp=Rp=null}finally{lt=d,fe.p=u,Z.T=o}}r.current=s,tn=2}}function Wb(){if(tn===2){tn=0;var r=zs,s=Go,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=fe.p;fe.p=2;var d=lt;lt|=4;try{Rb(r,s.alternate,s)}finally{lt=d,fe.p=u,Z.T=o}}tn=3}}function Jb(){if(tn===4||tn===3){tn=0,ee();var r=zs,s=Go,o=Li,u=Lb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?tn=5:(tn=0,Go=zs=null,e0(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(js=null),Fl(o),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Qr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=fe.p,fe.p=2,Z.T=null;try{for(var p=r.onRecoverableError,_=0;_<u.length;_++){var S=u[_];p(S.value,{componentStack:S.stack})}}finally{Z.T=s,fe.p=d}}(Li&3)!==0&&Bh(),si(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===dp?Au++:(Au=0,dp=r):Au=0,Ru(0)}}function e0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,au(s)))}function Bh(){return Xb(),Wb(),Jb(),t0()}function t0(){if(tn!==5)return!1;var r=zs,s=hp;hp=0;var o=Fl(Li),u=Z.T,d=fe.p;try{fe.p=32>o?32:o,Z.T=null,o=fp,fp=null;var p=zs,_=Li;if(tn=0,Go=zs=null,Li=0,(lt&6)!==0)throw Error(i(331));var S=lt;if(lt|=4,Pb(p.current),kb(p,p.current,_,o),lt=S,Ru(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Qr,p)}catch{}return!0}finally{fe.p=d,Z.T=u,e0(r,s)}}function n0(r,s,o){s=yr(o,s),s=$m(r.stateNode,s,2),r=Ns(r,s,2),r!==null&&(ls(r,2),si(r))}function ht(r,s,o){if(r.tag===3)n0(r,r,o);else for(;s!==null;){if(s.tag===3){n0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(js===null||!js.has(u))){r=yr(o,r),o=rb(2),u=Ns(s,o,2),u!==null&&(ib(o,u,s,r),ls(u,2),si(u));break}}s=s.return}}function gp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new eC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(lp=!0,d.add(o),r=sC.bind(null,r,s,o),s.then(r,r))}function sC(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,vt===r&&(Xe&o)===o&&(Pt===4||Pt===3&&(Xe&62914560)===Xe&&300>me()-Ph?(lt&2)===0&&Qo(r,0):up|=o,$o===Xe&&($o=0)),si(r)}function r0(r,s){s===0&&(s=zl()),r=Oa(r,s),r!==null&&(ls(r,s),si(r))}function aC(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),r0(r,o)}function oC(r,s){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),r0(r,o)}function lC(r,s){return Gr(r,s)}var qh=null,Zo=null,yp=!1,Hh=!1,vp=!1,Us=0;function si(r){r!==Zo&&r.next===null&&(Zo===null?qh=Zo=r:Zo=Zo.next=r),Hh=!0,yp||(yp=!0,cC())}function Ru(r,s){if(!vp&&Hh){vp=!0;do for(var o=!1,u=qh;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var _=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-pn(42|r)+1)-1,p&=d&~(_&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,o0(u,p))}else p=Xe,p=dr(u,u===vt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||os(u,p)||(o=!0,o0(u,p));u=u.next}while(o);vp=!1}}function uC(){i0()}function i0(){Hh=yp=!1;var r=0;Us!==0&&bC()&&(r=Us);for(var s=me(),o=null,u=qh;u!==null;){var d=u.next,p=s0(u,s);p===0?(u.next=null,o===null?qh=d:o.next=d,d===null&&(Zo=o)):(o=u,(r!==0||(p&3)!==0)&&(Hh=!0)),u=d}tn!==0&&tn!==5||Ru(r),Us!==0&&(Us=0)}function s0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var _=31-pn(p),S=1<<_,k=d[_];k===-1?((S&o)===0||(S&u)!==0)&&(d[_]=po(S,s)):k<=s&&(r.expiredLanes|=S),p&=~S}if(s=vt,o=Xe,o=dr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(ct===2||ct===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&V(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||os(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&V(u),Fl(o)){case 2:case 8:o=_e;break;case 32:o=Ge;break;case 268435456:o=zt;break;default:o=Ge}return u=a0.bind(null,r),o=Gr(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&V(u),r.callbackPriority=2,r.callbackNode=null,2}function a0(r,s){if(tn!==0&&tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Bh()&&r.callbackNode!==o)return null;var u=Xe;return u=dr(r,r===vt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Fb(r,u,s),s0(r,me()),r.callbackNode!=null&&r.callbackNode===o?a0.bind(null,r):null)}function o0(r,s){if(Bh())return null;Fb(r,s,!0)}function cC(){wC(function(){(lt&6)!==0?Gr(ce,uC):i0()})}function _p(){if(Us===0){var r=Mo;r===0&&(r=ya,ya<<=1,(ya&261888)===0&&(ya=256)),Us=r}return Us}function l0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Jr(""+r)}function u0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function hC(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var p=l0((d[yn]||null).action),_=u.submitter;_&&(s=(s=_[yn]||null)?l0(s.formAction):_.getAttribute("formAction"),s!==null&&(p=s,_=null));var S=new Ta("action","action",null,u,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var k=_?u0(d,_):new FormData(d);Lm(o,{pending:!0,data:k,method:d.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=_?u0(d,_):new FormData(d),Lm(o,{pending:!0,data:k,method:d.method,action:p},p,k))},currentTarget:d}]})}}for(var bp=0;bp<nm.length;bp++){var Ep=nm[bp],fC=Ep.toLowerCase(),dC=Ep[0].toUpperCase()+Ep.slice(1);Dr(fC,"on"+dC)}Dr(Uv,"onAnimationEnd"),Dr(Fv,"onAnimationIteration"),Dr(Bv,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ix,"onTransitionRun"),Dr(Ox,"onTransitionStart"),Dr(Nx,"onTransitionCancel"),Dr(qv,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xu));function c0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var _=u.length-1;0<=_;_--){var S=u[_],k=S.instance,G=S.currentTarget;if(S=S.listener,k!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=G;try{p(d)}catch(re){sh(re)}d.currentTarget=null,p=k}else for(_=0;_<u.length;_++){if(S=u[_],k=S.instance,G=S.currentTarget,S=S.listener,k!==p&&d.isPropagationStopped())break e;p=S,d.currentTarget=G;try{p(d)}catch(re){sh(re)}d.currentTarget=null,p=k}}}}function Ye(r,s){var o=s[hs];o===void 0&&(o=s[hs]=new Set);var u=r+"__bubble";o.has(u)||(h0(s,r,2,!1),o.add(u))}function wp(r,s,o){var u=0;s&&(u|=4),h0(o,r,u,s)}var $h="_reactListening"+Math.random().toString(36).slice(2);function Tp(r){if(!r[$h]){r[$h]=!0,go.forEach(function(o){o!=="selectionchange"&&(mC.has(o)||wp(o,!1,r),wp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$h]||(s[$h]=!0,wp("selectionchange",!1,s))}}function h0(r,s,o,u){switch(U0(s)){case 2:var d=BC;break;case 8:d=qC;break;default:d=zp}o=d.bind(null,s,o,r),d=void 0,!Zl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Sp(r,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=u.return;_!==null;){var k=_.tag;if((k===3||k===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=_i(S),_===null)return;if(k=_.tag,k===5||k===6||k===26||k===27){u=p=_;continue e}S=S.parentNode}}u=u.return}qc(function(){var G=p,re=Eo(o),se=[];e:{var K=Hv.get(r);if(K!==void 0){var Y=Ta,we=r;switch(r){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":Y=Wc;break;case"focusin":we="focus",Y=Es;break;case"focusout":we="blur",Y=Es;break;case"beforeblur":case"afterblur":Y=Es;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=eh;break;case Uv:case Fv:case Bv:Y=So;break;case qv:Y=Ao;break;case"scroll":case"scrollend":Y=Hc;break;case"wheel":Y=nh;break;case"copy":case"cut":case"paste":Y=Kc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=eu;break;case"toggle":case"beforetoggle":Y=Ts}var De=(s&4)!==0,yt=!De&&(r==="scroll"||r==="scrollend"),B=De?K!==null?K+"Capture":null:K;De=[];for(var L=G,H;L!==null;){var ie=L;if(H=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||H===null||B===null||(ie=$n(L,B),ie!=null&&De.push(Cu(L,ie,H))),yt)break;L=L.return}0<De.length&&(K=new Y(K,we,null,o,re),se.push({event:K,listeners:De}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",Y=r==="mouseout"||r==="pointerout",K&&o!==bo&&(we=o.relatedTarget||o.fromElement)&&(_i(we)||we[Yr]))break e;if((Y||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(we=o.relatedTarget||o.toElement,Y=G,we=we?_i(we):null,we!==null&&(yt=l(we),De=we.tag,we!==yt||De!==5&&De!==27&&De!==6)&&(we=null)):(Y=null,we=G),Y!==we)){if(De=$c,ie="onMouseLeave",B="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(De=eu,ie="onPointerLeave",B="onPointerEnter",L="pointer"),yt=Y==null?K:_a(Y),H=we==null?K:_a(we),K=new De(ie,L+"leave",Y,o,re),K.target=yt,K.relatedTarget=H,ie=null,_i(re)===G&&(De=new De(B,L+"enter",we,o,re),De.target=H,De.relatedTarget=yt,ie=De),yt=ie,Y&&we)t:{for(De=pC,B=Y,L=we,H=0,ie=B;ie;ie=De(ie))H++;ie=0;for(var Oe=L;Oe;Oe=De(Oe))ie++;for(;0<H-ie;)B=De(B),H--;for(;0<ie-H;)L=De(L),ie--;for(;H--;){if(B===L||L!==null&&B===L.alternate){De=B;break t}B=De(B),L=De(L)}De=null}else De=null;Y!==null&&f0(se,K,Y,De,!1),we!==null&&yt!==null&&f0(se,yt,we,De,!0)}}e:{if(K=G?_a(G):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var st=Iv;else if(Gn(K))if(Ov)st=Rx;else{st=Sx;var xe=Tx}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ql(G.elementType)&&(st=Iv):st=Ax;if(st&&(st=st(r,G))){xa(se,st,o,re);break e}xe&&xe(r,K,G),r==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&_o(K,"number",K.value)}switch(xe=G?_a(G):window,r){case"focusin":(Gn(xe)||xe.contentEditable==="true")&&(Ro=xe,Jd=G,ru=null);break;case"focusout":ru=Jd=Ro=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,zv(se,o,re);break;case"selectionchange":if(Cx)break;case"keydown":case"keyup":zv(se,o,re)}var $e;if(y)e:{switch(r){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Qe?ut(r,o)&&(We="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(q&&o.locale!=="ko"&&(Qe||We!=="onCompositionStart"?We==="onCompositionEnd"&&Qe&&($e=ys()):(nr=re,wo="value"in nr?nr.value:nr.textContent,Qe=!0)),xe=Gh(G,We),0<xe.length&&(We=new Xl(We,r,null,o,re),se.push({event:We,listeners:xe}),$e?We.data=$e:($e=Ht(o),$e!==null&&(We.data=$e)))),($e=R?un(r,o):cn(r,o))&&(We=Gh(G,"onBeforeInput"),0<We.length&&(xe=new Xl("onBeforeInput","beforeinput",null,o,re),se.push({event:xe,listeners:We}),xe.data=$e)),hC(se,r,G,o,re)}c0(se,s)})}function Cu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Gh(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=$n(r,o),d!=null&&u.unshift(Cu(r,d,p)),d=$n(r,s),d!=null&&u.push(Cu(r,d,p))),r.tag===3)return u;r=r.return}return[]}function pC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function f0(r,s,o,u,d){for(var p=s._reactName,_=[];o!==null&&o!==u;){var S=o,k=S.alternate,G=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||G===null||(k=G,d?(G=$n(o,p),G!=null&&_.unshift(Cu(o,G,k))):d||(G=$n(o,p),G!=null&&_.push(Cu(o,G,k)))),o=o.return}_.length!==0&&r.push({event:s,listeners:_})}var gC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function d0(r){return(typeof r=="string"?r:""+r).replace(gC,`
`).replace(yC,"")}function m0(r,s){return s=d0(s),d0(r)===s}function gt(r,s,o,u,d,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||pr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&pr(r,""+u);break;case"className":ms(r,"class",u);break;case"tabIndex":ms(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ms(r,o,u);break;case"style":Fc(r,u,p);break;case"data":if(s!=="object"){ms(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Jr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&gt(r,s,"name",d.name,d,null),gt(r,s,"formEncType",d.formEncType,d,null),gt(r,s,"formMethod",d.formMethod,d,null),gt(r,s,"formTarget",d.formTarget,d,null)):(gt(r,s,"encType",d.encType,d,null),gt(r,s,"method",d.method,d,null),gt(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Jr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=ln);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Jr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ye("beforetoggle",r),Ye("toggle",r),ds(r,"popover",u);break;case"xlinkActuate":mr(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":mr(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":mr(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":mr(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":mr(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":mr(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":mr(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":mr(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":mr(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ds(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qd.get(o)||o,ds(r,o,u))}}function Ap(r,s,o,u,d,p){switch(o){case"style":Fc(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?pr(r,u):(typeof u=="number"||typeof u=="bigint")&&pr(r,""+u);break;case"onScroll":u!=null&&Ye("scroll",r);break;case"onScrollEnd":u!=null&&Ye("scrollend",r);break;case"onClick":u!=null&&(r.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=r[yn]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ds(r,o,u)}}}function En(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",r),Ye("load",r);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var _=o[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,p,_,o,null)}}d&&gt(r,s,"srcSet",o.srcSet,o,null),u&&gt(r,s,"src",o.src,o,null);return;case"input":Ye("invalid",r);var S=p=_=d=null,k=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":d=re;break;case"type":_=re;break;case"checked":k=re;break;case"defaultChecked":G=re;break;case"value":p=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:gt(r,s,u,re,o,null)}}ba(r,p,S,k,G,_,d,!1);return;case"select":Ye("invalid",r),u=_=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:gt(r,s,d,S,o,null)}s=p,o=_,r.multiple=!!u,s!=null?it(r,!!u,s,!1):o!=null&&it(r,!!u,o,!0);return;case"textarea":Ye("invalid",r),p=d=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(S=o[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:gt(r,s,_,S,o,null)}gs(r,u,d,p);return;case"option":for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null)&&(k==="selected"?r.selected=u&&typeof u!="function"&&typeof u!="symbol":gt(r,s,k,u,o,null));return;case"dialog":Ye("beforetoggle",r),Ye("toggle",r),Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":Ye("load",r);break;case"video":case"audio":for(u=0;u<xu.length;u++)Ye(xu[u],r);break;case"image":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"embed":case"source":case"link":Ye("error",r),Ye("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:gt(r,s,G,u,o,null)}return;default:if(Ql(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&Ap(r,s,re,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&gt(r,s,S,u,o,null))}function vC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,_=null,S=null,k=null,G=null,re=null;for(Y in o){var se=o[Y];if(o.hasOwnProperty(Y)&&se!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=se;default:u.hasOwnProperty(Y)||gt(r,s,Y,null,u,se)}}for(var K in u){var Y=u[K];if(se=o[K],u.hasOwnProperty(K)&&(Y!=null||se!=null))switch(K){case"type":p=Y;break;case"name":d=Y;break;case"checked":G=Y;break;case"defaultChecked":re=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==se&&gt(r,s,K,Y,u,se)}}ps(r,_,S,k,G,re,p,d);return;case"select":Y=_=S=K=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":Y=k;default:u.hasOwnProperty(p)||gt(r,s,p,null,u,k)}for(d in u)if(p=u[d],k=o[d],u.hasOwnProperty(d)&&(p!=null||k!=null))switch(d){case"value":K=p;break;case"defaultValue":S=p;break;case"multiple":_=p;default:p!==k&&gt(r,s,d,p,u,k)}s=S,o=_,u=Y,K!=null?it(r,!!o,K,!1):!!u!=!!o&&(s!=null?it(r,!!o,s,!0):it(r,!!o,o?[]:"",!1));return;case"textarea":Y=K=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:gt(r,s,S,null,u,d)}for(_ in u)if(d=u[_],p=o[_],u.hasOwnProperty(_)&&(d!=null||p!=null))switch(_){case"value":K=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&gt(r,s,_,d,u,p)}Ea(r,K,Y);return;case"option":for(var we in o)K=o[we],o.hasOwnProperty(we)&&K!=null&&!u.hasOwnProperty(we)&&(we==="selected"?r.selected=!1:gt(r,s,we,null,u,K));for(k in u)K=u[k],Y=o[k],u.hasOwnProperty(k)&&K!==Y&&(K!=null||Y!=null)&&(k==="selected"?r.selected=K&&typeof K!="function"&&typeof K!="symbol":gt(r,s,k,K,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)K=o[De],o.hasOwnProperty(De)&&K!=null&&!u.hasOwnProperty(De)&&gt(r,s,De,null,u,K);for(G in u)if(K=u[G],Y=o[G],u.hasOwnProperty(G)&&K!==Y&&(K!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:gt(r,s,G,K,u,Y)}return;default:if(Ql(s)){for(var yt in o)K=o[yt],o.hasOwnProperty(yt)&&K!==void 0&&!u.hasOwnProperty(yt)&&Ap(r,s,yt,void 0,u,K);for(re in u)K=u[re],Y=o[re],!u.hasOwnProperty(re)||K===Y||K===void 0&&Y===void 0||Ap(r,s,re,K,u,Y);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&gt(r,s,B,null,u,K);for(se in u)K=u[se],Y=o[se],!u.hasOwnProperty(se)||K===Y||K==null&&Y==null||gt(r,s,se,K,u,Y)}function p0(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _C(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,_=d.initiatorType,S=d.duration;if(p&&S&&p0(_)){for(_=0,S=d.responseEnd,u+=1;u<o.length;u++){var k=o[u],G=k.startTime;if(G>S)break;var re=k.transferSize,se=k.initiatorType;re&&p0(se)&&(k=k.responseEnd,_+=re*(k<S?1:(S-G)/(k-G)))}if(--u,s+=8*(p+_)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Rp=null,xp=null;function Qh(r){return r.nodeType===9?r:r.ownerDocument}function g0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Cp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ip=null;function bC(){var r=window.event;return r&&r.type==="popstate"?r===Ip?!1:(Ip=r,!0):(Ip=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(r){return _0.resolve(null).then(r).catch(TC)}:v0;function TC(r){setTimeout(function(){throw r})}function Fs(r){return r==="head"}function b0(r,s){var o=s,u=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(d),Jo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Iu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Iu(o);for(var p=o.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[vi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=_}}else o==="body"&&Iu(r.ownerDocument.body);o=d}while(o);Jo(s)}function E0(r,s){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Op(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),va(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function SC(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[vi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=wr(r.nextSibling),r===null)break}return null}function AC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wr(r.nextSibling),r===null))return null;return r}function w0(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=wr(r.nextSibling),r===null))return null;return r}function Np(r){return r.data==="$?"||r.data==="$~"}function Dp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function RC(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function wr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var kp=null;function T0(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return wr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function S0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function A0(r,s,o){switch(s=Qh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Iu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);va(r)}var Tr=new Map,R0=new Set;function Kh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ui=fe.d;fe.d={f:xC,r:CC,D:IC,C:OC,L:NC,m:DC,X:MC,S:kC,M:VC};function xC(){var r=Ui.f(),s=Lh();return r||s}function CC(r){var s=bi(r);s!==null&&s.tag===5&&s.type==="form"?q_(s):Ui.r(r)}var Yo=typeof document>"u"?null:document;function x0(r,s,o){var u=Yo;if(u&&typeof s=="string"&&s){var d=Mt(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),R0.has(d)||(R0.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),En(s,"link",r),Lt(s),u.head.appendChild(s)))}}function IC(r){Ui.D(r),x0("dns-prefetch",r,null)}function OC(r,s){Ui.C(r,s),x0("preconnect",r,s)}function NC(r,s,o){Ui.L(r,s,o);var u=Yo;if(u&&r&&s){var d='link[rel="preload"][as="'+Mt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Mt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Mt(o.imageSizes)+'"]')):d+='[href="'+Mt(r)+'"]';var p=d;switch(s){case"style":p=Xo(r);break;case"script":p=Wo(r)}Tr.has(p)||(r=b({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Tr.set(p,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Ou(p))||s==="script"&&u.querySelector(Nu(p))||(s=u.createElement("link"),En(s,"link",r),Lt(s),u.head.appendChild(s)))}}function DC(r,s){Ui.m(r,s);var o=Yo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Mt(u)+'"][href="'+Mt(r)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Wo(r)}if(!Tr.has(p)&&(r=b({rel:"modulepreload",href:r},s),Tr.set(p,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Nu(p)))return}u=o.createElement("link"),En(u,"link",r),Lt(u),o.head.appendChild(u)}}}function kC(r,s,o){Ui.S(r,s,o);var u=Yo;if(u&&r){var d=Or(u).hoistableStyles,p=Xo(r);s=s||"default";var _=d.get(p);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(Ou(p)))S.loading=5;else{r=b({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Tr.get(p))&&Mp(r,o);var k=_=u.createElement("link");Lt(k),En(k,"link",r),k._p=new Promise(function(G,re){k.onload=G,k.onerror=re}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Zh(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(p,_)}}}function MC(r,s){Ui.X(r,s);var o=Yo;if(o&&r){var u=Or(o).hoistableScripts,d=Wo(r),p=u.get(d);p||(p=o.querySelector(Nu(d)),p||(r=b({src:r,async:!0},s),(s=Tr.get(d))&&Vp(r,s),p=o.createElement("script"),Lt(p),En(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function VC(r,s){Ui.M(r,s);var o=Yo;if(o&&r){var u=Or(o).hoistableScripts,d=Wo(r),p=u.get(d);p||(p=o.querySelector(Nu(d)),p||(r=b({src:r,async:!0,type:"module"},s),(s=Tr.get(d))&&Vp(r,s),p=o.createElement("script"),Lt(p),En(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function C0(r,s,o,u){var d=(d=Ve.current)?Kh(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xo(o.href),o=Or(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Xo(o.href);var p=Or(d).hoistableStyles,_=p.get(r);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,_),(p=d.querySelector(Ou(r)))&&!p._p&&(_.instance=p,_.state.loading=5),Tr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Tr.set(r,o),p||PC(d,r,o,_.state))),s&&u===null)throw Error(i(528,""));return _}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=Or(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xo(r){return'href="'+Mt(r)+'"'}function Ou(r){return'link[rel="stylesheet"]['+r+"]"}function I0(r){return b({},r,{"data-precedence":r.precedence,precedence:null})}function PC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),En(s,"link",o),Lt(s),r.head.appendChild(s))}function Wo(r){return'[src="'+Mt(r)+'"]'}function Nu(r){return"script[async]"+r}function O0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Mt(o.href)+'"]');if(u)return s.instance=u,Lt(u),u;var d=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Lt(u),En(u,"style",d),Zh(u,o.precedence,r),s.instance=u;case"stylesheet":d=Xo(o.href);var p=r.querySelector(Ou(d));if(p)return s.state.loading|=4,s.instance=p,Lt(p),p;u=I0(o),(d=Tr.get(d))&&Mp(u,d),p=(r.ownerDocument||r).createElement("link"),Lt(p);var _=p;return _._p=new Promise(function(S,k){_.onload=S,_.onerror=k}),En(p,"link",u),s.state.loading|=4,Zh(p,o.precedence,r),s.instance=p;case"script":return p=Wo(o.src),(d=r.querySelector(Nu(p)))?(s.instance=d,Lt(d),d):(u=o,(d=Tr.get(p))&&(u=b({},o),Vp(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Lt(d),En(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Zh(u,o.precedence,r));return s.instance}function Zh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===s)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Mp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yh=null;function N0(r,s,o){if(Yh===null){var u=new Map,d=Yh=new Map;d.set(o,u)}else d=Yh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[vi]||p[kt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(s)||"";_=r+_;var S=u.get(_);S?S.push(p):u.set(_,[p])}}return u}function D0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function jC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function zC(r,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Xo(u.href),p=s.querySelector(Ou(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Xh.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=p,Lt(p);return}p=s.ownerDocument||s,u=I0(u),(d=Tr.get(d))&&Mp(u,d),p=p.createElement("link"),Lt(p);var _=p;_._p=new Promise(function(S,k){_.onload=S,_.onerror=k}),En(p,"link",u),o.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Xh.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Pp=0;function LC(r,s){return r.stylesheets&&r.count===0&&Jh(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Jh(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4+s);0<r.imgBytes&&Pp===0&&(Pp=62500*_C());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Jh(r,r.stylesheets),r.unsuspend)){var p=r.unsuspend;r.unsuspend=null,p()}},(r.imgBytes>Pp?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wh=null;function Jh(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wh=new Map,s.forEach(UC,r),Wh=null,Xh.call(r))}function UC(r,s){if(!(s.state.loading&4)){var o=Wh.get(r);if(o)var u=o.get(null);else{o=new Map,Wh.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var _=d[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}d=s.instance,_=d.getAttribute("data-precedence"),p=o.get(_)||u,p===u&&o.set(null,d),o.set(_,d),this.count++,u=Xh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Du={$$typeof:ne,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function FC(r,s,o,u,d,p,_,S,k){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function M0(r,s,o,u,d,p,_,S,k,G,re,se){return r=new FC(r,s,o,_,k,G,re,se,S),s=1,p===!0&&(s|=24),p=ir(3,null,null,s),r.current=p,p.stateNode=r,s=pm(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},_m(p),r}function V0(r){return r?(r=Io,r):Io}function P0(r,s,o,u,d,p){d=V0(d),u.context===null?u.context=d:u.pendingContext=d,u=Os(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ns(r,u,s),o!==null&&(Xn(o,r,s),cu(o,r,s))}function j0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function jp(r,s){j0(r,s),(r=r.alternate)&&j0(r,s)}function z0(r){if(r.tag===13||r.tag===31){var s=Oa(r,67108864);s!==null&&Xn(s,r,67108864),jp(r,67108864)}}function L0(r){if(r.tag===13||r.tag===31){var s=ur();s=Ul(s);var o=Oa(r,s);o!==null&&Xn(o,r,s),jp(r,s)}}var ef=!0;function BC(r,s,o,u){var d=Z.T;Z.T=null;var p=fe.p;try{fe.p=2,zp(r,s,o,u)}finally{fe.p=p,Z.T=d}}function qC(r,s,o,u){var d=Z.T;Z.T=null;var p=fe.p;try{fe.p=8,zp(r,s,o,u)}finally{fe.p=p,Z.T=d}}function zp(r,s,o,u){if(ef){var d=Lp(u);if(d===null)Sp(r,s,u,tf,o),F0(r,u);else if($C(d,r,s,o,u))u.stopPropagation();else if(F0(r,u),s&4&&-1<HC.indexOf(r)){for(;d!==null;){var p=bi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Ir(p.pendingLanes);if(_!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var k=1<<31-pn(_);S.entanglements[1]|=k,_&=~k}si(p),(lt&6)===0&&(jh=me()+500,Ru(0))}}break;case 31:case 13:S=Oa(p,2),S!==null&&Xn(S,p,2),Lh(),jp(p,2)}if(p=Lp(u),p===null&&Sp(r,s,u,tf,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Sp(r,s,u,null,o)}}function Lp(r){return r=Eo(r),Up(r)}var tf=null;function Up(r){if(tf=null,r=_i(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return tf=r,null}function U0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pe()){case ce:return 2;case _e:return 8;case Ge:case nt:return 32;case zt:return 268435456;default:return 32}default:return 32}}var Fp=!1,Bs=null,qs=null,Hs=null,ku=new Map,Mu=new Map,$s=[],HC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(r,s){switch(r){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(s.pointerId)}}function Vu(r,s,o,u,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=bi(s),s!==null&&z0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function $C(r,s,o,u,d){switch(s){case"focusin":return Bs=Vu(Bs,r,s,o,u,d),!0;case"dragenter":return qs=Vu(qs,r,s,o,u,d),!0;case"mouseover":return Hs=Vu(Hs,r,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return ku.set(p,Vu(ku.get(p)||null,r,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Mu.set(p,Vu(Mu.get(p)||null,r,s,o,u,d)),!0}return!1}function B0(r){var s=_i(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,jc(r.priority,function(){L0(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,jc(r.priority,function(){L0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Lp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);bo=u,o.target.dispatchEvent(u),bo=null}else return s=bi(o),s!==null&&z0(s),r.blockedOn=o,!1;s.shift()}return!0}function q0(r,s,o){nf(r)&&o.delete(s)}function GC(){Fp=!1,Bs!==null&&nf(Bs)&&(Bs=null),qs!==null&&nf(qs)&&(qs=null),Hs!==null&&nf(Hs)&&(Hs=null),ku.forEach(q0),Mu.forEach(q0)}function rf(r,s){r.blockedOn===s&&(r.blockedOn=null,Fp||(Fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GC)))}var sf=null;function H0(r){sf!==r&&(sf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===r&&(sf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(Up(u||o)===null)continue;break}var p=bi(o);p!==null&&(r.splice(s,3),s-=3,Lm(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Jo(r){function s(k){return rf(k,r)}Bs!==null&&rf(Bs,r),qs!==null&&rf(qs,r),Hs!==null&&rf(Hs,r),ku.forEach(s),Mu.forEach(s);for(var o=0;o<$s.length;o++){var u=$s[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<$s.length&&(o=$s[0],o.blockedOn===null);)B0(o),o.blockedOn===null&&$s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],_=d[yn]||null;if(typeof p=="function")_||H0(o);else if(_){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,_=p[yn]||null)S=_.formAction;else if(Up(d)!==null)continue}else S=_.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),H0(o)}}}function $0(){function r(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Bp(r){this._internalRoot=r}af.prototype.render=Bp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=ur();P0(o,u,r,s,null,null)},af.prototype.unmount=Bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;P0(r.current,2,null,r,null,null),Lh(),s[Yr]=null}};function af(r){this._internalRoot=r}af.prototype.unstable_scheduleHydration=function(r){if(r){var s=yi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<$s.length&&s!==0&&s<$s[o].priority;o++);$s.splice(o,0,r),o===0&&B0(r)}};var G0=e.version;if(G0!=="19.2.4")throw Error(i(527,G0,"19.2.4"));fe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var QC={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Qr=of.inject(QC),qt=of}catch{}}return ju.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=J_,p=eb,_=tb;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=M0(r,1,!1,null,null,o,u,null,d,p,_,$0),r[Yr]=s.current,Tp(r),new Bp(s)},ju.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",p=J_,_=eb,S=tb,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),s=M0(r,1,!0,s,o??null,u,d,k,p,_,S,$0),s.context=V0(null),o=s.current,u=ur(),u=Ul(u),d=Os(u),d.callback=null,Ns(o,d,u),o=u,s.current.lanes=o,ls(s,o),si(s),r[Yr]=s.current,Tp(r),new af(s)},ju.version="19.2.4",ju}var nE;function r1(){if(nE)return $p.exports;nE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$p.exports=n1(),$p.exports}var i1=r1();var rE="popstate";function s1(t={}){function e(i,a){let{pathname:l,search:c,hash:f}=i.location;return fg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:nc(a)}return o1(e,n,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a1(){return Math.random().toString(36).substring(2,10)}function iE(t,e){return{usr:t.state,key:t.key,idx:e}}function fg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:n,key:e&&e.key||i||a1()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function o1(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,f="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){f="POP";let U=v(),W=U==null?null:U-g;g=U,m&&m({action:f,location:P.location,delta:W})}function T(U,W){f="PUSH";let Q=fg(P.location,U,W);g=v()+1;let ne=iE(Q,g),he=P.createHref(Q);try{c.pushState(ne,"",he)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(he)}l&&m&&m({action:f,location:P.location,delta:1})}function x(U,W){f="REPLACE";let Q=fg(P.location,U,W);g=v();let ne=iE(Q,g),he=P.createHref(Q);c.replaceState(ne,"",he),l&&m&&m({action:f,location:P.location,delta:0})}function M(U){return l1(U)}let P={get action(){return f},get location(){return t(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(rE,b),m=U,()=>{a.removeEventListener(rE,b),m=null}},createHref(U){return e(a,U)},createURL:M,encodeLocation(U){let W=M(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:x,go(U){return c.go(U)}};return P}function l1(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:nc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function CT(t,e,n="/"){return u1(t,e,n,!1)}function u1(t,e,n,i){let a=typeof e=="string"?Tl(e):e,l=Wi(a.pathname||"/",n);if(l==null)return null;let c=IT(t);c1(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let g=E1(l);f=_1(c[m],g,i)}return f}function IT(t,e=[],n=[],i="",a=!1){let l=(c,f,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Ct(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let b=Yi([i,v.relativePath]),T=n.concat(v);c.children&&c.children.length>0&&(Ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),IT(c.children,e,T,b,m)),!(c.path==null&&!c.index)&&e.push({path:b,score:y1(b,c.index),routesMeta:T})};return t.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of OT(c.path))l(c,f,!0,m)}),e}function OT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=OT(i.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function c1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:v1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var h1=/^:[\w-]+$/,f1=3,d1=2,m1=1,p1=10,g1=-2,sE=t=>t==="*";function y1(t,e){let n=t.split("/"),i=n.length;return n.some(sE)&&(i+=g1),e&&(i+=d1),n.filter(a=>!sE(a)).reduce((a,l)=>a+(h1.test(l)?f1:l===""?m1:p1),i)}function v1(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function _1(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],g=f===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),T=m.route;if(!b&&g&&n&&!i[i.length-1].route.index&&(b=Mf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Yi([l,b.pathname]),pathnameBase:A1(Yi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Yi([l,b.pathnameBase]))}return c}function Mf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=b1(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},T)=>{if(v==="*"){let M=f[T]||"";c=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const x=f[T];return b&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:t}}function b1(t,e=!1,n=!0){Lr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function E1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function T1(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?Tl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=aE(n.substring(1),"/"):l=aE(n,e)):l=e,{pathname:l,search:R1(i),hash:x1(a)}}function aE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function S1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ty(t){let e=S1(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ny(t,e,n,i=!1){let a;typeof t=="string"?a=Tl(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),Zp("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),Zp("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),Zp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let b=e.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}f=b>=0?e[b]:"/"}let m=T1(a,f),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var Yi=t=>t.join("/").replace(/\/\/+/g,"/"),A1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,C1=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function I1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function O1(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DT(t,e){let n=t;if(typeof n!="string"||!w1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(NT)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Wi(c.pathname,e);c.origin===l.origin&&f!=null?n=f+c.search+c.hash:a=!0}catch{Lr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var N1=["GET",...kT];new Set(N1);var Sl=F.createContext(null);Sl.displayName="DataRouter";var od=F.createContext(null);od.displayName="DataRouterState";var D1=F.createContext(!1),MT=F.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var k1=F.createContext(new Map);k1.displayName="Fetchers";var M1=F.createContext(null);M1.displayName="Await";var fr=F.createContext(null);fr.displayName="Navigation";var vc=F.createContext(null);vc.displayName="Location";var qr=F.createContext({outlet:null,matches:[],isDataRoute:!1});qr.displayName="Route";var ry=F.createContext(null);ry.displayName="RouteError";var VT="REACT_ROUTER_ERROR",V1="REDIRECT",P1="ROUTE_ERROR_RESPONSE";function j1(t){if(t.startsWith(`${VT}:${V1}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function z1(t){if(t.startsWith(`${VT}:${P1}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new C1(e.status,e.statusText,e.data)}catch{}}function L1(t,{relative:e}={}){Ct(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=F.useContext(fr),{hash:a,pathname:l,search:c}=_c(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Yi([n,l])),i.createHref({pathname:f,search:c,hash:a})}function Al(){return F.useContext(vc)!=null}function fi(){return Ct(Al(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(vc).location}var PT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(t){F.useContext(fr).static||F.useLayoutEffect(t)}function iy(){let{isDataRoute:t}=F.useContext(qr);return t?eI():U1()}function U1(){Ct(Al(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(Sl),{basename:e,navigator:n}=F.useContext(fr),{matches:i}=F.useContext(qr),{pathname:a}=fi(),l=JSON.stringify(ty(i)),c=F.useRef(!1);return jT(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Lr(c.current,PT),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=ny(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,l,a,t])}var F1=F.createContext(null);function B1(t){let e=F.useContext(qr).outlet;return F.useMemo(()=>e&&F.createElement(F1.Provider,{value:t},e),[e,t])}function _c(t,{relative:e}={}){let{matches:n}=F.useContext(qr),{pathname:i}=fi(),a=JSON.stringify(ty(n));return F.useMemo(()=>ny(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function q1(t,e){return zT(t,e)}function zT(t,e,n,i,a){Ct(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(fr),{matches:c}=F.useContext(qr),f=c[c.length-1],m=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let Q=b&&b.path||"";UT(g,!b||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let T=fi(),x;if(e){let Q=typeof e=="string"?Tl(e):e;Ct(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),x=Q}else x=T;let M=x.pathname||"/",P=M;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(Q.length).join("/")}let U=CT(t,{pathname:P});Lr(b||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Lr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=K1(U&&U.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Yi([v,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:Yi([v,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),c,n,i,a);return e&&W?F.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function H1(){let t=J1(),e=I1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:a},n):null,c)}var $1=F.createElement(H1,null),LT=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=z1(t.digest);n&&(t=n)}let e=t!==void 0?F.createElement(qr.Provider,{value:this.props.routeContext},F.createElement(ry.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?F.createElement(G1,{error:t},e):e}};LT.contextType=D1;var Yp=new WeakMap;function G1({children:t,error:e}){let{basename:n}=F.useContext(fr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=j1(e.digest);if(i){let a=Yp.get(e);if(a)throw a;let l=DT(i.location,n);if(NT&&!Yp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Yp.set(e,c),c}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Q1({routeContext:t,match:e,children:n}){let i=F.useContext(Sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(qr.Provider,{value:t},n)}function K1(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,m=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=v),b.route.id){let{loaderData:T,errors:x}=n,M=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||M){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=n&&i?(v,b)=>{i(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:O1(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,T)=>{let x,M=!1,P=null,U=null;n&&(x=c&&b.route.id?c[b.route.id]:void 0,P=b.route.errorElement||$1,f&&(m<0&&T===0?(UT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,U=null):m===T&&(M=!0,U=b.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,T+1)),Q=()=>{let ne;return x?ne=P:M?ne=U:b.route.Component?ne=F.createElement(b.route.Component,null):b.route.element?ne=b.route.element:ne=v,F.createElement(Q1,{match:b,routeContext:{outlet:v,matches:W,isDataRoute:n!=null},children:ne})};return n&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?F.createElement(LT,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:Q(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):Q()},null)}function sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(t){let e=F.useContext(Sl);return Ct(e,sy(t)),e}function Y1(t){let e=F.useContext(od);return Ct(e,sy(t)),e}function X1(t){let e=F.useContext(qr);return Ct(e,sy(t)),e}function ay(t){let e=X1(t),n=e.matches[e.matches.length-1];return Ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function W1(){return ay("useRouteId")}function J1(){let t=F.useContext(ry),e=Y1("useRouteError"),n=ay("useRouteError");return t!==void 0?t:e.errors?.[n]}function eI(){let{router:t}=Z1("useNavigate"),e=ay("useNavigate"),n=F.useRef(!1);return jT(()=>{n.current=!0}),F.useCallback(async(a,l={})=>{Lr(n.current,PT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var oE={};function UT(t,e,n){!e&&!oE[t]&&(oE[t]=!0,Lr(!1,n))}F.memo(tI);function tI({routes:t,future:e,state:n,onError:i}){return zT(t,void 0,n,i,e)}function dg({to:t,replace:e,state:n,relative:i}){Ct(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(fr);Lr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(qr),{pathname:c}=fi(),f=iy(),m=ny(t,ty(l),c,i==="path"),g=JSON.stringify(m);return F.useEffect(()=>{f(JSON.parse(g),{replace:e,state:n,relative:i})},[f,g,i,e,n]),null}function FT(t){return B1(t.context)}function $i(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nI({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ct(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof n=="string"&&(n=Tl(n));let{pathname:g="/",search:v="",hash:b="",state:T=null,key:x="default"}=n,M=F.useMemo(()=>{let P=Wi(g,f);return P==null?null:{location:{pathname:P,search:v,hash:b,state:T,key:x},navigationType:i}},[f,g,v,b,T,x,i]);return Lr(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:F.createElement(fr.Provider,{value:m},F.createElement(vc.Provider,{children:e,value:M}))}function rI({children:t,location:e}){return q1(mg(t),e)}function mg(t,e=[]){let n=[];return F.Children.forEach(t,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){n.push.apply(n,mg(i.props.children,l));return}Ct(i.type===$i,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=mg(i.props.children,l)),n.push(c)}),n}var wf="get",Tf="application/x-www-form-urlencoded";function ld(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function iI(t){return ld(t)&&t.tagName.toLowerCase()==="button"}function sI(t){return ld(t)&&t.tagName.toLowerCase()==="form"}function aI(t){return ld(t)&&t.tagName.toLowerCase()==="input"}function oI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lI(t,e){return t.button===0&&(!e||e==="_self")&&!oI(t)}var lf=null;function uI(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(t){return t!=null&&!cI.has(t)?(Lr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tf}"`),null):t}function hI(t,e){let n,i,a,l,c;if(sI(t)){let f=t.getAttribute("action");i=f?Wi(f,e):null,n=t.getAttribute("method")||wf,a=Xp(t.getAttribute("enctype"))||Tf,l=new FormData(t)}else if(iI(t)||aI(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(i=m?Wi(m,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||wf,a=Xp(t.getAttribute("formenctype"))||Xp(f.getAttribute("enctype"))||Tf,l=new FormData(f,t),!uI()){let{name:g,type:v,value:b}=t;if(v==="image"){let T=g?`${g}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else g&&l.append(g,b)}}else{if(ld(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wf,i=null,a=Tf,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fI(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Wi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function dI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pI(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await dI(l,n);return c.links?c.links():[]}return[]}));return _I(i.flat(1).filter(mI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lE(t,e,n,i,a,l){let c=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,f=(m,g)=>n[g].pathname!==m.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||f(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function gI(t,e,{includeHydrateFallback:n}={}){return yI(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function yI(t){return[...new Set(t)]}function vI(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function _I(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(vI(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function BT(){let t=F.useContext(Sl);return oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bI(){let t=F.useContext(od);return oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ly=F.createContext(void 0);ly.displayName="FrameworkContext";function qT(){let t=F.useContext(ly);return oy(t,"You must render this element inside a <HydratedRouter> element"),t}function EI(t,e){let n=F.useContext(ly),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,T=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=W=>{W.forEach(Q=>{c(Q.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[t]),F.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let x=()=>{a(!0)},M=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:zu(f,x),onBlur:zu(m,M),onMouseEnter:zu(g,x),onMouseLeave:zu(v,M),onTouchStart:zu(b,x)}]:[!1,T,{}]}function zu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function wI({page:t,...e}){let{router:n}=BT(),i=F.useMemo(()=>CT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?F.createElement(SI,{page:t,matches:i,...e}):null}function TI(t){let{manifest:e,routeModules:n}=qT(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return pI(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),i}function SI({page:t,matches:e,...n}){let i=fi(),{future:a,manifest:l,routeModules:c}=qT(),{basename:f}=BT(),{loaderData:m,matches:g}=bI(),v=F.useMemo(()=>lE(t,e,g,l,i,"data"),[t,e,g,l,i]),b=F.useMemo(()=>lE(t,e,g,l,i,"assets"),[t,e,g,l,i]),T=F.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let P=new Set,U=!1;if(e.forEach(Q=>{let ne=l.routes[Q.route.id];!ne||!ne.hasLoader||(!v.some(he=>he.route.id===Q.route.id)&&Q.route.id in m&&c[Q.route.id]?.shouldRevalidate||ne.hasClientLoader?U=!0:P.add(Q.route.id))}),P.size===0)return[];let W=fI(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return U&&P.size>0&&W.searchParams.set("_routes",e.filter(Q=>P.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[W.pathname+W.search]},[f,a.unstable_trailingSlashAwareDataRequests,m,i,l,v,e,t,c]),x=F.useMemo(()=>gI(b,l),[b,l]),M=TI(b);return F.createElement(F.Fragment,null,T.map(P=>F.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),x.map(P=>F.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:U})=>F.createElement("link",{key:P,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function AI(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RI&&(window.__reactRouterVersion="7.13.0")}catch{}function xI({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=F.useRef();a.current==null&&(a.current=s1({window:i,v5Compat:!0}));let l=a.current,[c,f]=F.useState({action:l.action,location:l.location}),m=F.useCallback(g=>{n===!1?f(g):F.startTransition(()=>f(g))},[n]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(nI,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=F.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...x},M){let{basename:P,unstable_useTransitions:U}=F.useContext(fr),W=typeof g=="string"&&HT.test(g),Q=DT(g,P);g=Q.to;let ne=L1(g,{relative:a}),[he,J,ve]=EI(i,x),N=OI(g,{replace:c,state:f,target:m,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:T,unstable_useTransitions:U});function A(O){e&&e(O),O.defaultPrevented||N(O)}let I=F.createElement("a",{...x,...ve,href:Q.absoluteURL||ne,onClick:Q.isExternal||l?e:A,ref:AI(M,J),target:m,"data-discover":!W&&n==="render"?"true":void 0});return he&&!W?F.createElement(F.Fragment,null,I,F.createElement(wI,{page:ne})):I});uy.displayName="Link";var pg=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...g},v){let b=_c(c,{relative:g.relative}),T=fi(),x=F.useContext(od),{navigator:M,basename:P}=F.useContext(fr),U=x!=null&&VI(b)&&f===!0,W=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,Q=T.pathname,ne=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),ne=ne?ne.toLowerCase():null,W=W.toLowerCase()),ne&&P&&(ne=Wi(ne,P)||ne);const he=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let J=Q===W||!a&&Q.startsWith(W)&&Q.charAt(he)==="/",ve=ne!=null&&(ne===W||!a&&ne.startsWith(W)&&ne.charAt(W.length)==="/"),N={isActive:J,isPending:ve,isTransitioning:U},A=J?e:void 0,I;typeof i=="function"?I=i(N):I=[i,J?"active":null,ve?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(N):l;return F.createElement(uy,{...g,"aria-current":A,className:I,ref:v,style:O,to:c,viewTransition:f},typeof m=="function"?m(N):m)});pg.displayName="NavLink";var CI=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:c=wf,action:f,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T,...x},M)=>{let{unstable_useTransitions:P}=F.useContext(fr),U=kI(),W=MI(f,{relative:g}),Q=c.toLowerCase()==="get"?"get":"post",ne=typeof f=="string"&&HT.test(f),he=J=>{if(m&&m(J),J.defaultPrevented)return;J.preventDefault();let ve=J.nativeEvent.submitter,N=ve?.getAttribute("formmethod")||c,A=()=>U(ve||J.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:T});P&&n!==!1?F.startTransition(()=>A()):A()};return F.createElement("form",{ref:M,method:Q,action:W,onSubmit:i?m:he,...x,"data-discover":!ne&&t==="render"?"true":void 0})});CI.displayName="Form";function II(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(t){let e=F.useContext(Sl);return Ct(e,II(t)),e}function OI(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:m}={}){let g=iy(),v=fi(),b=_c(t,{relative:l});return F.useCallback(T=>{if(lI(T,e)){T.preventDefault();let x=n!==void 0?n:nc(v)===nc(b),M=()=>g(t,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});m?F.startTransition(()=>M()):M()}},[v,g,b,n,i,e,t,a,l,c,f,m])}var NI=0,DI=()=>`__${String(++NI)}__`;function kI(){let{router:t}=$T("useSubmit"),{basename:e}=F.useContext(fr),n=W1(),i=t.fetch,a=t.navigate;return F.useCallback(async(l,c={})=>{let{action:f,method:m,encType:g,formData:v,body:b}=hI(l,e);if(c.navigate===!1){let T=c.fetcherKey||DI();await i(T,n,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,n])}function MI(t,{relative:e}={}){let{basename:n}=F.useContext(fr),i=F.useContext(qr);Ct(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={..._c(t||".",{relative:e})},c=fi();if(t==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Yi([n,l.pathname])),nc(l)}function VI(t,{relative:e}={}){let n=F.useContext(MT);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=$T("useViewTransitionState"),a=_c(t,{relative:e});if(!n.isTransitioning)return!1;let l=Wi(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Wi(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Mf(a.pathname,c)!=null||Mf(a.pathname,l)!=null}var PI=xT(),Rl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jI={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zI=class{#e=jI;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qa=new zI;function LI(t){setTimeout(t,0)}var Wa=typeof window>"u"||"Deno"in globalThis;function Bn(){}function UI(t,e){return typeof t=="function"?t(e):t}function gg(t){return typeof t=="number"&&t>=0&&t!==1/0}function GT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ea(t,e){return typeof t=="function"?t(e):t}function Sr(t,e){return typeof t=="function"?t(e):t}function uE(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:f}=t;if(c){if(i){if(e.queryHash!==cy(c,e.options))return!1}else if(!rc(e.queryKey,c))return!1}if(n!=="all"){const m=e.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||l&&!l(e))}function cE(t,e){const{exact:n,status:i,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(Ja(e.options.mutationKey)!==Ja(l))return!1}else if(!rc(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function cy(t,e){return(e?.queryKeyHashFn||Ja)(t)}function Ja(t){return JSON.stringify(t,(e,n)=>yg(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function rc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>rc(t[n],e[n])):!1}var FI=Object.prototype.hasOwnProperty;function QT(t,e,n=0){if(t===e)return t;if(n>500)return e;const i=hE(t)&&hE(e);if(!i&&!(yg(t)&&yg(e)))return e;const l=(i?t:Object.keys(t)).length,c=i?e:Object.keys(e),f=c.length,m=i?new Array(f):{};let g=0;for(let v=0;v<f;v++){const b=i?v:c[v],T=t[b],x=e[b];if(T===x){m[b]=T,(i?v<l:FI.call(t,b))&&g++;continue}if(T===null||x===null||typeof T!="object"||typeof x!="object"){m[b]=x;continue}const M=QT(T,x,n+1);m[b]=M,M===T&&g++}return l===f&&g===l?t:m}function Vf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function hE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yg(t){if(!fE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fE(t){return Object.prototype.toString.call(t)==="[object Object]"}function BI(t){return new Promise(e=>{Qa.setTimeout(e,t)})}function vg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?QT(t,e):e}function qI(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function HI(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var hy=Symbol();function KT(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===hy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fy(t,e){return typeof t=="function"?t(...e):!!t}function $I(t,e,n){let i=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),i||(i=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var GI=class extends Rl{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Wa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dy=new GI;function _g(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var QI=LI;function KI(){let t=[],e=0,n=f=>{f()},i=f=>{f()},a=QI;const l=f=>{e?t.push(f):a(()=>{n(f)})},c=()=>{const f=t;t=[],f.length&&a(()=>{i(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;e++;try{m=f()}finally{e--,e||c()}return m},batchCalls:f=>(...m)=>{l(()=>{f(...m)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{a=f}}}var sn=KI(),ZI=class extends Rl{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Wa&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Pf=new ZI;function YI(t){return Math.min(1e3*2**t,3e4)}function ZT(t){return(t??"online")==="online"?Pf.isOnline():!0}var bg=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function YT(t){let e=!1,n=0,i;const a=_g(),l=()=>a.status!=="pending",c=P=>{if(!l()){const U=new bg(P);T(U),t.onCancel?.(U)}},f=()=>{e=!0},m=()=>{e=!1},g=()=>dy.isFocused()&&(t.networkMode==="always"||Pf.isOnline())&&t.canRun(),v=()=>ZT(t.networkMode)&&t.canRun(),b=P=>{l()||(i?.(),a.resolve(P))},T=P=>{l()||(i?.(),a.reject(P))},x=()=>new Promise(P=>{i=U=>{(l()||g())&&P(U)},t.onPause?.()}).then(()=>{i=void 0,l()||t.onContinue?.()}),M=()=>{if(l())return;let P;const U=n===0?t.initialPromise:void 0;try{P=U??t.fn()}catch(W){P=Promise.reject(W)}Promise.resolve(P).then(b).catch(W=>{if(l())return;const Q=t.retry??(Wa?0:3),ne=t.retryDelay??YI,he=typeof ne=="function"?ne(n,W):ne,J=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,W);if(e||!J){T(W);return}n++,t.onFail?.(n,W),BI(he).then(()=>g()?void 0:x()).then(()=>{e?T(W):M()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(i?.(),a),cancelRetry:f,continueRetry:m,canStart:v,start:()=>(v()?M():x().then(M),a)}}var XT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gg(this.gcTime)&&(this.#e=Qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wa?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qa.clearTimeout(this.#e),this.#e=void 0)}},XI=class extends XT{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=mE(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=mE(this.options);n.data!==void 0&&(this.setState(dE(n.data,n.dataUpdatedAt)),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const i=vg(this.state.data,e,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(Bn).catch(Bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Sr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ea(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!GT(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},l=()=>{const m=KT(this.options,n),v=(()=>{const b={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(m,v,this):m(v)},f=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:l};return a(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#s({type:"fetch",meta:f.fetchOptions?.meta}),this.#r=YT({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof bg&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(m,g)=>{this.#s({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#r.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof bg){if(m.silent)return this.#r.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#s({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#s(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...WT(i.data,this.options),fetchMeta:e.meta??null};case"success":const a={...i,...dE(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),sn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function WT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dE(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mE(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var WI=class extends Rl{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=_g(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#p;#f;#d;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pE(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Eg(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Eg(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#E(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),e._defaulted&&!Vf(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&gE(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),i&&(this.#t!==n||Sr(this.options.enabled,this.#t)!==Sr(e.enabled,this.#t)||ea(this.options.staleTime,this.#t)!==ea(e.staleTime,this.#t))&&this.#g();const a=this.#y();i&&(this.#t!==n||Sr(this.options.enabled,this.#t)!==Sr(e.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return eO(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,i)=>(this.trackProp(i),e?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Bn)),e}#g(){this.#b();const t=ea(this.options.staleTime,this.#t);if(Wa||this.#i.isStale||!gg(t))return;const n=GT(this.#i.dataUpdatedAt,t)+1;this.#u=Qa.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#E(),this.#l=t,!(Wa||Sr(this.options.enabled,this.#t)===!1||!gg(this.#l)||this.#l===0)&&(this.#c=Qa.setInterval(()=>{(this.options.refetchIntervalInBackground||dy.isFocused())&&this.#h()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#b(){this.#u&&(Qa.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#c&&(Qa.clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const n=this.#t,i=this.options,a=this.#i,l=this.#r,c=this.#a,m=t!==n?t.state:this.#n,{state:g}=t;let v={...g},b=!1,T;if(e._optimisticResults){const A=this.hasListeners(),I=!A&&pE(t,e),O=A&&gE(t,n,e,i);(I||O)&&(v={...v,...WT(g.data,t.options)}),e._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:x,errorUpdatedAt:M,status:P}=v;T=v.data;let U=!1;if(e.placeholderData!==void 0&&T===void 0&&P==="pending"){let A;a?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(A=a.data,U=!0):A=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,A!==void 0&&(P="success",T=vg(a?.data,A,e),b=!0)}if(e.select&&T!==void 0&&!U)if(a&&T===l?.data&&e.select===this.#p)T=this.#f;else try{this.#p=e.select,T=e.select(T),T=vg(a?.data,T,e),this.#f=T,this.#s=null}catch(A){this.#s=A}this.#s&&(x=this.#s,T=this.#f,M=Date.now(),P="error");const W=v.fetchStatus==="fetching",Q=P==="pending",ne=P==="error",he=Q&&W,J=T!==void 0,N={status:P,fetchStatus:v.fetchStatus,isPending:Q,isSuccess:P==="success",isError:ne,isInitialLoading:he,isLoading:he,data:T,dataUpdatedAt:v.dataUpdatedAt,error:x,errorUpdatedAt:M,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>m.dataUpdateCount||v.errorUpdateCount>m.errorUpdateCount,isFetching:W,isRefetching:W&&!Q,isLoadingError:ne&&!J,isPaused:v.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:ne&&J,isStale:my(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Sr(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=N.data!==void 0,I=N.status==="error"&&!A,O=C=>{I?C.reject(N.error):A&&C.resolve(N.data)},z=()=>{const C=this.#o=N.promise=_g();O(C)},D=this.#o;switch(D.status){case"pending":t.queryHash===n.queryHash&&O(D);break;case"fulfilled":(I||N.data!==D.value)&&z();break;case"rejected":(!I||N.error!==D.reason)&&z();break}}return N}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#d=this.#t),Vf(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#m.size)return!0;const l=new Set(a??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#i).some(c=>{const f=c;return this.#i[f]!==t[f]&&l.has(f)})};this.#T({listeners:n()})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#T(t){sn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function JI(t,e){return Sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pE(t,e){return JI(t,e)||t.state.data!==void 0&&Eg(t,e,e.refetchOnMount)}function Eg(t,e,n){if(Sr(e.enabled,t)!==!1&&ea(e.staleTime,t)!=="static"){const i=typeof n=="function"?n(t):n;return i==="always"||i!==!1&&my(t,e)}return!1}function gE(t,e,n,i){return(t!==e||Sr(i.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&my(t,n)}function my(t,e){return Sr(e.enabled,t)!==!1&&t.isStaleByTime(ea(e.staleTime,t))}function eO(t,e){return!Vf(t.getCurrentResult(),e)}function yE(t){return{onFetch:(e,n)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let v=!1;const b=M=>{$I(M,()=>e.signal,()=>v=!0)},T=KT(e.options,e.fetchOptions),x=async(M,P,U)=>{if(v)return Promise.reject();if(P==null&&M.pages.length)return Promise.resolve(M);const Q=(()=>{const ve={client:e.client,queryKey:e.queryKey,pageParam:P,direction:U?"backward":"forward",meta:e.options.meta};return b(ve),ve})(),ne=await T(Q),{maxPages:he}=e.options,J=U?HI:qI;return{pages:J(M.pages,ne,he),pageParams:J(M.pageParams,P,he)}};if(a&&l.length){const M=a==="backward",P=M?tO:vE,U={pages:l,pageParams:c},W=P(i,U);f=await x(U,W,M)}else{const M=t??l.length;do{const P=m===0?c[0]??i.initialPageParam:vE(i,f);if(m>0&&P==null)break;f=await x(f,P),m++}while(m<M)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=g}}}function vE(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function tO(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var nO=class extends XT{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||JT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=YT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(c,f)=>{this.#r({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",l=!this.#i.canStart();try{if(a)n();else{this.#r({type:"pending",variables:e,isPaused:l}),this.#n.config.onMutate&&await this.#n.config.onMutate(e,this,i);const f=await this.options.onMutate?.(e,i);f!==this.state.context&&this.#r({type:"pending",context:f,variables:e,isPaused:l})}const c=await this.#i.start();return await this.#n.config.onSuccess?.(c,e,this.state.context,this,i),await this.options.onSuccess?.(c,e,this.state.context,i),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(c,null,e,this.state.context,i),this.#r({type:"success",data:c}),c}catch(c){try{await this.#n.config.onError?.(c,e,this.state.context,this,i)}catch(f){Promise.reject(f)}try{await this.options.onError?.(c,e,this.state.context,i)}catch(f){Promise.reject(f)}try{await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,i)}catch(f){Promise.reject(f)}try{await this.options.onSettled?.(void 0,c,e,this.state.context,i)}catch(f){Promise.reject(f)}throw this.#r({type:"error",error:c}),c}finally{this.#n.runNext(this)}}#r(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),sn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function JT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rO=class extends Rl{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new nO({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=uf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=uf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=uf(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=uf(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){sn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>cE(e,n))}findAll(t={}){return this.getAll().filter(e=>cE(t,e))}notify(t){sn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return sn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Bn))))}};function uf(t){return t.options.scope?.id}var iO=class extends Rl{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Vf(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ja(n.mutationKey)!==Ja(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??JT();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){sn.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,n,i,a)}catch(l){Promise.reject(l)}try{this.#i.onSettled?.(e.data,null,n,i,a)}catch(l){Promise.reject(l)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,n,i,a)}catch(l){Promise.reject(l)}try{this.#i.onSettled?.(void 0,e.error,n,i,a)}catch(l){Promise.reject(l)}}}this.listeners.forEach(n=>{n(this.#t)})})}},sO=class extends Rl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,a=e.queryHash??cy(i,e);let l=this.get(a);return l||(l=new XI({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){sn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>uE(t,n)):e}notify(t){sn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},aO=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new sO,this.#t=t.mutationCache||new rO,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=dy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ea(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(i.queryHash)?.state.data,c=UI(e,l);if(c!==void 0)return this.#e.build(this,i).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return sn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;sn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return sn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=sn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(Bn).catch(Bn)}invalidateQueries(t,e={}){return sn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=sn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Bn)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(Bn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ea(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bn).catch(Bn)}fetchInfiniteQuery(t){return t.behavior=yE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bn).catch(Bn)}ensureInfiniteQueryData(t){return t.behavior=yE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Pf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Ja(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{rc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Ja(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{rc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},eS=F.createContext(void 0),Hr=t=>{const e=F.useContext(eS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},oO=({client:t,children:e})=>(F.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.jsx(eS.Provider,{value:t,children:e})),tS=F.createContext(!1),lO=()=>F.useContext(tS);tS.Provider;function uO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var cO=F.createContext(uO()),hO=()=>F.useContext(cO),fO=(t,e,n)=>{const i=n?.state.error&&typeof t.throwOnError=="function"?fy(t.throwOnError,[n.state.error,n]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||i)&&(e.isReset()||(t.retryOnMount=!1))},dO=t=>{F.useEffect(()=>{t.clearReset()},[t])},mO=({result:t,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(a&&t.data===void 0||fy(n,[t.error,i])),pO=t=>{if(t.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),i=t.staleTime;t.staleTime=typeof i=="function"?(...a)=>n(i(...a)):n(i),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},gO=(t,e)=>t.isLoading&&t.isFetching&&!e,yO=(t,e)=>t?.suspense&&e.isPending,_E=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function vO(t,e,n){const i=lO(),a=hO(),l=Hr(),c=l.defaultQueryOptions(t);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const f=l.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",pO(c),fO(c,a,f),dO(a);const m=!l.getQueryCache().get(c.queryHash),[g]=F.useState(()=>new e(l,c)),v=g.getOptimisticResult(c),b=!i&&t.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(T=>{const x=b?g.subscribe(sn.batchCalls(T)):Bn;return g.updateResult(),x},[g,b]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),F.useEffect(()=>{g.setOptions(c)},[c,g]),yO(c,v))throw _E(c,g,a);if(mO({result:v,errorResetBoundary:a,throwOnError:c.throwOnError,query:f,suspense:c.suspense}))throw v.error;return l.getDefaultOptions().queries?._experimental_afterQuery?.(c,v),c.experimental_prefetchInRender&&!Wa&&gO(v,i)&&(m?_E(c,g,a):f?.promise)?.catch(Bn).finally(()=>{g.updateResult()}),c.notifyOnChangeProps?v:g.trackResult(v)}function bc(t,e){return vO(t,WI)}function rs(t,e){const n=Hr(),[i]=F.useState(()=>new iO(n,t));F.useEffect(()=>{i.setOptions(t)},[i,t]);const a=F.useSyncExternalStore(F.useCallback(c=>i.subscribe(sn.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=F.useCallback((c,f)=>{i.mutate(c,f).catch(Bn)},[i]);if(a.error&&fy(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}var bE={};const nS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},_O=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],f=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,f=c?t[a+1]:0,m=a+2<t.length,g=m?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let T=(f&15)<<2|g>>6,x=g&63;m||(x=64,c||(T=64)),i.push(n[v],n[b],n[T],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_O(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const g=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||g==null||b==null)throw new bO;const T=l<<2|f>>4;if(i.push(T),g!==64){const x=f<<4&240|g>>2;if(i.push(x),b!==64){const M=g<<6&192|b;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EO=function(t){const e=nS(t);return rS.encodeByteArray(e,!0)},jf=function(t){return EO(t).replace(/\./g,"")},iS=function(t){try{return rS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TO=()=>wO().__FIREBASE_DEFAULTS__,SO=()=>{if(typeof process>"u"||typeof bE>"u")return;const t=bE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iS(t[1]);return e&&JSON.parse(e)},ud=()=>{try{return TO()||SO()||AO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sS=t=>{var e,n;return(n=(e=ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RO=t=>{const e=sS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aS=()=>{var t;return(t=ud())===null||t===void 0?void 0:t.config},oS=t=>{var e;return(e=ud())===null||e===void 0?void 0:e[`_${t}`]};class xO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function CO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[jf(JSON.stringify(n)),jf(JSON.stringify(c)),""].join(".")}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function OO(){var t;const e=(t=ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MO(){const t=Mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VO(){return!OO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PO(){try{return typeof indexedDB=="object"}catch{return!1}}function jO(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}const zO="FirebaseError";class is extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zO,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?LO(l,i):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new is(a,f,i)}}function LO(t,e){return t.replace(UO,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const UO=/\{\$([^}]+)}/g;function FO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],c=e[a];if(EE(l)&&EE(c)){if(!zf(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function EE(t){return t!==null&&typeof t=="object"}function wc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Bu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function qu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BO(t,e){const n=new qO(t,e);return n.subscribe.bind(n)}class qO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=Wp),a.error===void 0&&(a.error=Wp),a.complete===void 0&&(a.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wp(){}function on(t){return t&&t._delegate?t._delegate:t}class eo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ha="[DEFAULT]";class $O{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xO;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QO(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GO(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GO(t){return t===Ha?void 0:t}function QO(t){return t.instantiationMode==="EAGER"}class KO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $O(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const ZO={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},YO=tt.INFO,XO={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=XO[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=YO,this._logHandler=WO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const JO=(t,e)=>e.some(n=>t instanceof n);let wE,TE;function eN(){return wE||(wE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tN(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lS=new WeakMap,wg=new WeakMap,uS=new WeakMap,Jp=new WeakMap,gy=new WeakMap;function nN(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(ta(t.result)),a()},c=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&lS.set(n,t)}).catch(()=>{}),gy.set(e,t),e}function rN(t){if(wg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});wg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iN(t){Tg=t(Tg)}function sN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eg(this),e,...n);return uS.set(i,e.sort?e.sort():[e]),ta(i)}:tN().includes(t)?function(...e){return t.apply(eg(this),e),ta(lS.get(this))}:function(...e){return ta(t.apply(eg(this),e))}}function aN(t){return typeof t=="function"?sN(t):(t instanceof IDBTransaction&&rN(t),JO(t,eN())?new Proxy(t,Tg):t)}function ta(t){if(t instanceof IDBRequest)return nN(t);if(Jp.has(t))return Jp.get(t);const e=aN(t);return e!==t&&(Jp.set(t,e),gy.set(e,t)),e}const eg=t=>gy.get(t);function oN(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),f=ta(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ta(c.result),m.oldVersion,m.newVersion,ta(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const lN=["get","getKey","getAll","getAllKeys","count"],uN=["put","add","delete","clear"],tg=new Map;function SE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=uN.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||lN.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),a&&m.done]))[0]};return tg.set(e,l),l}iN(t=>({...t,get:(e,n,i)=>SE(e,n)||t.get(e,n,i),has:(e,n)=>!!SE(e,n)||t.has(e,n)}));class cN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hN(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function hN(t){const e=t.getComponent();return e?.type==="VERSION"}const Sg="@firebase/app",AE="0.10.13";const Ji=new py("@firebase/app"),fN="@firebase/app-compat",dN="@firebase/analytics-compat",mN="@firebase/analytics",pN="@firebase/app-check-compat",gN="@firebase/app-check",yN="@firebase/auth",vN="@firebase/auth-compat",_N="@firebase/database",bN="@firebase/data-connect",EN="@firebase/database-compat",wN="@firebase/functions",TN="@firebase/functions-compat",SN="@firebase/installations",AN="@firebase/installations-compat",RN="@firebase/messaging",xN="@firebase/messaging-compat",CN="@firebase/performance",IN="@firebase/performance-compat",ON="@firebase/remote-config",NN="@firebase/remote-config-compat",DN="@firebase/storage",kN="@firebase/storage-compat",MN="@firebase/firestore",VN="@firebase/vertexai-preview",PN="@firebase/firestore-compat",jN="firebase",zN="10.14.1";const Ag="[DEFAULT]",LN={[Sg]:"fire-core",[fN]:"fire-core-compat",[mN]:"fire-analytics",[dN]:"fire-analytics-compat",[gN]:"fire-app-check",[pN]:"fire-app-check-compat",[yN]:"fire-auth",[vN]:"fire-auth-compat",[_N]:"fire-rtdb",[bN]:"fire-data-connect",[EN]:"fire-rtdb-compat",[wN]:"fire-fn",[TN]:"fire-fn-compat",[SN]:"fire-iid",[AN]:"fire-iid-compat",[RN]:"fire-fcm",[xN]:"fire-fcm-compat",[CN]:"fire-perf",[IN]:"fire-perf-compat",[ON]:"fire-rc",[NN]:"fire-rc-compat",[DN]:"fire-gcs",[kN]:"fire-gcs-compat",[MN]:"fire-fst",[PN]:"fire-fst-compat",[VN]:"fire-vertex","fire-js":"fire-js",[jN]:"fire-js-all"};const ic=new Map,UN=new Map,Rg=new Map;function RE(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(Rg.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of ic.values())RE(n,t);for(const n of UN.values())RE(n,t);return!0}function yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gi(t){return t.settings!==void 0}const FN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Ec("app","Firebase",FN);class BN{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const xl=zN;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw na.create("bad-app-name",{appName:String(a)});if(n||(n=aS()),!n)throw na.create("no-options");const l=ic.get(a);if(l){if(zf(n,l.options)&&zf(i,l.config))return l;throw na.create("duplicate-app",{appName:a})}const c=new KO(a);for(const m of Rg.values())c.addComponent(m);const f=new BN(n,i,c);return ic.set(a,f),f}function vy(t=Ag){const e=ic.get(t);if(!e&&t===Ag&&aS())return cS();if(!e)throw na.create("no-app",{appName:t});return e}function qN(){return Array.from(ic.values())}function ra(t,e,n){var i;let a=(i=LN[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(f.join(" "));return}ml(new eo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const HN="firebase-heartbeat-database",$N=1,sc="firebase-heartbeat-store";let ng=null;function hS(){return ng||(ng=oN(HN,$N,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw na.create("idb-open",{originalErrorMessage:t.message})})),ng}async function GN(t){try{const n=(await hS()).transaction(sc),i=await n.objectStore(sc).get(fS(t));return await n.done,i}catch(e){if(e instanceof is)Ji.warn(e.message);else{const n=na.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function xE(t,e){try{const i=(await hS()).transaction(sc,"readwrite");await i.objectStore(sc).put(e,fS(t)),await i.done}catch(n){if(n instanceof is)Ji.warn(n.message);else{const i=na.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(i.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}const QN=1024,KN=720*60*60*1e3;class ZN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=CE();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const f=new Date(c.date).valueOf();return Date.now()-f<=KN}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ji.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CE(),{heartbeatsToSend:i,unsentEntries:a}=YN(this._heartbeatsCache.heartbeats),l=jf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ji.warn(n),""}}}function CE(){return new Date().toISOString().substring(0,10)}function YN(t,e=QN){const n=[];let i=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),IE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class XN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PO()?jO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function IE(t){return jf(JSON.stringify({version:2,heartbeats:t})).length}function WN(t){ml(new eo("platform-logger",e=>new cN(e),"PRIVATE")),ml(new eo("heartbeat",e=>new ZN(e),"PRIVATE")),ra(Sg,AE,t),ra(Sg,AE,"esm2017"),ra("fire-js","")}WN("");function _y(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=dS,mS=new Ec("auth","Firebase",dS());const Lf=new py("@firebase/auth");function eD(t,...e){Lf.logLevel<=tt.WARN&&Lf.warn(`Auth (${xl}): ${t}`,...e)}function Sf(t,...e){Lf.logLevel<=tt.ERROR&&Lf.error(`Auth (${xl}): ${t}`,...e)}function Ur(t,...e){throw by(t,...e)}function oi(t,...e){return by(t,...e)}function pS(t,e,n){const i=Object.assign(Object.assign({},JN()),{[e]:n});return new Ec("auth","Firebase",i).create(e,{appName:t.name})}function ia(t){return pS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return mS.create(t,...e)}function Me(t,e,...n){if(!t)throw by(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function es(t,e){t||Qi(e)}function xg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tD(){return OE()==="http:"||OE()==="https:"}function OE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tD()||DO()||"connection"in navigator)?navigator.onLine:!0}function rD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=IO()||kO()}get(){return nD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ey(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class gS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sD=new Tc(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,n,i,a={}){return yS(t,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=wc(Object.assign({key:t.config.apiKey},c)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},l);return NO()||(g.referrerPolicy="no-referrer"),gS.fetch()(vS(t,t.config.apiHost,n,f),g)})}async function yS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},iD),e);try{const a=new oD(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw cf(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw cf(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw cf(t,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw pS(t,v,g);Ur(t,v)}}catch(a){if(a instanceof is)throw a;Ur(t,"network-request-failed",{message:String(a)})}}async function cd(t,e,n,i,a={}){const l=await ua(t,e,n,i,a);return"mfaPendingCredential"in l&&Ur(t,"multi-factor-auth-required",{_serverResponse:l}),l}function vS(t,e,n,i){const a=`${e}${n}?${i}`;return t.config.emulator?Ey(t.config,a):`${t.config.apiScheme}://${a}`}function aD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(oi(this.auth,"network-request-failed")),sD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cf(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=oi(t,e,i);return a.customData._tokenResponse=n,a}function NE(t){return t!==void 0&&t.enterprise!==void 0}class lD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uD(t,e){return ua(t,"GET","/v2/recaptchaConfig",oo(t,e))}async function cD(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function _S(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hD(t,e=!1){const n=on(t),i=await n.getIdToken(e),a=wy(i);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Zu(rg(a.auth_time)),issuedAtTime:Zu(rg(a.iat)),expirationTime:Zu(rg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function rg(t){return Number(t)*1e3}function wy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const a=iS(n);return a?JSON.parse(a):(Sf("Failed to decode base64 JWT payload"),null)}catch(a){return Sf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function DE(t){const e=wy(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof is&&fD(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function fD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class dD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Uf(t){var e;const n=t.auth,i=await t.getIdToken(),a=await ac(t,_S(n,{idToken:i}));Me(a?.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?bS(l.providerUserInfo):[],f=pD(t.providerData,c),m=t.isAnonymous,g=!(t.email&&l.passwordHash)&&!f?.length,v=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Cg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function mD(t){const e=on(t);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pD(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function bS(t){return t.map(e=>{var{providerId:n}=e,i=_y(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}async function gD(t,e){const n=await yS(t,{},async()=>{const i=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=vS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",gS.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yD(t,e){return ua(t,"POST","/v2/accounts:revokeToken",oo(t,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=DE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await gD(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,c=new ul;return i&&(Me(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Qs(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hD(this,e)}reload(){return mD(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Uf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await ac(this,cD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,c,f,m,g,v;const b=(i=n.displayName)!==null&&i!==void 0?i:void 0,T=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,M=(c=n.photoURL)!==null&&c!==void 0?c:void 0,P=(f=n.tenantId)!==null&&f!==void 0?f:void 0,U=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Q=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:he,isAnonymous:J,providerData:ve,stsTokenManager:N}=n;Me(ne&&N,e,"internal-error");const A=ul.fromJSON(this.name,N);Me(typeof ne=="string",e,"internal-error"),Qs(b,e.name),Qs(T,e.name),Me(typeof he=="boolean",e,"internal-error"),Me(typeof J=="boolean",e,"internal-error"),Qs(x,e.name),Qs(M,e.name),Qs(P,e.name),Qs(U,e.name),Qs(W,e.name),Qs(Q,e.name);const I=new Ki({uid:ne,auth:e,email:T,emailVerified:he,displayName:b,isAnonymous:J,photoURL:M,phoneNumber:x,tenantId:P,stsTokenManager:A,createdAt:W,lastLoginAt:Q});return ve&&Array.isArray(ve)&&(I.providerData=ve.map(O=>Object.assign({},O))),U&&(I._redirectEventId=U),I}static async _fromIdTokenResponse(e,n,i=!1){const a=new ul;a.updateFromServerResponse(n);const l=new Ki({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Uf(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?bS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new ul;f.updateFromIdToken(i);const m=new Ki({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const kE=new Map;function Zi(t){es(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}class ES{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ES.type="NONE";const ME=ES;function Af(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,l),this.fullPersistenceKey=Af("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new cl(Zi(ME),e,i);const a=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Zi(ME);const c=Af(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(c);if(v){const b=Ki._fromJSON(e,v);g!==l&&(f=b),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new cl(l,e,i):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new cl(l,e,i))}}function VE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xS(e))return"Blackberry";if(CS(e))return"Webos";if(TS(e))return"Safari";if((e.includes("chrome/")||SS(e))&&!e.includes("edge/"))return"Chrome";if(RS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function wS(t=Mn()){return/firefox\//i.test(t)}function TS(t=Mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SS(t=Mn()){return/crios\//i.test(t)}function AS(t=Mn()){return/iemobile/i.test(t)}function RS(t=Mn()){return/android/i.test(t)}function xS(t=Mn()){return/blackberry/i.test(t)}function CS(t=Mn()){return/webos/i.test(t)}function Ty(t=Mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vD(t=Mn()){var e;return Ty(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _D(){return MO()&&document.documentMode===10}function IS(t=Mn()){return Ty(t)||RS(t)||CS(t)||xS(t)||/windows phone/i.test(t)||AS(t)}function OS(t,e=[]){let n;switch(t){case"Browser":n=VE(Mn());break;case"Worker":n=`${VE(Mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${i}`}class bD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((c,f)=>{try{const m=e(l);c(m)}catch(m){f(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function ED(t,e={}){return ua(t,"GET","/v2/passwordPolicy",oo(t,e))}const wD=6;class TD{constructor(e){var n,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:wD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class SD{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PE(this),this.idTokenSubscription=new PE(this),this.beforeStateQueue=new bD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _S(this,{idToken:e}),i=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gi(this.app))return Promise.reject(ia(this));const n=e?on(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gi(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ED(this),n=new TD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await yD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&eD(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Cl(t){return on(t)}class PE{constructor(e){this.auth=e,this.observer=null,this.addObserver=BO(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AD(t){hd=t}function NS(t){return hd.loadJS(t)}function RD(){return hd.recaptchaEnterpriseScript}function xD(){return hd.gapiScript}function CD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ID="recaptcha-enterprise",OD="NO_RECAPTCHA";class ND{constructor(e){this.type=ID,this.auth=Cl(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{uD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new lD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;NE(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(OD)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{i(this.auth).then(f=>{if(!n&&NE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=RD();m.length!==0&&(m+=f),NS(m).then(()=>{a(f,l,c)}).catch(g=>{c(g)})}}).catch(f=>{c(f)})})}}async function jE(t,e,n,i=!1){const a=new ND(t);let l;try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zE(t,e,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await jE(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await jE(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(l)})}function DD(t,e){const n=yy(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(zf(l,e??{}))return a;Ur(a,"already-initialized")}return n.initialize({options:e})}function kD(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function MD(t,e,n){const i=Cl(t);Me(i._canInitEmulator,i,"emulator-config-failed"),Me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=DS(e),{host:c,port:f}=VD(e),m=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${c}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),PD()}function DS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VD(t){const e=DS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:LE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:LE(c)}}}function LE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Sy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function jD(t,e){return ua(t,"POST","/v1/accounts:signUp",e)}async function zD(t,e){return cd(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}async function LD(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function UD(t,e){return cd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}class oc extends Sy{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new oc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,n,"signInWithPassword",zD);case"emailLink":return LD(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,i,"signUpPassword",jD);case"emailLink":return UD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hl(t,e){return cd(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}const FD="http://localhost";class to extends Sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=_y(n,["providerId","signInMethod"]);if(!i||!a)return null;const c=new to(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,hl(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}function BD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qD(t){const e=Bu(qu(t)).link,n=e?Bu(qu(e)).deep_link_id:null,i=Bu(qu(t)).deep_link_id;return(i?Bu(qu(i)).link:null)||i||n||e||t}class Ay{constructor(e){var n,i,a,l,c,f;const m=Bu(qu(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,b=BD((a=m.mode)!==null&&a!==void 0?a:null);Me(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=qD(e);try{return new Ay(n)}catch{return null}}}class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Ay.parseLink(n);return Me(i,"argument-error"),oc._fromEmailAndCode(e,i.code,i.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Sc extends kS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Sc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Ys extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ys.credential(n,i)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends Sc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class Ws extends Sc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ws.credential(n,i)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ki._fromIdTokenResponse(e,i,a),c=UE(i);return new pl({user:l,providerId:c,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=UE(i);return new pl({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function UE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ff extends is{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new Ff(e,n,i,a)}}function MS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,l,e,i):l})}async function HD(t,e,n=!1){const i=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pl._forOperation(t,"link",i)}async function $D(t,e,n=!1){const{auth:i}=t;if(Gi(i.app))return Promise.reject(ia(i));const a="reauthenticate";try{const l=await ac(t,MS(i,a,e,t),n);Me(l.idToken,i,"internal-error");const c=wy(l.idToken);Me(c,i,"internal-error");const{sub:f}=c;return Me(t.uid===f,i,"user-mismatch"),pl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ur(i,"user-mismatch"),l}}async function VS(t,e,n=!1){if(Gi(t.app))return Promise.reject(ia(t));const i="signIn",a=await MS(t,i,e),l=await pl._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function GD(t,e){return VS(Cl(t),e)}async function QD(t){const e=Cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KD(t,e,n){return Gi(t.app)?Promise.reject(ia(t)):GD(on(t),Il.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&QD(t),i})}function ZD(t,e){return on(t).setPersistence(e)}function YD(t,e,n,i){return on(t).onIdTokenChanged(e,n,i)}function XD(t,e,n){return on(t).beforeAuthStateChanged(e,n)}function WD(t,e,n,i){return on(t).onAuthStateChanged(e,n,i)}function JD(t){return on(t).signOut()}const Bf="__sak";class PS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ek=1e3,tk=10;class jS extends PS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!n&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_D()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tk):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jS.type="LOCAL";const zS=jS;class LS extends PS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LS.type="SESSION";const US=LS;function nk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new fd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(c).map(async g=>g(n.origin,l)),m=await nk(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];function Ry(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class rk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const g=Ry("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function li(){return window}function ik(t){li().location.href=t}function FS(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function sk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ak(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ok(){return FS()?self:null}const BS="firebaseLocalStorageDb",lk=1,qf="firebaseLocalStorage",qS="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(t,e){return t.transaction([qf],e?"readwrite":"readonly").objectStore(qf)}function uk(){const t=indexedDB.deleteDatabase(BS);return new Ac(t).toPromise()}function Ig(){const t=indexedDB.open(BS,lk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qf,{keyPath:qS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qf)?e(i):(i.close(),await uk(),e(await Ig()))})})}async function FE(t,e,n){const i=dd(t,!0).put({[qS]:e,value:n});return new Ac(i).toPromise()}async function ck(t,e){const n=dd(t,!1).get(e),i=await new Ac(n).toPromise();return i===void 0?null:i.value}function BE(t,e){const n=dd(t,!0).delete(e);return new Ac(n).toPromise()}const hk=800,fk=3;class HS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>fk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(ok()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sk(),!this.activeServiceWorker)return;this.sender=new rk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await FE(e,Bf,"1"),await BE(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>FE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>ck(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=dd(a,!1).getAll();return new Ac(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HS.type="LOCAL";const dk=HS;new Tc(3e4,6e4);function mk(t,e){return e?Zi(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class xy extends Sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pk(t){return VS(t.auth,new xy(t),t.bypassAuthState)}function gk(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),$D(n,new xy(t),t.bypassAuthState)}async function yk(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),HD(n,new xy(t),t.bypassAuthState)}class $S{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pk;case"linkViaPopup":case"linkViaRedirect":return yk;case"reauthViaPopup":case"reauthViaRedirect":return gk;default:Ur(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vk=new Tc(2e3,1e4);class al extends $S{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vk.get())};e()}}al.currentPopupAction=null;const _k="pendingRedirect",Rf=new Map;class bk extends $S{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rf.get(this.auth._key());if(!e){try{const i=await Ek(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rf.set(this.auth._key(),e)}return this.bypassAuthState||Rf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ek(t,e){const n=Sk(e),i=Tk(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function wk(t,e){Rf.set(t._key(),e)}function Tk(t){return Zi(t._redirectPersistence)}function Sk(t){return Af(_k,t.config.apiKey,t.name)}async function Ak(t,e,n=!1){if(Gi(t.app))return Promise.reject(ia(t));const i=Cl(t),a=mk(i,e),c=await new bk(i,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const Rk=600*1e3;class xk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ck(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!GS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rk&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Ck(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(t);default:return!1}}async function Ik(t,e={}){return ua(t,"GET","/v1/projects",e)}const Ok=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nk=/^https?/;async function Dk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ik(t);for(const n of e)try{if(kk(n))return}catch{}Ur(t,"unauthorized-domain")}function kk(t){const e=xg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===i}if(!Nk.test(n))return!1;if(Ok.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Mk=new Tc(3e4,6e4);function HE(){const t=li().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vk(t){return new Promise((e,n)=>{var i,a,l;function c(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(oi(t,"network-request-failed"))},timeout:Mk.get()})}if(!((a=(i=li().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=li().gapi)===null||l===void 0)&&l.load)c();else{const f=CD("iframefcb");return li()[f]=()=>{gapi.load?c():n(oi(t,"network-request-failed"))},NS(`${xD()}?onload=${f}`).catch(m=>n(m))}}).catch(e=>{throw xf=null,e})}let xf=null;function Pk(t){return xf=xf||Vk(t),xf}const jk=new Tc(5e3,15e3),zk="__/auth/iframe",Lk="emulator/auth/iframe",Uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bk(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ey(e,Lk):`https://${t.config.authDomain}/${zk}`,i={apiKey:e.apiKey,appName:t.name,v:xl},a=Fk.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${wc(i).slice(1)}`}async function qk(t){const e=await Pk(t),n=li().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:Bk(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=oi(t,"network-request-failed"),f=li().setTimeout(()=>{l(c)},jk.get());function m(){li().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const Hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$k=500,Gk=600,Qk="_blank",Kk="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zk(t,e,n,i=$k,a=Gk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Hk),{width:i.toString(),height:a.toString(),top:l,left:c}),g=Mn().toLowerCase();n&&(f=SS(g)?Qk:n),wS(g)&&(e=e||Kk,m.scrollbars="yes");const v=Object.entries(m).reduce((T,[x,M])=>`${T}${x}=${M},`,"");if(vD(g)&&f!=="_self")return Yk(e||"",f),new $E(null);const b=window.open(e||"",f,v);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new $E(b)}function Yk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const Xk="__/auth/handler",Wk="emulator/auth/handler",Jk=encodeURIComponent("fac");async function GE(t,e,n,i,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:xl,eventId:a};if(e instanceof kS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",FO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Sc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await t._getAppCheckToken(),g=m?`#${Jk}=${encodeURIComponent(m)}`:"";return`${e2(t)}?${wc(f).slice(1)}${g}`}function e2({config:t}){return t.emulator?Ey(t,Wk):`https://${t.authDomain}/${Xk}`}const ig="webStorageSupport";class t2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=US,this._completeRedirectFn=Ak,this._overrideRedirectResult=wk}async _openPopup(e,n,i,a){var l;es((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await GE(e,n,i,xg(),a);return Zk(e,c,Ry())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await GE(e,n,i,xg(),a);return ik(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(es(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await qk(e),i=new xk(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[ig];c!==void 0&&n(!!c),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Dk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IS()||TS()||Ty()}}const n2=t2;var QE="@firebase/auth",KE="1.7.9";class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function i2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(t){ml(new eo("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OS(t)},g=new SD(i,a,l,m);return kD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ml(new eo("auth-internal",e=>{const n=Cl(e.getProvider("auth").getImmediate());return(i=>new r2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ra(QE,KE,i2(t)),ra(QE,KE,"esm2017")}const a2=300,o2=oS("authIdTokenMaxAge")||a2;let ZE=null;const l2=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>o2)return;const a=n?.token;ZE!==a&&(ZE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function u2(t=vy()){const e=yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DD(t,{popupRedirectResolver:n2,persistence:[dk,zS,US]}),i=oS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=l2(l.toString());XD(n,c,()=>c(n.currentUser)),YD(n,f=>c(f))}}const a=sS("auth");return a&&MD(n,`http://${a}`),n}function c2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AD({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=oi("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",c2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ya,QS;(function(){var t;function e(N,A){function I(){}I.prototype=A.prototype,N.D=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(O,z,D){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return A.prototype[z].apply(O,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,I){I||(I=0);var O=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)O[z]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(z=0;16>z;++z)O[z]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],z=N.g[2];var D=N.g[3],C=A+(D^I&(z^D))+O[0]+3614090360&4294967295;A=I+(C<<7&4294967295|C>>>25),C=D+(z^A&(I^z))+O[1]+3905402710&4294967295,D=A+(C<<12&4294967295|C>>>20),C=z+(I^D&(A^I))+O[2]+606105819&4294967295,z=D+(C<<17&4294967295|C>>>15),C=I+(A^z&(D^A))+O[3]+3250441966&4294967295,I=z+(C<<22&4294967295|C>>>10),C=A+(D^I&(z^D))+O[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=D+(z^A&(I^z))+O[5]+1200080426&4294967295,D=A+(C<<12&4294967295|C>>>20),C=z+(I^D&(A^I))+O[6]+2821735955&4294967295,z=D+(C<<17&4294967295|C>>>15),C=I+(A^z&(D^A))+O[7]+4249261313&4294967295,I=z+(C<<22&4294967295|C>>>10),C=A+(D^I&(z^D))+O[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=D+(z^A&(I^z))+O[9]+2336552879&4294967295,D=A+(C<<12&4294967295|C>>>20),C=z+(I^D&(A^I))+O[10]+4294925233&4294967295,z=D+(C<<17&4294967295|C>>>15),C=I+(A^z&(D^A))+O[11]+2304563134&4294967295,I=z+(C<<22&4294967295|C>>>10),C=A+(D^I&(z^D))+O[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=D+(z^A&(I^z))+O[13]+4254626195&4294967295,D=A+(C<<12&4294967295|C>>>20),C=z+(I^D&(A^I))+O[14]+2792965006&4294967295,z=D+(C<<17&4294967295|C>>>15),C=I+(A^z&(D^A))+O[15]+1236535329&4294967295,I=z+(C<<22&4294967295|C>>>10),C=A+(z^D&(I^z))+O[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=D+(I^z&(A^I))+O[6]+3225465664&4294967295,D=A+(C<<9&4294967295|C>>>23),C=z+(A^I&(D^A))+O[11]+643717713&4294967295,z=D+(C<<14&4294967295|C>>>18),C=I+(D^A&(z^D))+O[0]+3921069994&4294967295,I=z+(C<<20&4294967295|C>>>12),C=A+(z^D&(I^z))+O[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=D+(I^z&(A^I))+O[10]+38016083&4294967295,D=A+(C<<9&4294967295|C>>>23),C=z+(A^I&(D^A))+O[15]+3634488961&4294967295,z=D+(C<<14&4294967295|C>>>18),C=I+(D^A&(z^D))+O[4]+3889429448&4294967295,I=z+(C<<20&4294967295|C>>>12),C=A+(z^D&(I^z))+O[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=D+(I^z&(A^I))+O[14]+3275163606&4294967295,D=A+(C<<9&4294967295|C>>>23),C=z+(A^I&(D^A))+O[3]+4107603335&4294967295,z=D+(C<<14&4294967295|C>>>18),C=I+(D^A&(z^D))+O[8]+1163531501&4294967295,I=z+(C<<20&4294967295|C>>>12),C=A+(z^D&(I^z))+O[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=D+(I^z&(A^I))+O[2]+4243563512&4294967295,D=A+(C<<9&4294967295|C>>>23),C=z+(A^I&(D^A))+O[7]+1735328473&4294967295,z=D+(C<<14&4294967295|C>>>18),C=I+(D^A&(z^D))+O[12]+2368359562&4294967295,I=z+(C<<20&4294967295|C>>>12),C=A+(I^z^D)+O[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=D+(A^I^z)+O[8]+2272392833&4294967295,D=A+(C<<11&4294967295|C>>>21),C=z+(D^A^I)+O[11]+1839030562&4294967295,z=D+(C<<16&4294967295|C>>>16),C=I+(z^D^A)+O[14]+4259657740&4294967295,I=z+(C<<23&4294967295|C>>>9),C=A+(I^z^D)+O[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=D+(A^I^z)+O[4]+1272893353&4294967295,D=A+(C<<11&4294967295|C>>>21),C=z+(D^A^I)+O[7]+4139469664&4294967295,z=D+(C<<16&4294967295|C>>>16),C=I+(z^D^A)+O[10]+3200236656&4294967295,I=z+(C<<23&4294967295|C>>>9),C=A+(I^z^D)+O[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=D+(A^I^z)+O[0]+3936430074&4294967295,D=A+(C<<11&4294967295|C>>>21),C=z+(D^A^I)+O[3]+3572445317&4294967295,z=D+(C<<16&4294967295|C>>>16),C=I+(z^D^A)+O[6]+76029189&4294967295,I=z+(C<<23&4294967295|C>>>9),C=A+(I^z^D)+O[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=D+(A^I^z)+O[12]+3873151461&4294967295,D=A+(C<<11&4294967295|C>>>21),C=z+(D^A^I)+O[15]+530742520&4294967295,z=D+(C<<16&4294967295|C>>>16),C=I+(z^D^A)+O[2]+3299628645&4294967295,I=z+(C<<23&4294967295|C>>>9),C=A+(z^(I|~D))+O[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=D+(I^(A|~z))+O[7]+1126891415&4294967295,D=A+(C<<10&4294967295|C>>>22),C=z+(A^(D|~I))+O[14]+2878612391&4294967295,z=D+(C<<15&4294967295|C>>>17),C=I+(D^(z|~A))+O[5]+4237533241&4294967295,I=z+(C<<21&4294967295|C>>>11),C=A+(z^(I|~D))+O[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=D+(I^(A|~z))+O[3]+2399980690&4294967295,D=A+(C<<10&4294967295|C>>>22),C=z+(A^(D|~I))+O[10]+4293915773&4294967295,z=D+(C<<15&4294967295|C>>>17),C=I+(D^(z|~A))+O[1]+2240044497&4294967295,I=z+(C<<21&4294967295|C>>>11),C=A+(z^(I|~D))+O[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=D+(I^(A|~z))+O[15]+4264355552&4294967295,D=A+(C<<10&4294967295|C>>>22),C=z+(A^(D|~I))+O[6]+2734768916&4294967295,z=D+(C<<15&4294967295|C>>>17),C=I+(D^(z|~A))+O[13]+1309151649&4294967295,I=z+(C<<21&4294967295|C>>>11),C=A+(z^(I|~D))+O[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=D+(I^(A|~z))+O[11]+3174756917&4294967295,D=A+(C<<10&4294967295|C>>>22),C=z+(A^(D|~I))+O[2]+718787259&4294967295,z=D+(C<<15&4294967295|C>>>17),C=I+(D^(z|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(z+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+z&4294967295,N.g[3]=N.g[3]+D&4294967295}i.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var I=A-this.blockSize,O=this.B,z=this.h,D=0;D<A;){if(z==0)for(;D<=I;)a(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<A;)if(O[z++]=N.charCodeAt(D++),z==this.blockSize){a(this,O),z=0;break}}else for(;D<A;)if(O[z++]=N[D++],z==this.blockSize){a(this,O),z=0;break}}this.h=z,this.o+=A},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var I=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=I&255,I/=256;for(this.u(N),N=Array(16),A=I=0;4>A;++A)for(var O=0;32>O;O+=8)N[I++]=this.g[A]>>>O&255;return N};function l(N,A){var I=f;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function c(N,A){this.h=A;for(var I=[],O=!0,z=N.length-1;0<=z;z--){var D=N[z]|0;O&&D==A||(I[z]=D,O=!1)}this.g=I}var f={};function m(N){return-128<=N&&128>N?l(N,function(A){return new c([A|0],0>A?-1:0)}):new c([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return U(g(-N));for(var A=[],I=1,O=0;N>=I;O++)A[O]=N/I|0,I*=4294967296;return new c(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return U(v(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(A,8)),O=b,z=0;z<N.length;z+=8){var D=Math.min(8,N.length-z),C=parseInt(N.substring(z,z+D),A);8>D?(D=g(Math.pow(A,D)),O=O.j(D).add(g(C))):(O=O.j(I),O=O.add(g(C)))}return O}var b=m(0),T=m(1),x=m(16777216);t=c.prototype,t.m=function(){if(P(this))return-U(this).m();for(var N=0,A=1,I=0;I<this.g.length;I++){var O=this.i(I);N+=(0<=O?O:4294967296+O)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(P(this))return"-"+U(this).toString(N);for(var A=g(Math.pow(N,6)),I=this,O="";;){var z=he(I,A).g;I=W(I,z.j(A));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=z,M(I))return D+O;for(;6>D.length;)D="0"+D;O=D+O}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function P(N){return N.h==-1}t.l=function(N){return N=W(this,N),P(N)?-1:M(N)?0:1};function U(N){for(var A=N.g.length,I=[],O=0;O<A;O++)I[O]=~N.g[O];return new c(I,~N.h).add(T)}t.abs=function(){return P(this)?U(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],O=0,z=0;z<=A;z++){var D=O+(this.i(z)&65535)+(N.i(z)&65535),C=(D>>>16)+(this.i(z)>>>16)+(N.i(z)>>>16);O=C>>>16,D&=65535,C&=65535,I[z]=C<<16|D}return new c(I,I[I.length-1]&-2147483648?-1:0)};function W(N,A){return N.add(U(A))}t.j=function(N){if(M(this)||M(N))return b;if(P(this))return P(N)?U(this).j(U(N)):U(U(this).j(N));if(P(N))return U(this.j(U(N)));if(0>this.l(x)&&0>N.l(x))return g(this.m()*N.m());for(var A=this.g.length+N.g.length,I=[],O=0;O<2*A;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var z=0;z<N.g.length;z++){var D=this.i(O)>>>16,C=this.i(O)&65535,ke=N.i(z)>>>16,Fe=N.i(z)&65535;I[2*O+2*z]+=C*Fe,Q(I,2*O+2*z),I[2*O+2*z+1]+=D*Fe,Q(I,2*O+2*z+1),I[2*O+2*z+1]+=C*ke,Q(I,2*O+2*z+1),I[2*O+2*z+2]+=D*ke,Q(I,2*O+2*z+2)}for(O=0;O<A;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=A;O<2*A;O++)I[O]=0;return new c(I,0)};function Q(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ne(N,A){this.g=N,this.h=A}function he(N,A){if(M(A))throw Error("division by zero");if(M(N))return new ne(b,b);if(P(N))return A=he(U(N),A),new ne(U(A.g),U(A.h));if(P(A))return A=he(N,U(A)),new ne(U(A.g),A.h);if(30<N.g.length){if(P(N)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var I=T,O=A;0>=O.l(N);)I=J(I),O=J(O);var z=ve(I,1),D=ve(O,1);for(O=ve(O,2),I=ve(I,2);!M(O);){var C=D.add(O);0>=C.l(N)&&(z=z.add(I),D=C),O=ve(O,1),I=ve(I,1)}return A=W(N,z.j(A)),new ne(z,A)}for(z=b;0<=N.l(A);){for(I=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),D=g(I),C=D.j(A);P(C)||0<C.l(N);)I-=O,D=g(I),C=D.j(A);M(D)&&(D=T),z=z.add(D),N=W(N,C)}return new ne(z,N)}t.A=function(N){return he(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)&N.i(O);return new c(I,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)|N.i(O);return new c(I,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),I=[],O=0;O<A;O++)I[O]=this.i(O)^N.i(O);return new c(I,this.h^N.h)};function J(N){for(var A=N.g.length+1,I=[],O=0;O<A;O++)I[O]=N.i(O)<<1|N.i(O-1)>>>31;return new c(I,N.h)}function ve(N,A){var I=A>>5;A%=32;for(var O=N.g.length-I,z=[],D=0;D<O;D++)z[D]=0<A?N.i(D+I)>>>A|N.i(D+I+1)<<32-A:N.i(D+I);return new c(z,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,QS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ya=c}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KS,Hu,ZS,Cf,Og,YS,XS,WS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hf=="object"&&hf];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(h,y){if(y)e:{var E=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in E))break e;E=E[q]}h=h[h.length-1],R=E[h],y=y(R),y!=R&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var E=0,R=!1,q={next:function(){if(!R&&E<h.length){var X=E++;return{value:y(X,h[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,E){return E})}});var c=c||{},f=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,E){return h.call.apply(h.bind,arguments)}function b(h,y,E){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function T(h,y,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,T.apply(null,arguments)}function x(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function M(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(R,q,X){for(var ge=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)ge[ut-2]=arguments[ut];return y.prototype[q].apply(R,ge)}}function P(h){const y=h.length;if(0<y){const E=Array(y);for(let R=0;R<y;R++)E[R]=h[R];return E}return[]}function U(h,y){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(m(R)){const q=h.length||0,X=R.length||0;h.length=q+X;for(let ge=0;ge<X;ge++)h[q+ge]=R[ge]}else h.push(R)}}class W{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(h){return/^[\s\xa0]*$/.test(h)}function ne(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function he(h){return he[" "](h),h}he[" "]=function(){};var J=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function ve(h,y,E){for(const R in h)y.call(E,h[R],R,h)}function N(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function A(h){const y={};for(const E in h)y[E]=h[E];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(h,y){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)h[E]=R[E];for(let X=0;X<I.length;X++)E=I[X],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function z(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function D(h){f.setTimeout(()=>{throw h},0)}function C(){var h=Be;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,E){const R=Fe.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Fe=new W(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,oe=!1,Be=new ke,He=()=>{const h=f.Promise.resolve(void 0);fe=()=>{h.then(j)}};var j=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(E){D(E)}var y=Fe;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}oe=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return h})();function Ie(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(J){e:{try{he(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ve[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}M(Ie,le);var Ve={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),bt=0;function Ee(h,y,E,R,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=q,this.key=++bt,this.da=this.fa=!1}function jt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mn(h){this.src=h,this.g={},this.h=0}mn.prototype.add=function(h,y,E,R,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ge=mi(h,y,R,q);return-1<ge?(y=h[ge],E||(y.fa=!1)):(y=new Ee(y,this.src,X,!!R,q),y.fa=E,h.push(y)),y};function Hn(h,y){var E=y.type;if(E in h.g){var R=h.g[E],q=Array.prototype.indexOf.call(R,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(R,q,1),X&&(jt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function mi(h,y,E,R){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==R)return q}return-1}var er="closure_lm_"+(1e6*Math.random()|0),$r={};function pi(h,y,E,R,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)pi(h,y[X],E,R,q);return null}return E=pe(E),h&&h[Ce]?h.K(y,E,g(R)?!!R.capture:!1,q):jl(h,y,E,!1,R,q)}function jl(h,y,E,R,q,X){if(!y)throw Error("Invalid event type");var ge=g(q)?!!q.capture:!!q,ut=ee(h);if(ut||(h[er]=ut=new mn(h)),E=ut.add(y,E,R,ge,X),E.proxy)return E;if(R=fo(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)ye||(q=ge),q===void 0&&(q=!1),h.addEventListener(y.toString(),R,q);else if(h.attachEvent)h.attachEvent(V(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function fo(){function h(E){return y.call(h.src,h.listener,E)}const y=$;return h}function ma(h,y,E,R,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)ma(h,y[X],E,R,q);else R=g(R)?!!R.capture:!!R,E=pe(E),h&&h[Ce]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],E=mi(X,E,R,q),-1<E&&(jt(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=ee(h))&&(y=h.g[y.toString()],h=-1,y&&(h=mi(y,E,R,q)),(E=-1<h?y[h]:null)&&Gr(E))}function Gr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ce])Hn(y.i,h);else{var E=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(E,R,h.capture):y.detachEvent?y.detachEvent(V(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=ee(y))?(Hn(E,h),E.h==0&&(E.src=null,y[er]=null)):jt(h)}}}function V(h){return h in $r?$r[h]:$r[h]="on"+h}function $(h,y){if(h.da)h=!0;else{y=new Ie(y,this);var E=h.listener,R=h.ha||h.src;h.fa&&Gr(h),h=E.call(R,y)}return h}function ee(h){return h=h[er],h instanceof mn?h:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(h){return typeof h=="function"?h:(h[me]||(h[me]=function(y){return h.handleEvent(y)}),h[me])}function ce(){te.call(this),this.i=new mn(this),this.M=this,this.F=null}M(ce,te),ce.prototype[Ce]=!0,ce.prototype.removeEventListener=function(h,y,E,R){ma(this,h,y,E,R)};function _e(h,y){var E,R=h.F;if(R)for(E=[];R;R=R.F)E.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var q=y;y=new le(R,h),O(y,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var ge=y.g=E[X];q=Ge(ge,R,!0,y)&&q}if(ge=y.g=h,q=Ge(ge,R,!0,y)&&q,q=Ge(ge,R,!1,y)&&q,E)for(X=0;X<E.length;X++)ge=y.g=E[X],q=Ge(ge,R,!1,y)&&q}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],R=0;R<E.length;R++)jt(E[R]);delete h.g[y],h.h--}}this.F=null},ce.prototype.K=function(h,y,E,R){return this.i.add(String(h),y,!1,E,R)},ce.prototype.L=function(h,y,E,R){return this.i.add(String(h),y,!0,E,R)};function Ge(h,y,E,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var ge=y[X];if(ge&&!ge.da&&ge.capture==E){var ut=ge.listener,Ht=ge.ha||ge.src;ge.fa&&Hn(h.i,ge),q=ut.call(Ht,R)!==!1&&q}}return q&&!R.defaultPrevented}function nt(h,y,E){if(typeof h=="function")E&&(h=T(h,E));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(h,y||0)}function zt(h){h.g=nt(()=>{h.g=null,h.i&&(h.i=!1,zt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Cr extends te{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(h){te.call(this),this.h=h,this.g={}}M(xn,te);var Qr=[];function qt(h){ve(h.g,function(y,E){this.g.hasOwnProperty(E)&&Gr(y)},h),h.g={}}xn.prototype.N=function(){xn.aa.N.call(this),qt(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=f.JSON.stringify,pn=f.JSON.parse,mo=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function pa(){}pa.prototype.h=null;function ga(h){return h.h||(h.h=h.i())}function ya(){}var Kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function as(){le.call(this,"d")}M(as,le);function Ir(){le.call(this,"c")}M(Ir,le);var dr={},os=null;function po(){return os=os||new ce}dr.La="serverreachability";function zl(h){le.call(this,dr.La,h)}M(zl,le);function gi(h){const y=po();_e(y,new zl(y))}dr.STAT_EVENT="statevent";function ls(h,y){le.call(this,dr.STAT_EVENT,h),this.stat=y}M(ls,le);function gn(h){const y=po();_e(y,new ls(y,h))}dr.Ma="timingevent";function Ll(h,y){le.call(this,dr.Ma,h),this.size=y}M(Ll,le);function us(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},y)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function Ul(h,y,E,R,q,X){h.info(function(){if(h.g)if(X)for(var ge="",ut=X.split("&"),Ht=0;Ht<ut.length;Ht++){var Qe=ut[Ht].split("=");if(1<Qe.length){var un=Qe[0];Qe=Qe[1];var cn=un.split("_");ge=2<=cn.length&&cn[1]=="type"?ge+(un+"="+Qe+"&"):ge+(un+"=redacted&")}}else ge=null;else ge=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+y+`
`+E+`
`+ge})}function Fl(h,y,E,R,q,X,ge){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+y+`
`+E+`
`+X+" "+ge})}function yi(h,y,E,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Zr(h,E)+(R?" "+R:"")})}function jc(h,y){h.info(function(){return"TIMEOUT: "+y})}cs.prototype.info=function(){};function Zr(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var R=E[h];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ge=1;ge<q.length;ge++)q[ge]=""}}}}return Cn(E)}catch{return y}}var kt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function hs(){}M(hs,pa),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Yr=new hs;function Xr(h,y,E,R){this.j=h,this.i=y,this.l=E,this.R=R||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zc}function zc(){this.i=null,this.g="",this.h=!1}var Bl={},vi={};function va(h,y,E){h.L=1,h.v=Ea(Mt(y)),h.m=E,h.P=!0,_i(h,null)}function _i(h,y){h.F=Date.now(),Or(h),h.A=Mt(h.v);var E=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),wi(E.i,"t",R),h.C=0,E=h.j.J,h.h=new zc,h.g=eh(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Cr(T(h.Y,h,h.g),h.O)),y=h.U,E=h.g,R=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Qr[0]=q.toString()),q=Qr);for(var X=0;X<q.length;X++){var ge=pi(E,q[X],R||y.handleEvent,!1,y.h||y);if(!ge)break;y.g[ge.key]=ge}y=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),gi(),Ul(h.i,h.u,h.A,h.l,h.R,h.m)}Xr.prototype.ca=function(h){h=h.target;const y=this.M;y&&jn(h)==3?y.j():this.Y(h)},Xr.prototype.Y=function(h){try{if(h==this.g)e:{const cn=jn(this.g);var y=this.g.Ba();const Ss=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||cn!=4||y==7||(y==8||0>=Ss?gi(3):gi(2)),go(this);var E=this.g.Z();this.X=E;t:if(bi(this)){var R=Sa(this.g);h="";var q=R.length,X=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),fs(this);var ge="";break t}this.h.i=new f.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(X&&y==q-1)});R.length=0,this.h.g+=h,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=E==200,Fl(this.i,this.u,this.A,this.l,this.R,cn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ut,Ht=this.g;if((ut=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ut)){var Qe=ut;break t}}Qe=null}if(E=Qe)yi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,E);else{this.o=!1,this.s=3,gn(12),Vn(this),fs(this);break e}}if(this.P){E=!0;let Gn;for(;!this.J&&this.C<ge.length;)if(Gn=_a(this,ge),Gn==vi){cn==4&&(this.s=4,gn(14),E=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Bl){this.s=4,gn(15),yi(this.i,this.l,ge,"[Invalid Chunk]"),E=!1;break}else yi(this.i,this.l,Gn,null),Wr(this,Gn);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||ge.length!=0||this.h.h||(this.s=1,gn(16),E=!1),this.o=this.o&&E,!E)yi(this.i,this.l,ge,"[Invalid Chunked Response]"),Vn(this),fs(this);else if(0<ge.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Jl(un),un.M=!0,gn(11))}}else yi(this.i,this.l,ge,null),Wr(this,ge);cn==4&&Vn(this),this.o&&!this.J&&(cn==4?Xc(this.j,this):(this.o=!1,Or(this)))}else $c(this.g),E==400&&0<ge.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Vn(this),fs(this)}}}catch{}};function bi(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function _a(h,y){var E=h.C,R=y.indexOf(`
`,E);return R==-1?vi:(E=Number(y.substring(E,R)),isNaN(E)?Bl:(R+=1,R+E>y.length?vi:(y=y.slice(R,R+E),h.C=R+E,y)))}Xr.prototype.cancel=function(){this.J=!0,Vn(this)};function Or(h){h.S=Date.now()+h.I,Lt(h,h.I)}function Lt(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=us(T(h.ba,h),y)}function go(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Xr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(jc(this.i,this.A),this.L!=2&&(gi(),gn(17)),Vn(this),this.s=2,fs(this)):Lt(this,this.S-h)};function fs(h){h.j.G==0||h.J||Xc(h.j,h)}function Vn(h){go(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,qt(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Wr(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||ds(E.h,h))){if(!h.K&&ds(E.h,h)&&E.G==3){try{var R=E.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ws(E),Es(E);else break e;Wl(E),gn(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=us(T(E.Za,E),6e3));if(1>=Lc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Si(E,11)}else if((h.K||E.g==h)&&ws(E),!Q(y))for(q=E.Da.g.parse(y),y=0;y<q.length;y++){let Qe=q[y];if(E.T=Qe[0],Qe=Qe[1],E.G==2)if(Qe[0]=="c"){E.K=Qe[1],E.ia=Qe[2];const un=Qe[3];un!=null&&(E.la=un,E.j.info("VER="+E.la));const cn=Qe[4];cn!=null&&(E.Aa=cn,E.j.info("SVER="+E.Aa));const Ss=Qe[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(R=1.5*Ss,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Gn=h.g;if(Gn){const xa=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var X=R.h;X.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ms(X,X.h),X.h=null))}if(R.D){const Ai=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ai&&(R.ya=Ai,it(R.I,R.D,Ai))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ge=h;if(R.qa=Jc(R,R.J?R.ia:null,R.W),ge.K){mr(R.h,ge);var ut=ge,Ht=R.L;Ht&&(ut.I=Ht),ut.B&&(go(ut),Or(ut)),R.g=ge}else Zc(R);0<E.i.length&&So(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Si(E,7);else E.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Si(E,7):Yl(E):Qe[0]!="noop"&&E.l&&E.l.ta(Qe),E.v=0)}}gi(4)}catch{}}var Hd=class{constructor(h,y){this.g=h,this.map=y}};function ql(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Lc(h){return h.h?1:h.g?h.g.size:0}function ds(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ms(h,y){h.g?h.g.add(y):h.h=y}function mr(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ql.prototype.cancel=function(){if(this.i=Pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Pn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return P(h.i)}function Uc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],E=h.length,R=0;R<E;R++)y.push(h[R]);return y}y=[],E=0;for(R in h)y[E++]=h[R];return y}function $d(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const R in h)y[E++]=R;return y}}}function yo(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=$d(h),R=Uc(h),q=R.length,X=0;X<q;X++)y.call(void 0,R[X],E&&E[X],h)}var $l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var R=h[E].indexOf("="),q=null;if(0<=R){var X=h[E].substring(0,R);q=h[E].substring(R+1)}else X=h[E];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ei(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ei){this.h=h.h,ps(this,h.j),this.o=h.o,this.g=h.g,ba(this,h.s),this.l=h.l;var y=h.i,E=new Jr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),_o(this,E),this.m=h.m}else h&&(y=String(h).match($l))?(this.h=!1,ps(this,y[1]||"",!0),this.o=gs(y[2]||""),this.g=gs(y[3]||"",!0),ba(this,y[4]),this.l=gs(y[5]||"",!0),_o(this,y[6]||"",!0),this.m=gs(y[7]||"")):(this.h=!1,this.i=new Jr(null,this.h))}Ei.prototype.toString=function(){var h=[],y=this.j;y&&h.push(pr(y,Gl,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(pr(y,Gl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(pr(E,E.charAt(0)=="/"?Ql:Fc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",pr(E,Kd)),h.join("")};function Mt(h){return new Ei(h)}function ps(h,y,E){h.j=E?gs(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ba(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function _o(h,y,E){y instanceof Jr?(h.i=y,Bc(h.i,h.h)):(E||(y=pr(y,Qd)),h.i=new Jr(y,h.h))}function it(h,y,E){h.i.set(y,E)}function Ea(h){return it(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function gs(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function pr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Gd),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Gd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gl=/[#\/\?@]/g,Fc=/[#\?:]/g,Ql=/[#\?]/g,Qd=/[#\?@]/g,Kd=/#/g;function Jr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function ln(h){h.g||(h.g=new Map,h.h=0,h.i&&vo(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Jr.prototype,t.add=function(h,y){ln(this),this.i=null,h=tr(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function bo(h,y){ln(h),y=tr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Eo(h,y){return ln(h),y=tr(h,y),h.g.has(y)}t.forEach=function(h,y){ln(this),this.g.forEach(function(E,R){E.forEach(function(q){h.call(y,q,R,this)},this)},this)},t.na=function(){ln(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let R=0;R<y.length;R++){const q=h[R];for(let X=0;X<q.length;X++)E.push(y[R])}return E},t.V=function(h){ln(this);let y=[];if(typeof h=="string")Eo(this,h)&&(y=y.concat(this.g.get(tr(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},t.set=function(h,y){return ln(this),this.i=null,h=tr(this,h),Eo(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function wi(h,y,E){bo(h,y),0<E.length&&(h.i=null,h.g.set(tr(h,y),P(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var R=y[E];const X=encodeURIComponent(String(R)),ge=this.V(R);for(R=0;R<ge.length;R++){var q=X;ge[R]!==""&&(q+="="+encodeURIComponent(String(ge[R]))),h.push(q)}}return this.i=h.join("&")};function tr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Bc(h,y){y&&!h.j&&(ln(h),h.i=null,h.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(bo(this,R),wi(this,q,E))},h)),h.j=y}function Kl(h,y){const E=new cs;if(f.Image){const R=new Image;R.onload=x($n,E,"TestLoadImage: loaded",!0,y,R),R.onerror=x($n,E,"TestLoadImage: error",!1,y,R),R.onabort=x($n,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=x($n,E,"TestLoadImage: timeout",!1,y,R),f.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function qc(h,y){const E=new cs,R=new AbortController,q=setTimeout(()=>{R.abort(),$n(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?$n(E,"TestPingServer: ok",!0,y):$n(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),$n(E,"TestPingServer: error",!1,y)})}function $n(h,y,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Nr(){this.g=new mo}function Zl(h,y,E){const R=E||"";try{yo(h,function(q,X){let ge=q;g(q)&&(ge=Cn(q)),y.push(R+X+"="+encodeURIComponent(ge))})}catch(q){throw y.push(R+"type="+encodeURIComponent("_badmap")),q}}function ei(h){this.l=h.Ub||null,this.j=h.eb||!1}M(ei,pa),ei.prototype.g=function(){return new nr(this.l,this.j)},ei.prototype.i=(function(h){return function(){return h}})({});function nr(h,y){ce.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(nr,ce),t=nr.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,ys(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ti(this):ys(this),this.readyState==3&&wo(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,ti(this))},t.Qa=function(h){this.g&&(this.response=h,ti(this))},t.ga=function(){this.g&&ti(this)};function ti(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ys(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ys(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function wa(h){let y="";return ve(h,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function vs(h,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=wa(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):it(h,y,E))}function wt(h){ce.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(wt,ce);var In=/^https?$/i,Ti=["POST","PUT"];t=wt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?ga(this.o):ga(Yr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){Ta(this,X);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())E.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ti,y,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ge]of E)this.g.setRequestHeader(X,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{To(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Ta(this,X)}};function Ta(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,_s(h),bs(h)}function _s(h){h.A||(h.A=!0,_e(h,"complete"),_e(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,_e(this,"complete"),_e(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hc(this):this.bb())},t.bb=function(){Hc(this)};function Hc(h){if(h.h&&typeof c<"u"&&(!h.v[1]||jn(h)!=4||h.Z()!=2)){if(h.u&&jn(h)==4)nt(h.Ea,0,h);else if(_e(h,"readystatechange"),jn(h)==4){h.h=!1;try{const ge=h.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=ge===0){var q=String(h.D).match($l)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),R=!In.test(q?q.toLowerCase():"")}E=R}if(E)_e(h,"complete"),_e(h,"success");else{h.m=6;try{var X=2<jn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",_s(h)}}finally{bs(h)}}}}function bs(h,y){if(h.g){To(h);const E=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||_e(h,"ready");try{E.onreadystatechange=R}catch{}}}function To(h){h.I&&(f.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function jn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),pn(y)}};function Sa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $c(h){const y={};h=(h.g&&2<=jn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(Q(h[R]))continue;var E=z(h[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[q]||[];y[q]=X,X.push(E)}N(y,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Gc(h){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,h),this.cb=Aa("retryDelaySeedMs",1e4,h),this.Wa=Aa("forwardChannelMaxRetries",2,h),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ql(h&&h.concurrentRequestLimit),this.Da=new Nr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gc.prototype,t.la=8,t.G=1,t.connect=function(h,y,E,R){gn(0),this.W=h,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Jc(this,null,this.W),So(this)};function Yl(h){if(Qc(h),h.G==3){var y=h.U++,E=Mt(h.I);if(it(E,"SID",h.K),it(E,"RID",y),it(E,"TYPE","terminate"),Ra(h,E),y=new Xr(h,h.j,y),y.L=2,y.v=Ea(Mt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.v,E=!0),E||(y.g=eh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Or(y)}eu(h)}function Es(h){h.g&&(Jl(h),h.g.cancel(),h.g=null)}function Qc(h){Es(h),h.u&&(f.clearTimeout(h.u),h.u=null),ws(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function So(h){if(!Hl(h.h)&&!h.s){h.s=!0;var y=h.Ga;fe||He(),oe||(fe(),oe=!0),Be.add(y,h),h.B=0}}function Zd(h,y){return Lc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=us(T(h.Ga,h,y),Wc(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Xr(this,this.j,h);let X=this.o;if(this.S&&(X?(X=A(X),O(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Xl(this,q,y),E=Mt(this.I),it(E,"RID",h),it(E,"CVER",22),this.D&&it(E,"X-HTTP-Session-Id",this.D),Ra(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(wa(X)))+"&"+y:this.m&&vs(E,this.m,X)),ms(this.h,q),this.Ua&&it(E,"TYPE","init"),this.P?(it(E,"$req",y),it(E,"SID","null"),q.T=!0,va(q,E,null)):va(q,E,y),this.G=2}}else this.G==3&&(h?Kc(this,h):this.i.length==0||Hl(this.h)||Kc(this))};function Kc(h,y){var E;y?E=y.l:E=h.U++;const R=Mt(h.I);it(R,"SID",h.K),it(R,"RID",E),it(R,"AID",h.T),Ra(h,R),h.m&&h.o&&vs(R,h.m,h.o),E=new Xr(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Xl(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),ms(h.h,E),va(E,R,y)}function Ra(h,y){h.H&&ve(h.H,function(E,R){it(y,R,E)}),h.l&&yo({},function(E,R){it(y,R,E)})}function Xl(h,y,E){E=Math.min(h.i.length,E);var R=h.l?T(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const ge=["count="+E];X==-1?0<E?(X=q[0].g,ge.push("ofs="+X)):X=0:ge.push("ofs="+X);let ut=!0;for(let Ht=0;Ht<E;Ht++){let Qe=q[Ht].g;const un=q[Ht].map;if(Qe-=X,0>Qe)X=Math.max(0,q[Ht].g-100),ut=!1;else try{Zl(un,ge,"req"+Qe+"_")}catch{R&&R(un)}}if(ut){R=ge.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,R}function Zc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;fe||He(),oe||(fe(),oe=!0),Be.add(y,h),h.v=0}}function Wl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=us(T(h.Fa,h),Wc(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=us(T(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),Es(this),Yc(this))};function Jl(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Yc(h){h.g=new Xr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Mt(h.qa);it(y,"RID","rpc"),it(y,"SID",h.K),it(y,"AID",h.T),it(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&it(y,"TO",h.ja),it(y,"TYPE","xmlhttp"),Ra(h,y),h.m&&h.o&&vs(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ea(Mt(y)),E.m=null,E.P=!0,_i(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Es(this),Wl(this),gn(19))};function ws(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Xc(h,y){var E=null;if(h.g==y){ws(h),Jl(h),h.g=null;var R=2}else if(ds(h.h,y))E=y.D,mr(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;R=po(),_e(R,new Ll(R,E)),So(h)}else Zc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(R==1&&Zd(h,y)||R==2&&Wl(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),q){case 1:Si(h,5);break;case 4:Si(h,10);break;case 3:Si(h,6);break;default:Si(h,2)}}}function Wc(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function Si(h,y){if(h.j.info("Error code "+y),y==2){var E=T(h.fb,h),R=h.Xa;const q=!R;R=new Ei(R||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ps(R,"https"),Ea(R),q?Kl(R.toString(),E):qc(R.toString(),E)}else gn(2);h.G=0,h.l&&h.l.sa(y),eu(h),Qc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function eu(h){if(h.G=0,h.ka=[],h.l){const y=Pn(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ka,y),U(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function Jc(h,y,E){var R=E instanceof Ei?Mt(E):new Ei(E);if(R.g!="")y&&(R.g=y+"."+R.g),ba(R,R.s);else{var q=f.location;R=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new Ei(null);R&&ps(X,R),y&&(X.g=y),q&&ba(X,q),E&&(X.l=E),R=X}return E=h.D,y=h.ya,E&&y&&it(R,E,y),it(R,"VER",h.la),Ra(h,R),R}function eh(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new wt(new ei({eb:E})):new wt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ao(){}Ao.prototype.g=function(h,y){return new zn(h,y)};function zn(h,y){ce.call(this),this.g=new Gc(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!Q(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ts(this)}M(zn,ce),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){Yl(this.g)},zn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Cn(h),h=E);y.i.push(new Hd(y.Ya++,h)),y.G==3&&So(y)},zn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,zn.aa.N.call(this)};function nh(h){as.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}M(nh,as);function rh(){Ir.call(this),this.status=1}M(rh,Ir);function Ts(h){this.g=h}M(Ts,th),Ts.prototype.ua=function(){_e(this.g,"a")},Ts.prototype.ta=function(h){_e(this.g,new nh(h))},Ts.prototype.sa=function(h){_e(this.g,new rh)},Ts.prototype.ra=function(){_e(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,WS=function(){return new Ao},XS=function(){return po()},YS=dr,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Cf=kt,yn.COMPLETE="complete",ZS=yn,ya.EventType=Kr,Kr.OPEN="a",Kr.CLOSE="b",Kr.ERROR="c",Kr.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Hu=ya,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,KS=wt}).apply(typeof hf<"u"?hf:typeof self<"u"?self:typeof window<"u"?window:{});const XE="@firebase/firestore";class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");let Ol="10.14.0";const no=new py("@firebase/firestore");function Lu(){return no.logLevel}function Re(t,...e){if(no.logLevel<=tt.DEBUG){const n=e.map(Cy);no.debug(`Firestore (${Ol}): ${t}`,...n)}}function ts(t,...e){if(no.logLevel<=tt.ERROR){const n=e.map(Cy);no.error(`Firestore (${Ol}): ${t}`,...n)}}function gl(t,...e){if(no.logLevel<=tt.WARN){const n=e.map(Cy);no.warn(`Firestore (${Ol}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function je(t="Unexpected state"){const e=`FIRESTORE (${Ol}) INTERNAL ASSERTION FAILED: `+t;throw ts(e),new Error(e)}function mt(t,e){t||je()}function Ue(t,e){return t}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class f2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class d2{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Xi,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Xi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt(typeof i.accessToken=="string"),new JS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Dn(e)}}class m2{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p2{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new m2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){mt(this.o===void 0);const i=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string"),this.R=n.token,new g2(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function v2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class eA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const a=v2(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%e.length))}return i}}function ot(t,e){return t<e?-1:t>e?1:0}function yl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}class an{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new an(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Le(e)}static min(){return new Le(new an(0,0))}static max(){return new Le(new an(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lc{constructor(e,n,i){n===void 0?n=0:n>e.length&&je(),i===void 0?i=e.length-n:i>e.length-n&&je(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return lc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lc?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=e.get(a),c=n.get(a);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class At extends lc{construct(e,n,i){return new At(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const _2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends lc{construct(e,n,i){return new Tn(e,n,i)}static isValidIdentifier(e){return _2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(i+=f,a++):(l(),a++)}if(l(),c)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(At.fromString(e))}static fromName(e){return new Ne(At.fromString(e).popFirst(5))}static empty(){return new Ne(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new At(e.slice()))}}function b2(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(i===1e9?new an(n+1,0):new an(n,i));return new aa(a,Ne.empty(),e)}function E2(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new aa(Le.min(),Ne.empty(),-1)}static max(){return new aa(Le.max(),Ne.empty(),-1)}}function w2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const T2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rc(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==T2)throw t;Re("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,i)=>{n(e)}))}static reject(e){return new de(((n,i)=>{i(e)}))}static waitFor(e){return new de(((n,i)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>i(m)))})),c=!0,l===a&&n()}))}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next((a=>a?de.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new de(((i,a)=>{const l=e.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;n(e[g]).next((v=>{c[g]=v,++f,f===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new de(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function A2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xc(t){return t.name==="IndexedDbTransactionError"}class Iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Iy.oe=-1;function md(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function R2(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Nt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??wn.RED,this.left=a??wn.EMPTY,this.right=l??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new wn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return wn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,i,a,l){return this}insert(e,n,i){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JE(this.data.getIterator())}getIteratorFrom(e){return new JE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class JE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new hr([])}unionWith(e){let n=new Sn(Tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nA("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const x2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(t){if(mt(!!t),typeof t=="string"){let e=0;const n=x2.exec(t);if(mt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bt(t.seconds),nanos:Bt(t.nanos)}}function Bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ro(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}function Oy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ny(t){const e=t.mapValue.fields.__previous_value__;return Oy(e)?Ny(e):e}function uc(t){const e=oa(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}class C2{constructor(e,n,i,a,l,c,f,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const df={mapValue:{}};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:O2(t)?9007199254740991:I2(t)?10:11:je()}function hi(t,e){if(t===e)return!0;const n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=oa(a.timestampValue),f=oa(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ro(a.bytesValue).isEqual(ro(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Bt(a.doubleValue),f=Bt(l.doubleValue);return c===f?Hf(c)===Hf(f):isNaN(c)&&isNaN(f)}return!1})(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(WE(c)!==WE(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!hi(c[m],f[m])))return!1;return!0})(t,e);default:return je()}}function hc(t,e){return(t.values||[]).find((n=>hi(n,e)))!==void 0}function vl(t,e){if(t===e)return 0;const n=io(t),i=io(e);if(n!==i)return ot(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=Bt(l.integerValue||l.doubleValue),m=Bt(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return ew(t.timestampValue,e.timestampValue);case 4:return ew(uc(t),uc(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return(function(l,c){const f=ro(l),m=ro(c);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let g=0;g<f.length&&g<m.length;g++){const v=ot(f[g],m[g]);if(v!==0)return v}return ot(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ot(Bt(l.latitude),Bt(c.latitude));return f!==0?f:ot(Bt(l.longitude),Bt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tw(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var f,m,g,v;const b=l.fields||{},T=c.fields||{},x=(f=b.value)===null||f===void 0?void 0:f.arrayValue,M=(m=T.value)===null||m===void 0?void 0:m.arrayValue,P=ot(((g=x?.values)===null||g===void 0?void 0:g.length)||0,((v=M?.values)===null||v===void 0?void 0:v.length)||0);return P!==0?P:tw(x,M)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===df.mapValue&&c===df.mapValue)return 0;if(l===df.mapValue)return 1;if(c===df.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let b=0;b<m.length&&b<v.length;++b){const T=ot(m[b],v[b]);if(T!==0)return T;const x=vl(f[m[b]],g[v[b]]);if(x!==0)return x}return ot(m.length,v.length)})(t.mapValue,e.mapValue);default:throw je()}}function ew(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=oa(t),i=oa(e),a=ot(n.seconds,i.seconds);return a!==0?a:ot(n.nanos,i.nanos)}function tw(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=vl(n[a],i[a]);if(l)return l}return ot(n.length,i.length)}function _l(t){return Ng(t)}function Ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=oa(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Ng(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ng(n.fields[c])}`;return a+"}"})(t.mapValue):je()}function nw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function rw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function I2(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Yu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yu(n)}setAll(e){let n=Tn.emptyPath(),i={},a=[];e.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=f.popLast()}c?i[f.lastSegment()]=Yu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){lo(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Jn(Yu(this.value))}}function rA(t){const e=[];return lo(t.fields,((n,i)=>{const a=new Tn([n]);if(If(i)){const l=rA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new hr(e)}class kn{constructor(e,n,i,a,l,c,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new kn(e,0,Le.min(),Le.min(),Le.min(),Jn.empty(),0)}static newFoundDocument(e,n,i,a){return new kn(e,1,n,Le.min(),i,a,0)}static newNoDocument(e,n){return new kn(e,2,n,Le.min(),Le.min(),Jn.empty(),0)}static newUnknownDocument(e,n){return new kn(e,3,n,Le.min(),Le.min(),Jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,n){this.position=e,this.inclusive=n}}function sw(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),n.key):i=vl(c,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function aw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function N2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class iA{}class Xt extends iA{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new k2(e,n,i):n==="array-contains"?new P2(e,i):n==="in"?new j2(e,i):n==="not-in"?new z2(e,i):n==="array-contains-any"?new L2(e,i):new Xt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new M2(e,i):new V2(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vl(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends iA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Fr(e,n)}matches(e){return sA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sA(t){return t.op==="and"}function aA(t){return D2(t)&&sA(t)}function D2(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function kg(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(aA(t))return t.filters.map((e=>kg(e))).join(",");{const e=t.filters.map((n=>kg(n))).join(",");return`${t.op}(${e})`}}function oA(t,e){return t instanceof Xt?(function(i,a){return a instanceof Xt&&i.op===a.op&&i.field.isEqual(a.field)&&hi(i.value,a.value)})(t,e):t instanceof Fr?(function(i,a){return a instanceof Fr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,f)=>l&&oA(c,a.filters[f])),!0):!1})(t,e):void je()}function lA(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(t):t instanceof Fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(lA).join(" ,")+"}"})(t):"Filter"}class k2 extends Xt{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class M2 extends Xt{constructor(e,n){super(e,"in",n),this.keys=uA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class V2 extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=uA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((i=>Ne.fromName(i.referenceValue)))}class P2 extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&hc(n.arrayValue,this.value)}}class j2 extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class z2 extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}}class L2 extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>hc(this.value.arrayValue,i)))}}class U2{constructor(e,n=null,i=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.ue=null}}function ow(t,e=null,n=[],i=[],a=null,l=null,c=null){return new U2(t,e,n,i,a,l,c)}function ky(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>kg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>_l(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>_l(i))).join(",")),e.ue=n}return e.ue}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aw(t.startAt,e.startAt)&&aw(t.endAt,e.endAt)}function Mg(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Nl{constructor(e,n=null,i=[],a=[],l=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function F2(t,e,n,i,a,l,c,f){return new Nl(t,e,n,i,a,l,c,f)}function Vy(t){return new Nl(t)}function lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cA(t){return t.collectionGroup!==null}function Xu(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Sn(Tn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new fc(l,i))})),n.has(Tn.keyField().canonicalString())||e.ce.push(new fc(Tn.keyField(),i))}return e.ce}function ui(t){const e=Ue(t);return e.le||(e.le=B2(e,Xu(t))),e.le}function B2(t,e){if(t.limitType==="F")return ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new fc(a.field,l)}));const n=t.endAt?new $f(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new $f(t.startAt.position,t.startAt.inclusive):null;return ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Vg(t,e){const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gf(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pd(t,e){return My(ui(t),ui(e))&&t.limitType===e.limitType}function hA(t){return`${ky(ui(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>lA(a))).join(", ")}]`),md(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>_l(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>_l(a))).join(",")),`Target(${i})`})(ui(t))}; limitType=${t.limitType})`}function gd(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Xu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(c,f,m){const g=sw(c,f,m);return c.inclusive?g<=0:g<0})(i.startAt,Xu(i),a)||i.endAt&&!(function(c,f,m){const g=sw(c,f,m);return c.inclusive?g>=0:g>0})(i.endAt,Xu(i),a))})(t,e)}function q2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fA(t){return(e,n)=>{let i=!1;for(const a of Xu(t)){const l=H2(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function H2(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,c,f){const m=c.data.field(l),g=f.data.field(l);return m!==null&&g!==null?vl(m,g):je()})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}class Dl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}const $2=new Nt(Ne.comparator);function ns(){return $2}const dA=new Nt(Ne.comparator);function $u(...t){let e=dA;for(const n of t)e=e.insert(n.key,n);return e}function mA(t){let e=dA;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Ka(){return Wu()}function pA(){return Wu()}function Wu(){return new Dl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const G2=new Nt(Ne.comparator),Q2=new Sn(Ne.comparator);function Je(...t){let e=Q2;for(const n of t)e=e.add(n);return e}const K2=new Sn(ot);function Z2(){return K2}function Py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function gA(t){return{integerValue:""+t}}function Y2(t,e){return R2(e)?gA(e):Py(t,e)}class yd{constructor(){this._=void 0}}function X2(t,e,n){return t instanceof Qf?(function(a,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Oy(l)&&(l=Ny(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof dc?vA(t,e):t instanceof mc?_A(t,e):(function(a,l){const c=yA(a,l),f=uw(c)+uw(a.Pe);return Dg(c)&&Dg(a.Pe)?gA(f):Py(a.serializer,f)})(t,e)}function W2(t,e,n){return t instanceof dc?vA(t,e):t instanceof mc?_A(t,e):n}function yA(t,e){return t instanceof Kf?(function(i){return Dg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Qf extends yd{}class dc extends yd{constructor(e){super(),this.elements=e}}function vA(t,e){const n=bA(e);for(const i of t.elements)n.some((a=>hi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class mc extends yd{constructor(e){super(),this.elements=e}}function _A(t,e){let n=bA(e);for(const i of t.elements)n=n.filter((a=>!hi(a,i)));return{arrayValue:{values:n}}}class Kf extends yd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function uw(t){return Bt(t.integerValue||t.doubleValue)}function bA(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function J2(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof dc&&a instanceof dc||i instanceof mc&&a instanceof mc?yl(i.elements,a.elements,hi):i instanceof Kf&&a instanceof Kf?hi(i.Pe,a.Pe):i instanceof Qf&&a instanceof Qf})(t.transform,e.transform)}class eM{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jy(t.key,Rr.none()):new Cc(t.key,t.data,Rr.none());{const n=t.data,i=Jn.empty();let a=new Sn(Tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ca(t.key,i,new hr(a.toArray()),Rr.none())}}function tM(t,e,n){t instanceof Cc?(function(a,l,c){const f=a.value.clone(),m=hw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(t,e,n):t instanceof ca?(function(a,l,c){if(!Of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=hw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(wA(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ju(t,e,n,i){return t instanceof Cc?(function(l,c,f,m){if(!Of(l.precondition,c))return f;const g=l.value.clone(),v=fw(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(t,e,n,i):t instanceof ca?(function(l,c,f,m){if(!Of(l.precondition,c))return f;const g=fw(l.fieldTransforms,m,c),v=c.data;return v.setAll(wA(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,c,f){return Of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(t,e,n)}function nM(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=yA(i.transform,a||null);l!=null&&(n===null&&(n=Jn.empty()),n.set(i.field,l))}return n||null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&yl(i,a,((l,c)=>J2(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cc extends vd{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ca extends vd{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function hw(t,e,n){const i=new Map;mt(t.length===n.length);for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,f=e.data.field(l.field);i.set(l.field,W2(c,f,n[a]))}return i}function fw(t,e,n){const i=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);i.set(a.field,X2(l,c,e))}return i}class jy extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rM extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iM{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&tM(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ju(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ju(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=pA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=EA(c,f);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Le.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,i)=>cw(n,i)))&&yl(this.baseMutations,e.baseMutations,((n,i)=>cw(n,i)))}}class zy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){mt(e.mutations.length===i.length);let a=(function(){return G2})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new zy(e,n,i,a)}}class sM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Yt,rt;function oM(t){switch(t){default:return je();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function TA(t){if(t===void 0)return ts("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Yt.OK:return ae.OK;case Yt.CANCELLED:return ae.CANCELLED;case Yt.UNKNOWN:return ae.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return ae.INTERNAL;case Yt.UNAVAILABLE:return ae.UNAVAILABLE;case Yt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Yt.NOT_FOUND:return ae.NOT_FOUND;case Yt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Yt.ABORTED:return ae.ABORTED;case Yt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Yt.DATA_LOSS:return ae.DATA_LOSS;default:return je()}}(rt=Yt||(Yt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";function lM(){return new TextEncoder}const uM=new Ya([4294967295,4294967295],0);function dw(t){const e=lM().encode(t),n=new QS;return n.update(e),new Uint8Array(n.digest())}function mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ya([n,i],0),new Ya([a,l],0)]}class Ly{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(i<0)throw new Gu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ya.fromNumber(this.Ie)}Ee(e,n,i){let a=e.add(n.multiply(Ya.fromNumber(i)));return a.compare(uM)===1&&(a=new Ya([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dw(e),[i,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,a,l);if(!this.de(c))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ly(l,a,n);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.Ie===0)return;const n=dw(e),[i,a]=mw(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(i,a,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _d{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new _d(Le.min(),a,new Nt(ot),ns(),Je())}}class Ic{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ic(i,n,Je(),Je(),Je())}}class Nf{constructor(e,n,i,a){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=a}}class SA{constructor(e,n){this.targetId=e,this.me=n}}class AA{constructor(e,n,i=An.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class pw{constructor(){this.fe=0,this.ge=yw(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),n=Je(),i=Je();return this.ge.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:je()}})),new Ic(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=yw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cM{constructor(e){this.Le=e,this.Be=new Map,this.ke=ns(),this.qe=gw(),this.Qe=new Nt(ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((i,a)=>{this.ze(a)&&n(a)}))}He(e){const n=e.targetId,i=e.me.count,a=this.Je(n);if(a){const l=a.target;if(Mg(l))if(i===0){const c=new Ne(l.path);this.Ue(n,c,kn.newNoDocument(c,Le.min()))}else mt(i===1);else{const c=this.Ye(n);if(c!==i){const f=this.Ze(e),m=f?this.Xe(f,e,c):1;if(m!==0){this.je(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=ro(i).toUint8Array()}catch(m){if(m instanceof nA)return gl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Ly(c,a,l)}catch(m){return gl(m instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ie===0?null:f}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const c=this.Le.tt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(n,l,null),a++)})),a}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const f=this.Je(c);if(f){if(l.current&&Mg(f.target)){const m=new Ne(f.target.path);this.ke.get(m)!==null||this.it(c,m)||this.Ue(c,m,kn.newNoDocument(m,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let i=Je();this.qe.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const g=this.Je(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const a=new _d(e,n,this.Qe,this.ke,i);return this.ke=ns(),this.qe=gw(),this.Qe=new Nt(ot),a}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,n)?a.Fe(n,1):a.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pw,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Sn(ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pw),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gw(){return new Nt(Ne.comparator)}function yw(){return new Nt(Ne.comparator)}const hM={asc:"ASCENDING",desc:"DESCENDING"},fM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dM={and:"AND",or:"OR"};class mM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||md(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pM(t,e){return Zf(t,e.toTimestamp())}function ci(t){return mt(!!t),Le.fromTimestamp((function(n){const i=oa(n);return new an(i.seconds,i.nanos)})(t))}function Uy(t,e){return jg(t,e).canonicalString()}function jg(t,e){const n=(function(a){return new At(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function xA(t){const e=At.fromString(t);return mt(DA(e)),e}function zg(t,e){return Uy(t.databaseId,e.path)}function sg(t,e){const n=xA(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(IA(n))}function CA(t,e){return Uy(t.databaseId,e)}function gM(t){const e=xA(t);return e.length===4?At.emptyPath():IA(e)}function Lg(t){return new At(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IA(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vw(t,e,n){return{name:zg(t,e),fields:n.value.mapValue.fields}}function yM(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je()})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(mt(v===void 0||typeof v=="string"),An.fromBase64String(v||"")):(mt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),An.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(g){const v=g.code===void 0?ae.UNKNOWN:TA(g.code);return new be(v,g.message||"")})(c);n=new AA(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=sg(t,i.document.name),l=ci(i.document.updateTime),c=i.document.createTime?ci(i.document.createTime):Le.min(),f=new Jn({mapValue:{fields:i.document.fields}}),m=kn.newFoundDocument(a,l,c,f),g=i.targetIds||[],v=i.removedTargetIds||[];n=new Nf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=sg(t,i.document),l=i.readTime?ci(i.readTime):Le.min(),c=kn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Nf([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=sg(t,i.document),l=i.removedTargetIds||[];n=new Nf([],l,a,null)}else{if(!("filter"in e))return je();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new aM(a,l),f=i.targetId;n=new SA(f,c)}}return n}function vM(t,e){let n;if(e instanceof Cc)n={update:vw(t,e.key,e.value)};else if(e instanceof jy)n={delete:zg(t,e.key)};else if(e instanceof ca)n={update:vw(t,e.key,e.data),updateMask:xM(e.fieldMask)};else{if(!(e instanceof rM))return je();n={verify:zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof Qf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof dc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof mc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kf)return{fieldPath:c.field.canonicalString(),increment:f.Pe};throw je()})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:pM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()})(t,e.precondition)),n}function _M(t,e){return t&&t.length>0?(mt(e!==void 0),t.map((n=>(function(a,l){let c=a.updateTime?ci(a.updateTime):ci(l);return c.isEqual(Le.min())&&(c=ci(l)),new eM(c,a.transformResults||[])})(n,e)))):[]}function bM(t,e){return{documents:[CA(t,e.path)]}}function EM(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=CA(t,a);const l=(function(g){if(g.length!==0)return NA(Fr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(T){return{field:rl(T.field),direction:SM(T.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Pg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:n,parent:a}}function wM(t){let e=gM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){mt(i===1);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const T=OA(b);return T instanceof Fr&&aA(T)?T.getFilters():[T]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((T=>(function(M){return new fc(il(M.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let T;return T=typeof b=="object"?b.value:b,md(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(b){const T=!!b.before,x=b.values||[];return new $f(x,T)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const T=!b.before,x=b.values||[];return new $f(x,T)})(n.endAt)),F2(e,a,c,l,f,"F",m,g)}function TM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=il(n.unaryFilter.field);return Xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=il(n.unaryFilter.field);return Xt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=il(n.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=il(n.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return je()}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(il(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fr.create(n.compositeFilter.filters.map((i=>OA(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return je()}})(n.compositeFilter.op))})(t):je()}function SM(t){return hM[t]}function AM(t){return fM[t]}function RM(t){return dM[t]}function rl(t){return{fieldPath:t.canonicalString()}}function il(t){return Tn.fromServerFormat(t.fieldPath)}function NA(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(rw(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(rw(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:AM(n.op),value:n.value}}})(t):t instanceof Fr?(function(n){const i=n.getFilters().map((a=>NA(a)));return i.length===1?i[0]:{compositeFilter:{op:RM(n.op),filters:i}}})(t):je()}function xM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Js{constructor(e,n,i,a,l=Le.min(),c=Le.min(),f=An.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CM{constructor(e){this.ct=e}}function IM(t){const e=wM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gf(e,e.limit,"L"):e}class OM{constructor(){this.un=new NM}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(aa.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class NM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Sn(At.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Sn(At.comparator)).toArray()}}class bl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bl(0)}static kn(){return new bl(-1)}}class DM{constructor(){this.changes=new Dl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class MM{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Ju(i.mutation,a,hr.empty(),an.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Je()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Je()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let c=$u();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const i=Ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Je())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(e,n,i,a){let l=ns();const c=Wu(),f=(function(){return Wu()})();return n.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ca)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ju(v.mutation,g,v.mutation.getFieldMask(),an.now())):c.set(g.key,hr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),n.forEach(((g,v)=>{var b;return f.set(g,new kM(v,(b=c.get(g))!==null&&b!==void 0?b:null))})),f)))}recalculateAndSaveOverlays(e,n){const i=Wu();let a=new Nt(((c,f)=>c-f)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const g=n.get(m);if(g===null)return;let v=i.get(m)||hr.empty();v=f.applyToLocalView(g,v),i.set(m,v);const b=(a.get(f.batchId)||Je()).add(m);a=a.insert(f.batchId,b)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,v=m.value,b=pA();v.forEach((T=>{if(!l.has(T)){const x=EA(n.get(T),i.get(T));x!==null&&b.set(T,x),l=l.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return de.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return(function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):de.resolve(Ka());let f=-1,m=l;return c.next((g=>de.forEach(g,((v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?de.resolve():this.remoteDocumentCache.getEntry(e,v).next((T=>{m=m.insert(v,T)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Je()))).next((v=>({batchId:f,changes:mA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let a=$u();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let c=$u();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(m=>{const g=(function(b,T){return new Nl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,kn.newInvalidDocument(v)))}));let f=$u();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&Ju(v.mutation,g,hr.empty(),an.now()),gd(n,g)&&(f=f.insert(m,g))})),f}))}}class VM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ci(a.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(a){return{name:a.name,query:IM(a.bundledQuery),readTime:ci(a.readTime)}})(n)),de.resolve()}}class PM{constructor(){this.overlays=new Nt(Ne.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ka();return de.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.ht(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Ir.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const a=Ka(),l=n.length+1,c=new Ne(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new Nt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Ka(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const f=Ka(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>f.set(g,v))),!(f.size()>=a)););return de.resolve(f)}ht(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Ir.get(a.largestBatchId).delete(i.key);this.Ir.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sM(n,i));let l=this.Ir.get(n);l===void 0&&(l=Je(),this.Ir.set(n,l)),this.Ir.set(n,l.add(i.key))}}class jM{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}class Fy{constructor(){this.Tr=new Sn(dn.Er),this.dr=new Sn(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new dn(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach((i=>this.removeReference(i,n)))}gr(e){const n=new Ne(new At([])),i=new dn(n,e),a=new dn(n,e+1),l=[];return this.dr.forEachInRange([i,a],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ne(new At([])),i=new dn(n,e),a=new dn(n,e+1);let l=Je();return this.dr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new dn(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ne.comparator(e.key,n.key)||ot(e.wr,n.wr)}static Ar(e,n){return ot(e.wr,n.wr)||Ne.comparator(e.key,n.key)}}class zM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Sn(dn.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iM(l,n,i,a);this.mutationQueue.push(c);for(const f of a)this.br=this.br.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.vr(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dn(n,0),a=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([i,a],(c=>{const f=this.Dr(c.wr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Sn(ot);return n.forEach((a=>{const l=new dn(a,0),c=new dn(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(f=>{i=i.add(f.wr)}))})),de.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const c=new dn(new Ne(l),0);let f=new Sn(ot);return this.br.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.wr)),!0)}),c),de.resolve(this.Cr(f))}Cr(e){const n=[];return e.forEach((i=>{const a=this.Dr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){mt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return de.forEach(n.mutations,(a=>{const l=new dn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.br=i}))}On(e){}containsKey(e,n){const i=new dn(n,0),a=this.br.firstAfterOrEqual(i);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class LM{constructor(e){this.Mr=e,this.docs=(function(){return new Nt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,c=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(n))}getEntries(e,n){let i=ns();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():kn.newInvalidDocument(a))})),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=ns();const c=n.path,f=new Ne(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||w2(E2(v),i)<=0||(a.has(v.key)||gd(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,i,a){je()}Or(e,n){return de.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new UM(this)}getSize(e){return de.resolve(this.size)}}class UM extends DM{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.cr.addEntry(e,a)):this.cr.removeEntry(i)})),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class FM{constructor(e){this.persistence=e,this.Nr=new Dl((n=>ky(n)),My),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fy,this.targetCount=0,this.kr=bl.Bn()}forEachTarget(e,n){return this.Nr.forEach(((i,a)=>n(a))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.Nr.forEach(((c,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),de.waitFor(l).next((()=>a))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}class BM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Iy(0),this.Kr=!1,this.Kr=!0,this.$r=new jM,this.referenceDelegate=e(this),this.Ur=new FM(this),this.indexManager=new OM,this.remoteDocumentCache=(function(a){return new LM(a)})((i=>this.referenceDelegate.Wr(i))),this.serializer=new CM(n),this.Gr=new VM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new zM(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){Re("MemoryPersistence","Starting transaction:",e);const a=new qM(this.Qr.next());return this.referenceDelegate.zr(),i(a).next((l=>this.referenceDelegate.jr(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Hr(e,n){return de.or(Object.values(this.qr).map((i=>()=>i.containsKey(e,n))))}}class qM extends S2{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Jr=new Fy,this.Yr=null}static Zr(e){return new By(e)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((a=>this.Xr.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.Xr.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,(i=>{const a=Ne.fromPath(i);return this.ei(e,a).next((l=>{l||n.removeEntry(a,Le.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class qy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=a}static Wi(e,n){let i=Je(),a=Je();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new qy(e,n.fromCache,i,a)}}class HM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $M{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return VO()?8:A2(Mn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new HM;return this.Xi(e,n,c).next((f=>{if(l.result=f,this.zi)return this.es(e,n,c,f.size)}))})).next((()=>l.result))}es(e,n,i,a){return i.documentReadCount<this.ji?(Lu()<=tt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(Lu()<=tt.DEBUG&&Re("QueryEngine","Query:",nl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.Hi*a?(Lu()<=tt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):de.resolve())}Yi(e,n){if(lw(n))return de.resolve(null);let i=ui(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Gf(n,null,"F"),i=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Je(...l);return this.Ji.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.ts(n,f);return this.ns(n,g,c,m.readTime)?this.Yi(e,Gf(n,null,"F")):this.rs(e,g,n,m)}))))})))))}Zi(e,n,i,a){return lw(n)||a.isEqual(Le.min())?de.resolve(null):this.Ji.getDocuments(e,i).next((l=>{const c=this.ts(n,l);return this.ns(n,c,i,a)?de.resolve(null):(Lu()<=tt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(n)),this.rs(e,c,n,b2(a,-1)).next((f=>f)))}))}ts(e,n){let i=new Sn(fA(e));return n.forEach(((a,l)=>{gd(e,l)&&(i=i.add(l))})),i}ns(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(e,n,i){return Lu()<=tt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",nl(n)),this.Ji.getDocumentsMatchingQuery(e,n,aa.min(),i)}rs(e,n,i,a){return this.Ji.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class GM{constructor(e,n,i,a){this.persistence=e,this.ss=n,this.serializer=a,this.os=new Nt(ot),this._s=new Dl((l=>ky(l)),My),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function QM(t,e,n,i){return new GM(t,e,n,i)}async function kA(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.ls(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let m=Je();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){f.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(i,m).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:f})))}))}))}function KM(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,v){const b=g.batch,T=b.keys();let x=de.resolve();return T.forEach((M=>{x=x.next((()=>v.getEntry(m,M))).next((P=>{const U=g.docVersions.get(M);mt(U!==null),P.version.compareTo(U)<0&&(b.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(m,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Je();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function MA(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function ZM(t,e){const n=Ue(t),i=e.snapshotVersion;let a=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});a=n.os;const f=[];e.targetChanges.forEach(((v,b)=>{const T=a.get(b);if(!T)return;f.push(n.Ur.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.Ur.addMatchingKeys(l,v.addedDocuments,b))));let x=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(An.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),a=a.insert(b,x),(function(P,U,W){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(T,x,v)&&f.push(n.Ur.updateTargetData(l,x))}));let m=ns(),g=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),f.push(YM(l,c,e.documentUpdates).next((v=>{m=v.Ps,g=v.Is}))),!i.isEqual(Le.min())){const v=n.Ur.getLastRemoteSnapshotVersion(l).next((b=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(v)}return de.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(n.os=a,l)))}function YM(t,e,n){let i=Je(),a=Je();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let c=ns();return n.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Le.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Ps:c,Is:a}}))}function XM(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function WM(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Ur.getTargetData(i,e).next((l=>l?(a=l,de.resolve(a)):n.Ur.allocateTargetId(i).next((c=>(a=new Js(e,c,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.os.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i}))}async function Ug(t,e,n){const i=Ue(t),a=i.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!xc(c))throw c;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.os=i.os.remove(e),i._s.delete(a.target)}function _w(t,e,n){const i=Ue(t);let a=Le.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const b=Ue(m),T=b._s.get(v);return T!==void 0?de.resolve(b.os.get(T)):b.Ur.getTargetData(g,v)})(i,c,ui(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>i.ss.getDocumentsMatchingQuery(c,e,n?a:Le.min(),n?l:Je()))).next((f=>(JM(i,q2(e),f),{documents:f,Ts:l})))))}function JM(t,e,n){let i=t.us.get(e)||Le.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.us.set(e,i)}class bw{constructor(){this.activeTargetIds=Z2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.so=new bw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tV{_o(e){}shutdown(){}}class Ew{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mf=null;function ag(){return mf===null?mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():mf++,"0x"+mf.toString(16)}const nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Nn="WebChannelConnection";class iV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${a}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(n,i,a,l,c){const f=ag(),m=this.xo(n,i.toUriEncodedString());Re("RestConnection",`Sending RPC '${n}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,l,c),this.No(n,m,g,a).then((v=>(Re("RestConnection",`Received RPC '${n}' ${f}: `,v),v)),(v=>{throw gl("RestConnection",`RPC '${n}' ${f} failed with error: `,v,"url: ",m,"request:",a),v}))}Lo(n,i,a,l,c,f){return this.Mo(n,i,a,l,c)}Oo(n,i,a){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ol})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>n[c]=l)),a&&a.headers.forEach(((l,c)=>n[c]=l))}xo(n,i){const a=nV[n];return`${this.Do}/v1/${i}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,a){const l=ag();return new Promise(((c,f)=>{const m=new KS;m.setWithCredentials(!0),m.listenOnce(ZS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Cf.NO_ERROR:const v=m.getResponseJson();Re(Nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Cf.TIMEOUT:Re(Nn,`RPC '${e}' ${l} timed out`),f(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const b=m.getStatus();if(Re(Nn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const x=T?.error;if(x&&x.status&&x.message){const M=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(W)>=0?W:ae.UNKNOWN})(x.status);f(new be(M,x.message))}else f(new be(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new be(ae.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Re(Nn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(a);Re(Nn,`RPC '${e}' ${l} sending request:`,a),m.send(n,"POST",g,i,15)}))}Bo(e,n,i){const a=ag(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=WS(),f=XS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Oo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const v=l.join("");Re(Nn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const b=c.createWebChannel(v,m);let T=!1,x=!1;const M=new rV({Io:U=>{x?Re(Nn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(T||(Re(Nn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),Re(Nn,`RPC '${e}' stream ${a} sending:`,U),b.send(U))},To:()=>b.close()}),P=(U,W,Q)=>{U.listen(W,(ne=>{try{Q(ne)}catch(he){setTimeout((()=>{throw he}),0)}}))};return P(b,Hu.EventType.OPEN,(()=>{x||(Re(Nn,`RPC '${e}' stream ${a} transport opened.`),M.yo())})),P(b,Hu.EventType.CLOSE,(()=>{x||(x=!0,Re(Nn,`RPC '${e}' stream ${a} transport closed`),M.So())})),P(b,Hu.EventType.ERROR,(U=>{x||(x=!0,gl(Nn,`RPC '${e}' stream ${a} transport errored:`,U),M.So(new be(ae.UNAVAILABLE,"The operation could not be completed")))})),P(b,Hu.EventType.MESSAGE,(U=>{var W;if(!x){const Q=U.data[0];mt(!!Q);const ne=Q,he=ne.error||((W=ne[0])===null||W===void 0?void 0:W.error);if(he){Re(Nn,`RPC '${e}' stream ${a} received error:`,he);const J=he.status;let ve=(function(I){const O=Yt[I];if(O!==void 0)return TA(O)})(J),N=he.message;ve===void 0&&(ve=ae.INTERNAL,N="Unknown error status: "+J+" with message "+he.message),x=!0,M.So(new be(ve,N)),b.close()}else Re(Nn,`RPC '${e}' stream ${a} received:`,Q),M.bo(Q)}})),P(f,YS.STAT_EVENT,(U=>{U.stat===Og.PROXY?Re(Nn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Og.NOPROXY&&Re(Nn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.wo()}),0),M}}function og(){return typeof document<"u"?document:null}function bd(t){return new mM(t,!0)}class VA{constructor(e,n,i=1e3,a=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-i);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class PA{constructor(e,n,i,a,l,c,f,m){this.ui=e,this.Ho=i,this.Jo=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(ts(n.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.Yo===n&&this.P_(i,a)}),(i=>{e((()=>{const a=new be(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(a)}))}))}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{i((()=>this.listener.Eo()))})),this.stream.Ro((()=>{i((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((a=>{i((()=>this.I_(a)))})),this.stream.onMessage((a=>{i((()=>++this.e_==1?this.E_(a):this.onNext(a)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sV extends PA{constructor(e,n,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=yM(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Le.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?ci(c.readTime):Le.min()})(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=Lg(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=Mg(m)?{documents:bM(l,m)}:{query:EM(l,m)._t},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=RA(l,c.resumeToken);const g=Pg(l,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Le.min())>0){f.readTime=Zf(l,c.snapshotVersion.toTimestamp());const g=Pg(l,c.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const i=TM(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=Lg(this.serializer),n.removeTarget=e,this.a_(n)}}class aV extends PA{constructor(e,n,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_M(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=Lg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>vM(this.serializer,i)))};this.a_(n)}}class oV extends class{}{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,jg(n,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ae.UNKNOWN,l.toString())}))}Lo(e,n,i,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Lo(e,jg(n,i),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(ae.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class lV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ts(n),this.D_=!1):Re("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class uV{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{i.enqueueAndForget((async()=>{uo(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await(async function(m){const g=Ue(m);g.L_.add(4),await Oc(g),g.q_.set("Unknown"),g.L_.delete(4),await Ed(g)})(this))}))})),this.q_=new lV(i,a)}}async function Ed(t){if(uo(t))for(const e of t.B_)await e(!0)}async function Oc(t){for(const e of t.B_)await e(!1)}function jA(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qy(n)?Gy(n):kl(n).r_()&&$y(n,e))}function Hy(t,e){const n=Ue(t),i=kl(n);n.N_.delete(e),i.r_()&&zA(n,e),n.N_.size===0&&(i.r_()?i.o_():uo(n)&&n.q_.set("Unknown"))}function $y(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).A_(e)}function zA(t,e){t.Q_.xe(e),kl(t).R_(e)}function Gy(t){t.Q_=new cM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.q_.v_()}function Qy(t){return uo(t)&&!kl(t).n_()&&t.N_.size>0}function uo(t){return Ue(t).L_.size===0}function LA(t){t.Q_=void 0}async function cV(t){t.q_.set("Online")}async function hV(t){t.N_.forEach(((e,n)=>{$y(t,e)}))}async function fV(t,e){LA(t),Qy(t)?(t.q_.M_(e),Gy(t)):t.q_.set("Unknown")}async function dV(t,e,n){if(t.q_.set("Online"),e instanceof AA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.N_.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.N_.delete(f),a.Q_.removeTarget(f))})(t,e)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Yf(t,i)}else if(e instanceof Nf?t.Q_.Ke(e):e instanceof SA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Le.min()))try{const i=await MA(t.localStore);n.compareTo(i)>=0&&await(function(l,c){const f=l.Q_.rt(c);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.N_.get(g);v&&l.N_.set(g,v.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,g)=>{const v=l.N_.get(m);if(!v)return;l.N_.set(m,v.withResumeToken(An.EMPTY_BYTE_STRING,v.snapshotVersion)),zA(l,m);const b=new Js(v.target,m,g,v.sequenceNumber);$y(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),await Yf(t,i)}}async function Yf(t,e,n){if(!xc(e))throw e;t.L_.add(1),await Oc(t),t.q_.set("Offline"),n||(n=()=>MA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Re("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ed(t)}))}function UA(t,e){return e().catch((n=>Yf(t,n,e)))}async function wd(t){const e=Ue(t),n=la(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mV(e);)try{const a=await XM(e.localStore,i);if(a===null){e.O_.length===0&&n.o_();break}i=a.batchId,pV(e,a)}catch(a){await Yf(e,a)}FA(e)&&BA(e)}function mV(t){return uo(t)&&t.O_.length<10}function pV(t,e){t.O_.push(e);const n=la(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FA(t){return uo(t)&&!la(t).n_()&&t.O_.length>0}function BA(t){la(t).start()}async function gV(t){la(t).p_()}async function yV(t){const e=la(t);for(const n of t.O_)e.m_(n.mutations)}async function vV(t,e,n){const i=t.O_.shift(),a=zy.from(i,e,n);await UA(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await wd(t)}async function _V(t,e){e&&la(t).V_&&await(async function(i,a){if((function(c){return oM(c)&&c!==ae.ABORTED})(a.code)){const l=i.O_.shift();la(i).s_(),await UA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await wd(i)}})(t,e),FA(t)&&BA(t)}async function ww(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=uo(n);n.L_.add(3),await Oc(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ed(n)}async function bV(t,e){const n=Ue(t);e?(n.L_.delete(2),await Ed(n)):e||(n.L_.add(2),await Oc(n),n.q_.set("Unknown"))}function kl(t){return t.K_||(t.K_=(function(n,i,a){const l=Ue(n);return l.w_(),new sV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Eo:cV.bind(null,t),Ro:hV.bind(null,t),mo:fV.bind(null,t),d_:dV.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Qy(t)?Gy(t):t.q_.set("Unknown")):(await t.K_.stop(),LA(t))}))),t.K_}function la(t){return t.U_||(t.U_=(function(n,i,a){const l=Ue(n);return l.w_(),new aV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gV.bind(null,t),mo:_V.bind(null,t),f_:yV.bind(null,t),g_:vV.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await wd(t)):(await t.U_.stop(),t.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class Ky{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const c=Date.now()+i,f=new Ky(e,n,c,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(t,e){if(ts("AsyncQueue",`${e}: ${t}`),xc(t))return new be(ae.UNAVAILABLE,`${e}: ${t}`);throw t}class fl{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=$u(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new fl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class Tw{constructor(){this.W_=new Nt(Ne.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,i)=>{e.push(i)})),e}}class El{constructor(e,n,i,a,l,c,f,m,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new El(e,n,fl.emptySet(n),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class EV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class wV{constructor(){this.queries=Sw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const a=Ue(n),l=a.queries;a.queries=Sw(),l.forEach(((c,f)=>{for(const m of f.j_)m.onError(i)}))})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function Sw(){return new Dl((t=>hA(t)),pd)}async function qA(t,e){const n=Ue(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.H_()&&e.J_()&&(i=2):(l=new EV,i=e.J_()?0:1);try{switch(i){case 0:l.z_=await n.onListen(a,!0);break;case 1:l.z_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Zy(c,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&Yy(n)}async function HA(t,e){const n=Ue(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?a=e.J_()?0:1:!l.H_()&&e.J_()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function TV(t,e){const n=Ue(t);let i=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.j_)f.X_(a)&&(i=!0);c.z_=a}}i&&Yy(n)}function SV(t,e,n){const i=Ue(t),a=i.queries.get(e);if(a)for(const l of a.j_)l.onError(n);i.queries.delete(e)}function Yy(t){t.Y_.forEach((e=>{e.next()}))}var Fg,Aw;(Aw=Fg||(Fg={})).ea="default",Aw.Cache="cache";class $A{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new El(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fg.Cache}}class GA{constructor(e){this.key=e}}class QA{constructor(e){this.key=e}}class AV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Je(),this.mutatedKeys=Je(),this.Aa=fA(e),this.Ra=new fl(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new Tw,a=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const T=a.get(v),x=gd(this.query,b)?b:null,M=!!T&&this.mutatedKeys.has(T.key),P=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;T&&x?T.data.isEqual(x.data)?M!==P&&(i.track({type:3,doc:x}),U=!0):this.ga(T,x)||(i.track({type:2,doc:x}),U=!0,(m&&this.Aa(x,m)>0||g&&this.Aa(x,g)<0)&&(f=!0)):!T&&x?(i.track({type:0,doc:x}),U=!0):T&&!x&&(i.track({type:1,doc:T}),U=!0,(m||g)&&(f=!0)),U&&(x?(c=c.add(x),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ra:c,fa:i,ns:f,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((v,b)=>(function(x,M){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return P(x)-P(M)})(v.type,b.type)||this.Aa(v.doc,b.doc))),this.pa(i),a=a!=null&&a;const f=n&&!a?this.ya():[],m=this.da.size===0&&this.current&&!a?1:0,g=m!==this.Ea;return this.Ea=m,c.length!==0||g?{snapshot:new El(this.query,e.Ra,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Je(),this.Ra.forEach((i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))}));const n=[];return e.forEach((i=>{this.da.has(i)||n.push(new QA(i))})),this.da.forEach((i=>{e.has(i)||n.push(new GA(i))})),n}ba(e){this.Ta=e.Ts,this.da=Je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return El.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RV{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class xV{constructor(e){this.key=e,this.va=!1}}class CV{constructor(e,n,i,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Dl((f=>hA(f)),pd),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Ne.comparator),this.Na=new Map,this.La=new Fy,this.Ba={},this.ka=new Map,this.qa=bl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IV(t,e,n=!0){const i=JA(t);let a;const l=i.Fa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=await KA(i,e,n,!0),a}async function OV(t,e){const n=JA(t);await KA(n,e,!0,!1)}async function KA(t,e,n,i){const a=await WM(t.localStore,ui(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await NV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&jA(t.remoteStore,a),f}async function NV(t,e,n,i,a){t.Ka=(b,T,x)=>(async function(P,U,W,Q){let ne=U.view.ma(W);ne.ns&&(ne=await _w(P.localStore,U.query,!1).then((({documents:N})=>U.view.ma(N,ne))));const he=Q&&Q.targetChanges.get(U.targetId),J=Q&&Q.targetMismatches.get(U.targetId)!=null,ve=U.view.applyChanges(ne,P.isPrimaryClient,he,J);return xw(P,U.targetId,ve.wa),ve.snapshot})(t,b,T,x);const l=await _w(t.localStore,e,!0),c=new AV(e,l.Ts),f=c.ma(l.documents),m=Ic.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),g=c.applyChanges(f,t.isPrimaryClient,m);xw(t,n,g.wa);const v=new RV(e,n,c);return t.Fa.set(e,v),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),g.snapshot}async function DV(t,e,n){const i=Ue(t),a=i.Fa.get(e),l=i.Ma.get(a.targetId);if(l.length>1)return i.Ma.set(a.targetId,l.filter((c=>!pd(c,e)))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ug(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Hy(i.remoteStore,a.targetId),Bg(i,a.targetId)})).catch(Rc)):(Bg(i,a.targetId),await Ug(i.localStore,a.targetId,!0))}async function kV(t,e){const n=Ue(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Hy(n.remoteStore,i.targetId))}async function MV(t,e,n){const i=FV(t);try{const a=await(function(c,f){const m=Ue(c),g=an.now(),v=f.reduce(((x,M)=>x.add(M.key)),Je());let b,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let M=ns(),P=Je();return m.cs.getEntries(x,v).next((U=>{M=U,M.forEach(((W,Q)=>{Q.isValidDocument()||(P=P.add(W))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,M))).next((U=>{b=U;const W=[];for(const Q of f){const ne=nM(Q,b.get(Q.key).overlayedDocument);ne!=null&&W.push(new ca(Q.key,ne,rA(ne.value.mapValue),Rr.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,W,f)})).next((U=>{T=U;const W=U.applyToLocalDocumentSet(b,P);return m.documentOverlayCache.saveOverlays(x,U.batchId,W)}))})).then((()=>({batchId:T.batchId,changes:mA(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let g=c.Ba[c.currentUser.toKey()];g||(g=new Nt(ot)),g=g.insert(f,m),c.Ba[c.currentUser.toKey()]=g})(i,a.batchId,n),await Nc(i,a.changes),await wd(i.remoteStore)}catch(a){const l=Zy(a,"Failed to persist write");n.reject(l)}}async function ZA(t,e){const n=Ue(t);try{const i=await ZM(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Na.get(l);c&&(mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.va=!0:a.modifiedDocuments.size>0?mt(c.va):a.removedDocuments.size>0&&(mt(c.va),c.va=!1))})),await Nc(n,i,e)}catch(i){await Rc(i)}}function Rw(t,e,n){const i=Ue(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Fa.forEach(((l,c)=>{const f=c.view.Z_(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Ue(c);m.onlineState=f;let g=!1;m.queries.forEach(((v,b)=>{for(const T of b.j_)T.Z_(f)&&(g=!0)})),g&&Yy(m)})(i.eventManager,e),a.length&&i.Ca.d_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function VV(t,e,n){const i=Ue(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Na.get(e),l=a&&a.key;if(l){let c=new Nt(Ne.comparator);c=c.insert(l,kn.newNoDocument(l,Le.min()));const f=Je().add(l),m=new _d(Le.min(),new Map,new Nt(ot),c,f);await ZA(i,m),i.Oa=i.Oa.remove(l),i.Na.delete(e),Xy(i)}else await Ug(i.localStore,e,!1).then((()=>Bg(i,e,n))).catch(Rc)}async function PV(t,e){const n=Ue(t),i=e.batch.batchId;try{const a=await KM(n.localStore,e);XA(n,i,null),YA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Nc(n,a)}catch(a){await Rc(a)}}async function jV(t,e,n){const i=Ue(t);try{const a=await(function(c,f){const m=Ue(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,f).next((b=>(mt(b!==null),v=b.keys(),m.mutationQueue.removeMutationBatch(g,b)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);XA(i,e,n),YA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Nc(i,a)}catch(a){await Rc(a)}}function YA(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function XA(t,e,n){const i=Ue(t);let a=i.Ba[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Ba[i.currentUser.toKey()]=a}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((i=>{t.La.containsKey(i)||WA(t,i)}))}function WA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Hy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Xy(t))}function xw(t,e,n){for(const i of n)i instanceof GA?(t.La.addReference(i.key,e),zV(t,i)):i instanceof QA?(Re("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||WA(t,i.key)):je()}function zV(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||(Re("SyncEngine","New document in limbo: "+n),t.xa.add(i),Xy(t))}function Xy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ne(At.fromString(e)),i=t.qa.next();t.Na.set(i,new xV(n)),t.Oa=t.Oa.insert(n,i),jA(t.remoteStore,new Js(ui(Vy(n.path)),i,"TargetPurposeLimboResolution",Iy.oe))}}async function Nc(t,e,n){const i=Ue(t),a=[],l=[],c=[];i.Fa.isEmpty()||(i.Fa.forEach(((f,m)=>{c.push(i.Ka(m,e,n).then((g=>{var v;if((g||n)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=n?.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){a.push(g);const b=qy.Wi(m.targetId,g);l.push(b)}})))})),await Promise.all(c),i.Ca.d_(a),await(async function(m,g){const v=Ue(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>de.forEach(g,(T=>de.forEach(T.$i,(x=>v.persistence.referenceDelegate.addReference(b,T.targetId,x))).next((()=>de.forEach(T.Ui,(x=>v.persistence.referenceDelegate.removeReference(b,T.targetId,x)))))))))}catch(b){if(!xc(b))throw b;Re("LocalStore","Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const x=v.os.get(T),M=x.snapshotVersion,P=x.withLastLimboFreeSnapshotVersion(M);v.os=v.os.insert(T,P)}}})(i.localStore,l))}async function LV(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const i=await kA(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((f=>{f.forEach((m=>{m.reject(new be(ae.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Nc(n,i.hs)}}function UV(t,e){const n=Ue(t),i=n.Na.get(e);if(i&&i.va)return Je().add(i.key);{let a=Je();const l=n.Ma.get(e);if(!l)return a;for(const c of l){const f=n.Fa.get(c);a=a.unionWith(f.view.Va)}return a}}function JA(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.Ca.d_=TV.bind(null,e.eventManager),e.Ca.$a=SV.bind(null,e.eventManager),e}function FV(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jV.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QM(this.persistence,new $M,e.initialUser,this.serializer)}Ga(e){return new BM(By.Zr,this.serializer)}Wa(e){return new eV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=LV.bind(null,this.syncEngine),await bV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wV})()}createDatastore(e){const n=bd(e.databaseInfo.databaseId),i=(function(l){return new iV(l)})(e.databaseInfo);return(function(l,c,f,m){return new oV(l,c,f,m)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,c,f){return new uV(i,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rw(this.syncEngine,n,0)),(function(){return Ew.D()?new Ew:new tV})())}createSyncEngine(e,n){return(function(a,l,c,f,m,g,v){const b=new CV(a,l,c,f,m,g);return v&&(b.Qa=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Ue(a);Re("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Oc(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qg.provider={build:()=>new qg};class eR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class BV{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=eA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{Re("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(Re("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Zy(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await kA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qV(t);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>ww(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>ww(e.remoteStore,a))),t._onlineComponents=e}async function qV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new Xf)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await lg(t,new Xf);return t._offlineComponents}async function tR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await Cw(t,t._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await Cw(t,new qg))),t._onlineComponents}function HV(t){return tR(t).then((e=>e.syncEngine))}async function nR(t){const e=await tR(t),n=e.eventManager;return n.onListen=IV.bind(null,e.syncEngine),n.onUnlisten=DV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kV.bind(null,e.syncEngine),n}function $V(t,e,n={}){const i=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const v=new eR({next:T=>{v.Za(),c.enqueueAndForget((()=>HA(l,b)));const x=T.docs.has(f);!x&&T.fromCache?g.reject(new be(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&m&&m.source==="server"?g.reject(new be(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new $A(Vy(f.path),v,{includeMetadataChanges:!0,_a:!0});return qA(l,b)})(await nR(t),t.asyncQueue,e,n,i))),i.promise}function GV(t,e,n={}){const i=new Xi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,g){const v=new eR({next:T=>{v.Za(),c.enqueueAndForget((()=>HA(l,b))),T.fromCache&&m.source==="server"?g.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new $A(f,v,{includeMetadataChanges:!0,_a:!0});return qA(l,b)})(await nR(t),t.asyncQueue,e,n,i))),i.promise}function rR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Iw=new Map;function iR(t,e,n){if(!n)throw new be(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QV(t,e,n,i){if(e===!0&&i===!0)throw new be(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ow(t){if(!Ne.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(Ne.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Td(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Td(t);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Dw{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sd{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new h2;switch(i.type){case"firstParty":return new p2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Iw.get(n);i&&(Re("ComponentProvider","Removing Datastore"),Iw.delete(n),i.terminate())})(this),Promise.resolve()}}function KV(t,e,n,i={}){var a;const l=(t=Br(t,Sd))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=Dn.MOCK_USER;else{f=CO(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Dn(g)}t._authCredentials=new f2(new JS(f,m))}}class ha{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class qn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class sa extends ha{constructor(e,n,i){super(e,n,Vy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ne(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function Ad(t,e,...n){if(t=on(t),iR("collection","path",e),t instanceof Sd){const i=At.fromString(e,...n);return Nw(i),new sa(t,null,i)}{if(!(t instanceof qn||t instanceof sa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return Nw(i),new sa(t.firestore,null,i)}}function ss(t,e,...n){if(t=on(t),arguments.length===1&&(e=eA.newId()),iR("doc","path",e),t instanceof Sd){const i=At.fromString(e,...n);return Ow(i),new qn(t,null,new Ne(i))}{if(!(t instanceof qn||t instanceof sa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(At.fromString(e,...n));return Ow(i),new qn(t.firestore,t instanceof sa?t.converter:null,new Ne(i))}}class kw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VA(this,"async_queue_retry"),this.Vu=()=>{const i=og();i&&Re("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=og();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=og();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Xi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xc(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((i=>{this.Eu=i,this.du=!1;const a=(function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f})(i);throw ts("INTERNAL UNHANDLED ERROR: ",a),i})).then((i=>(this.du=!1,i))))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const a=Ky.createAndSchedule(this,e,n,i,(l=>this.yu(l)));return this.Tu.push(a),a}fu(){this.Eu&&je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class co extends Sd{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new kw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kw(e),this._firestoreClient=void 0,await e}}}function ZV(t,e){const n=typeof t=="object"?t:vy(),i=typeof t=="string"?t:"(default)",a=yy(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=RO("firestore");l&&KV(a,...l)}return a}function Wy(t){if(t._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YV(t),t._firestoreClient}function YV(t){var e,n,i;const a=t._freezeSettings(),l=(function(f,m,g,v){return new C2(f,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,rR(v.experimentalLongPollingOptions),v.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new BV(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(f){const m=f?._online.build();return{_offline:f?._offline.build(m),_online:m}})(t._componentsProvider))}class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(An.fromBase64String(e))}catch(n){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Jy{constructor(e){this._methodName=e}}class ev{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}class tv{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}}const XV=/^__.*__$/;class WV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class sR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class nv{constructor(e,n,i,a,l,c){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.Ou(e),a}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Fu({path:i,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aR(this.Cu)&&XV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||bd(e)}Qu(e,n,i,a=!1){return new nv({Cu:e,methodName:n,qu:i,path:Tn.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(t){const e=t._freezeSettings(),n=bd(t._databaseId);return new JV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oR(t,e,n,i,a,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,a);rv("Data must be an object, but it was:",c,i);const f=lR(i,c);let m,g;if(l.merge)m=new hr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const T=Hg(e,b,n);if(!c.contains(T))throw new be(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);cR(v,T)||v.push(T)}m=new hr(v),g=c.fieldTransforms.filter((b=>m.covers(b.field)))}else m=null,g=c.fieldTransforms;return new WV(new Jn(f),m,g)}class Cd extends Jy{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cd}}function eP(t,e,n,i){const a=t.Qu(1,e,n);rv("Data must be an object, but it was:",a,i);const l=[],c=Jn.empty();lo(i,((m,g)=>{const v=iv(e,m,n);g=on(g);const b=a.Nu(v);if(g instanceof Cd)l.push(v);else{const T=Dc(g,b);T!=null&&(l.push(v),c.set(v,T))}}));const f=new hr(l);return new sR(c,f,a.fieldTransforms)}function tP(t,e,n,i,a,l){const c=t.Qu(1,e,n),f=[Hg(e,i,n)],m=[a];if(l.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Hg(e,l[T])),m.push(l[T+1]);const g=[],v=Jn.empty();for(let T=f.length-1;T>=0;--T)if(!cR(g,f[T])){const x=f[T];let M=m[T];M=on(M);const P=c.Nu(x);if(M instanceof Cd)g.push(x);else{const U=Dc(M,P);U!=null&&(g.push(x),v.set(x,U))}}const b=new hr(g);return new sR(v,b,c.fieldTransforms)}function nP(t,e,n,i=!1){return Dc(n,t.Qu(i?4:3,e))}function Dc(t,e){if(uR(t=on(t)))return rv("Unsupported field value:",e,t),lR(t,e);if(t instanceof Jy)return(function(i,a){if(!aR(a.Cu))throw a.Bu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const f of i){let m=Dc(f,a.Lu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=on(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=an.fromDate(i);return{timestampValue:Zf(a.serializer,l)}}if(i instanceof an){const l=new an(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zf(a.serializer,l)}}if(i instanceof ev)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wl)return{bytesValue:RA(a.serializer,i._byteString)};if(i instanceof qn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof tv)return(function(c,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw f.Bu("VectorValues must only contain numeric values.");return Py(f.serializer,m)}))}}}}}})(i,a);throw a.Bu(`Unsupported field value: ${Td(i)}`)})(t,e)}function lR(t,e){const n={};return tA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,((i,a)=>{const l=Dc(a,e.Mu(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function uR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof ev||t instanceof wl||t instanceof qn||t instanceof Jy||t instanceof tv)}function rv(t,e,n){if(!uR(n)||!(function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)})(n)){const i=Td(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function Hg(t,e,n){if((e=on(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return iv(t,e);throw Wf("Field path arguments must be of type string or ",t,!1,void 0,n)}const rP=new RegExp("[~\\*/\\[\\]]");function iv(t,e,n){if(e.search(rP)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wf(t,e,n,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new be(ae.INVALID_ARGUMENT,f+t+m)}function cR(t,e){return t.some((n=>n.isEqual(e)))}class hR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Id("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iP extends hR{data(){return super.data()}}function Id(t,e){return typeof e=="string"?iv(t,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}function sP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sv{}class av extends sv{}function Od(t,e,...n){let i=[];e instanceof sv&&i.push(e),i=i.concat(n),(function(l){const c=l.filter((m=>m instanceof ov)).length,f=l.filter((m=>m instanceof Nd)).length;if(c>1||c>0&&f>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class Nd extends av{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Nd(e,n,i)}_apply(e){const n=this._parse(e);return dR(e._query,n),new ha(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=xd(e.firestore);return(function(l,c,f,m,g,v,b){let T;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Vw(b,v);const x=[];for(const M of b)x.push(Mw(m,l,M));T={arrayValue:{values:x}}}else T=Mw(m,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Vw(b,v),T=nP(f,c,b,v==="in"||v==="not-in");return Xt.create(g,v,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fR(t,e,n){const i=e,a=Id("where",t);return Nd._create(a,i,n)}class ov extends sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ov(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)dR(c,m),c=Vg(c,m)})(e._query,n),new ha(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lv extends av{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(l,c)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Nl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Dd(t,e="asc"){const n=e,i=Id("orderBy",t);return lv._create(i,n)}class uv extends av{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new uv(e,n,i)}_apply(e){return new ha(e.firestore,e.converter,Gf(e._query,this._limit,this._limitType))}}function aP(t){return uv._create("limit",t,"F")}function Mw(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cA(e)&&n.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(At.fromString(n));if(!Ne.isDocumentKey(i))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nw(t,new Ne(i))}if(n instanceof qn)return nw(t,n._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dR(t,e){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oP{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return lo(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map((c=>Bt(c.doubleValue)));return new tv(l)}convertGeoPoint(e){return new ev(Bt(e.latitude),Bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Ny(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=oa(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=At.fromString(e);mt(DA(i));const a=new cc(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return a.isEqual(n)||ts(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function mR(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pR extends hR{constructor(e,n,i,a,l,c){super(e,n,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Id("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Df extends pR{data(e={}){return super.data(e)}}class lP{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Df(this._firestore,this._userDataWriter,i.key,i,new Qu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Df(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Qu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:uP(f.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}function gR(t){t=Br(t,qn);const e=Br(t.firestore,co);return $V(Wy(e),t._key).then((n=>hP(e,t,n)))}class yR extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function pc(t){t=Br(t,ha);const e=Br(t.firestore,co),n=Wy(e),i=new yR(e);return sP(t._query),GV(n,t._query).then((a=>new lP(e,i,t,a)))}function cP(t,e,n){t=Br(t,qn);const i=Br(t.firestore,co),a=mR(t.converter,e,n);return kd(i,[oR(xd(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rr.none())])}function cv(t,e,n,...i){t=Br(t,qn);const a=Br(t.firestore,co),l=xd(a);let c;return c=typeof(e=on(e))=="string"||e instanceof Rd?tP(l,"updateDoc",t._key,e,n,i):eP(l,"updateDoc",t._key,e),kd(a,[c.toMutation(t._key,Rr.exists(!0))])}function hv(t){return kd(Br(t.firestore,co),[new jy(t._key,Rr.none())])}function fv(t,e){const n=Br(t.firestore,co),i=ss(t),a=mR(t.converter,e);return kd(n,[oR(xd(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Rr.exists(!1))]).then((()=>i))}function kd(t,e){return(function(i,a){const l=new Xi;return i.asyncQueue.enqueueAndForget((async()=>MV(await HV(i),a,l))),l.promise})(Wy(t),e)}function hP(t,e,n){const i=n.docs.get(e._key),a=new yR(t);return new pR(t,a,e._key,i,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ol=a})(xl),ml(new eo("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new co(new d2(i.getProvider("auth-internal")),new y2(i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(g.options.projectId,v)})(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),ra(XE,"4.7.3",e),ra(XE,"4.7.3","esm2017")})();var fP="firebase",dP="10.14.1";ra(fP,dP,"app");const $a={apiKey:"AIzaSyAoqdR4beXdX5QJsQRd2rbAc_Lc8A8Bobk",authDomain:"dynk-crm.firebaseapp.com",projectId:"dynk-crm",storageBucket:"dynk-crm.firebasestorage.app",messagingSenderId:"876818312709",appId:"1:876818312709:web:43e4a2334cc38963f1f66c",measurementId:"G-R6YH7BMN6N"},mP=[["VITE_FIREBASE_API_KEY",$a.apiKey],["VITE_FIREBASE_AUTH_DOMAIN",$a.authDomain],["VITE_FIREBASE_PROJECT_ID",$a.projectId],["VITE_FIREBASE_STORAGE_BUCKET",$a.storageBucket],["VITE_FIREBASE_MESSAGING_SENDER_ID",$a.messagingSenderId],["VITE_FIREBASE_APP_ID",$a.appId]],Pw=mP.filter(([,t])=>!t).map(([t])=>t);if(Pw.length)throw new Error(`Missing Firebase environment variables: ${Pw.join(", ")}`);const vR=qN().length?vy():cS($a),Jf=u2(vR);ZD(Jf,zS).catch(()=>{});const kc=ZV(vR),_R=F.createContext(void 0),pP=async t=>{const e=ss(kc,"profiles",t.uid),n=await gR(e);if(n.exists())return{id:t.uid,...n.data()};const i=t.displayName??t.email?.split("@")[0]??"New User",a={id:t.uid,full_name:i,role:"rep",created_at:new Date().toISOString()};return await cP(e,a,{merge:!0}),a},gP=({children:t})=>{const[e,n]=F.useState(null),[i,a]=F.useState(null),[l,c]=F.useState(!0),[f,m]=F.useState(!1);F.useEffect(()=>{let b=!0;const T=WD(Jf,x=>{b&&(n(x),c(!1))},x=>{b&&(console.error("Failed to load session",x),n(null),c(!1))});return()=>{b=!1,T()}},[]),F.useEffect(()=>{let b=!0;return(async()=>{if(!e){a(null),m(!1);return}m(!0);try{const x=await pP(e);if(!b)return;a(x)}catch(x){if(!b)return;console.error("Failed to load profile",x),a(null)}finally{if(!b)return;m(!1)}})(),()=>{b=!1}},[e,i?.id]);const g=F.useCallback(async()=>{await JD(Jf)},[]),v=F.useMemo(()=>({user:e,profile:i,loading:l,profileLoading:f,signOut:g}),[e,i,l,f,g]);return w.jsx(_R.Provider,{value:v,children:t})},Mc=()=>{const t=F.useContext(_R);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},yP=async(t,e)=>{try{return await KD(Jf,t,e)}catch(n){const i=n;throw i?.name==="AbortError"||i?.name==="TimeoutError"?new Error("Request timed out. Check your connection and try again."):i}};function bR(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=bR(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function vP(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=bR(t))&&(i&&(i+=" "),i+=e);return i}const _P=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},bP=(t,e)=>({classGroupId:t,validator:e}),ER=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),ed="-",jw=[],EP="arbitrary..",wP=t=>{const e=SP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return TP(c);const f=c.split(ed),m=f[0]===""&&f.length>1?1:0;return wR(f,m,e)},getConflictingClassGroupIds:(c,f)=>{if(f){const m=i[c],g=n[c];return m?g?_P(g,m):m:g||jw}return n[c]||jw}}},wR=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=wR(t,e+1,l);if(g)return g}const c=n.validators;if(c===null)return;const f=e===0?t.join(ed):t.slice(e).join(ed),m=c.length;for(let g=0;g<m;g++){const v=c[g];if(v.validator(f))return v.classGroupId}},TP=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?EP+i:void 0})(),SP=t=>{const{theme:e,classGroups:n}=t;return AP(n,e)},AP=(t,e)=>{const n=ER();for(const i in t){const a=t[i];dv(a,n,i,e)}return n},dv=(t,e,n,i)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];RP(c,e,n,i)}},RP=(t,e,n,i)=>{if(typeof t=="string"){xP(t,e,n);return}if(typeof t=="function"){CP(t,e,n,i);return}IP(t,e,n,i)},xP=(t,e,n)=>{const i=t===""?e:TR(e,t);i.classGroupId=n},CP=(t,e,n,i)=>{if(OP(t)){dv(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(bP(n,t))},IP=(t,e,n,i)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[f,m]=a[c];dv(m,TR(e,f),n,i)}},TR=(t,e)=>{let n=t;const i=e.split(ed),a=i.length;for(let l=0;l<a;l++){const c=i[l];let f=n.nextPart.get(c);f||(f=ER(),n.nextPart.set(c,f)),n=f}return n},OP=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,NP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},$g="!",zw=":",DP=[],Lw=(t,e,n,i,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:a}),kP=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const l=[];let c=0,f=0,m=0,g;const v=a.length;for(let P=0;P<v;P++){const U=a[P];if(c===0&&f===0){if(U===zw){l.push(a.slice(m,P)),m=P+1;continue}if(U==="/"){g=P;continue}}U==="["?c++:U==="]"?c--:U==="("?f++:U===")"&&f--}const b=l.length===0?a:a.slice(m);let T=b,x=!1;b.endsWith($g)?(T=b.slice(0,-1),x=!0):b.startsWith($g)&&(T=b.slice(1),x=!0);const M=g&&g>m?g-m:void 0;return Lw(l,x,T,M)};if(e){const a=e+zw,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):Lw(DP,!1,c,void 0,!0)}if(n){const a=i;i=l=>n({className:l,parseClassName:a})}return i},MP=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],f=c[0]==="[",m=e.has(c);f||m?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},VP=t=>({cache:NP(t.cacheSize),parseClassName:kP(t),sortModifiers:MP(t),...wP(t)}),PP=/\s+/,jP=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],f=t.trim().split(PP);let m="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:b,modifiers:T,hasImportantModifier:x,baseClassName:M,maybePostfixModifierPosition:P}=n(v);if(b){m=v+(m.length>0?" "+m:m);continue}let U=!!P,W=i(U?M.substring(0,P):M);if(!W){if(!U){m=v+(m.length>0?" "+m:m);continue}if(W=i(M),!W){m=v+(m.length>0?" "+m:m);continue}U=!1}const Q=T.length===0?"":T.length===1?T[0]:l(T).join(":"),ne=x?Q+$g:Q,he=ne+W;if(c.indexOf(he)>-1)continue;c.push(he);const J=a(W,U);for(let ve=0;ve<J.length;++ve){const N=J[ve];c.push(ne+N)}m=v+(m.length>0?" "+m:m)}return m},zP=(...t)=>{let e=0,n,i,a="";for(;e<t.length;)(n=t[e++])&&(i=SR(n))&&(a&&(a+=" "),a+=i);return a},SR=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=SR(t[i]))&&(n&&(n+=" "),n+=e);return n},LP=(t,...e)=>{let n,i,a,l;const c=m=>{const g=e.reduce((v,b)=>b(v),t());return n=VP(g),i=n.cache.get,a=n.cache.set,l=f,f(m)},f=m=>{const g=i(m);if(g)return g;const v=jP(m,n);return a(m,v),v};return l=c,(...m)=>l(zP(...m))},UP=[],nn=t=>{const e=n=>n[t]||UP;return e.isThemeGetter=!0,e},AR=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RR=/^\((?:(\w[\w-]*):)?(.+)\)$/i,FP=/^\d+\/\d+$/,BP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$P=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,el=t=>FP.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),Ks=t=>!!t&&Number.isInteger(Number(t)),ug=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Fi=t=>BP.test(t),QP=()=>!0,KP=t=>qP.test(t)&&!HP.test(t),xR=()=>!1,ZP=t=>$P.test(t),YP=t=>GP.test(t),XP=t=>!Te(t)&&!Se(t),WP=t=>Ml(t,OR,xR),Te=t=>AR.test(t),qa=t=>Ml(t,NR,KP),cg=t=>Ml(t,rj,Ke),Uw=t=>Ml(t,CR,xR),JP=t=>Ml(t,IR,YP),pf=t=>Ml(t,DR,ZP),Se=t=>RR.test(t),Uu=t=>Vl(t,NR),ej=t=>Vl(t,ij),Fw=t=>Vl(t,CR),tj=t=>Vl(t,OR),nj=t=>Vl(t,IR),gf=t=>Vl(t,DR,!0),Ml=(t,e,n)=>{const i=AR.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},Vl=(t,e,n=!1)=>{const i=RR.exec(t);return i?i[1]?e(i[1]):n:!1},CR=t=>t==="position"||t==="percentage",IR=t=>t==="image"||t==="url",OR=t=>t==="length"||t==="size"||t==="bg-size",NR=t=>t==="length",rj=t=>t==="number",ij=t=>t==="family-name",DR=t=>t==="shadow",sj=()=>{const t=nn("color"),e=nn("font"),n=nn("text"),i=nn("font-weight"),a=nn("tracking"),l=nn("leading"),c=nn("breakpoint"),f=nn("container"),m=nn("spacing"),g=nn("radius"),v=nn("shadow"),b=nn("inset-shadow"),T=nn("text-shadow"),x=nn("drop-shadow"),M=nn("blur"),P=nn("perspective"),U=nn("aspect"),W=nn("ease"),Q=nn("animate"),ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],he=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...he(),Se,Te],ve=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],A=()=>[Se,Te,m],I=()=>[el,"full","auto",...A()],O=()=>[Ks,"none","subgrid",Se,Te],z=()=>["auto",{span:["full",Ks,Se,Te]},Ks,Se,Te],D=()=>[Ks,"auto",Se,Te],C=()=>["auto","min","max","fr",Se,Te],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Fe=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...A()],fe=()=>[el,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],oe=()=>[t,Se,Te],Be=()=>[...he(),Fw,Uw,{position:[Se,Te]}],He=()=>["no-repeat",{repeat:["","x","y","space","round"]}],j=()=>["auto","cover","contain",tj,WP,{size:[Se,Te]}],te=()=>[ug,Uu,qa],le=()=>["","none","full",g,Se,Te],ye=()=>["",Ke,Uu,qa],Ie=()=>["solid","dashed","dotted","double"],Ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ce=()=>[Ke,ug,Fw,Uw],bt=()=>["","none",M,Se,Te],Ee=()=>["none",Ke,Se,Te],jt=()=>["none",Ke,Se,Te],mn=()=>[Ke,Se,Te],Hn=()=>[el,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fi],breakpoint:[Fi],color:[QP],container:[Fi],"drop-shadow":[Fi],ease:["in","out","in-out"],font:[XP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fi],shadow:[Fi],spacing:["px",Ke],text:[Fi],"text-shadow":[Fi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",el,Te,Se,U]}],container:["container"],columns:[{columns:[Ke,Te,Se,f]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:ve()}],"overflow-x":[{"overflow-x":ve()}],"overflow-y":[{"overflow-y":ve()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Ks,"auto",Se,Te]}],basis:[{basis:[el,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,el,"auto","initial","none",Te]}],grow:[{grow:["",Ke,Se,Te]}],shrink:[{shrink:["",Ke,Se,Te]}],order:[{order:[Ks,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Fe()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Fe(),"baseline"]}],"place-self":[{"place-self":["auto",...Fe()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:fe()}],w:[{w:[f,"screen",...fe()]}],"min-w":[{"min-w":[f,"screen","none",...fe()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...fe()]}],h:[{h:["screen","lh",...fe()]}],"min-h":[{"min-h":["screen","lh","none",...fe()]}],"max-h":[{"max-h":["screen","lh",...fe()]}],"font-size":[{text:["base",n,Uu,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Se,cg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ug,Te]}],"font-family":[{font:[ej,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,Te]}],"line-clamp":[{"line-clamp":[Ke,"none",Se,cg]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:oe()}],"text-color":[{text:oe()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",Se,qa]}],"text-decoration-color":[{decoration:oe()}],"underline-offset":[{"underline-offset":[Ke,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Be()}],"bg-repeat":[{bg:He()}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ks,Se,Te],radial:["",Se,Te],conic:[Ks,Se,Te]},nj,JP]}],"bg-color":[{bg:oe()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:oe()}],"gradient-via":[{via:oe()}],"gradient-to":[{to:oe()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:oe()}],"border-color-x":[{"border-x":oe()}],"border-color-y":[{"border-y":oe()}],"border-color-s":[{"border-s":oe()}],"border-color-e":[{"border-e":oe()}],"border-color-t":[{"border-t":oe()}],"border-color-r":[{"border-r":oe()}],"border-color-b":[{"border-b":oe()}],"border-color-l":[{"border-l":oe()}],"divide-color":[{divide:oe()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,Se,Te]}],"outline-w":[{outline:["",Ke,Uu,qa]}],"outline-color":[{outline:oe()}],shadow:[{shadow:["","none",v,gf,pf]}],"shadow-color":[{shadow:oe()}],"inset-shadow":[{"inset-shadow":["none",b,gf,pf]}],"inset-shadow-color":[{"inset-shadow":oe()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:oe()}],"ring-offset-w":[{"ring-offset":[Ke,qa]}],"ring-offset-color":[{"ring-offset":oe()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":oe()}],"text-shadow":[{"text-shadow":["none",T,gf,pf]}],"text-shadow-color":[{"text-shadow":oe()}],opacity:[{opacity:[Ke,Se,Te]}],"mix-blend":[{"mix-blend":[...Ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ce()}],"mask-image-linear-from-color":[{"mask-linear-from":oe()}],"mask-image-linear-to-color":[{"mask-linear-to":oe()}],"mask-image-t-from-pos":[{"mask-t-from":Ce()}],"mask-image-t-to-pos":[{"mask-t-to":Ce()}],"mask-image-t-from-color":[{"mask-t-from":oe()}],"mask-image-t-to-color":[{"mask-t-to":oe()}],"mask-image-r-from-pos":[{"mask-r-from":Ce()}],"mask-image-r-to-pos":[{"mask-r-to":Ce()}],"mask-image-r-from-color":[{"mask-r-from":oe()}],"mask-image-r-to-color":[{"mask-r-to":oe()}],"mask-image-b-from-pos":[{"mask-b-from":Ce()}],"mask-image-b-to-pos":[{"mask-b-to":Ce()}],"mask-image-b-from-color":[{"mask-b-from":oe()}],"mask-image-b-to-color":[{"mask-b-to":oe()}],"mask-image-l-from-pos":[{"mask-l-from":Ce()}],"mask-image-l-to-pos":[{"mask-l-to":Ce()}],"mask-image-l-from-color":[{"mask-l-from":oe()}],"mask-image-l-to-color":[{"mask-l-to":oe()}],"mask-image-x-from-pos":[{"mask-x-from":Ce()}],"mask-image-x-to-pos":[{"mask-x-to":Ce()}],"mask-image-x-from-color":[{"mask-x-from":oe()}],"mask-image-x-to-color":[{"mask-x-to":oe()}],"mask-image-y-from-pos":[{"mask-y-from":Ce()}],"mask-image-y-to-pos":[{"mask-y-to":Ce()}],"mask-image-y-from-color":[{"mask-y-from":oe()}],"mask-image-y-to-color":[{"mask-y-to":oe()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ce()}],"mask-image-radial-from-color":[{"mask-radial-from":oe()}],"mask-image-radial-to-color":[{"mask-radial-to":oe()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":he()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ce()}],"mask-image-conic-from-color":[{"mask-conic-from":oe()}],"mask-image-conic-to-color":[{"mask-conic-to":oe()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Be()}],"mask-repeat":[{mask:He()}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:bt()}],brightness:[{brightness:[Ke,Se,Te]}],contrast:[{contrast:[Ke,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",x,gf,pf]}],"drop-shadow-color":[{"drop-shadow":oe()}],grayscale:[{grayscale:["",Ke,Se,Te]}],"hue-rotate":[{"hue-rotate":[Ke,Se,Te]}],invert:[{invert:["",Ke,Se,Te]}],saturate:[{saturate:[Ke,Se,Te]}],sepia:[{sepia:["",Ke,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":bt()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Ke,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",Se,Te]}],ease:[{ease:["linear","initial",W,Se,Te]}],delay:[{delay:[Ke,Se,Te]}],animate:[{animate:["none",Q,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Se,Te]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:Ee()}],"rotate-x":[{"rotate-x":Ee()}],"rotate-y":[{"rotate-y":Ee()}],"rotate-z":[{"rotate-z":Ee()}],scale:[{scale:jt()}],"scale-x":[{"scale-x":jt()}],"scale-y":[{"scale-y":jt()}],"scale-z":[{"scale-z":jt()}],"scale-3d":["scale-3d"],skew:[{skew:mn()}],"skew-x":[{"skew-x":mn()}],"skew-y":[{"skew-y":mn()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Hn()}],"translate-x":[{"translate-x":Hn()}],"translate-y":[{"translate-y":Hn()}],"translate-z":[{"translate-z":Hn()}],"translate-none":["translate-none"],accent:[{accent:oe()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:oe()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...oe()]}],"stroke-w":[{stroke:[Ke,Uu,qa,cg]}],stroke:[{stroke:["none",...oe()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aj=LP(sj),ft=(...t)=>aj(vP(t)),Gg=t=>{if(!t)return"";const e=new Date(t);return Number.isNaN(e.getTime())?"":e.toLocaleDateString()},Xa=()=>new Date().toISOString().slice(0,10),kR=t=>{const e=new Date;return e.setDate(e.getDate()+t),e.toISOString().slice(0,10)},xt=F.forwardRef(({className:t,variant:e="primary",size:n="md",...i},a)=>w.jsx("button",{ref:a,className:ft("inline-flex items-center justify-center gap-2 rounded-xl border border-transparent font-semibold uppercase tracking-[0.08em] transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 disabled:pointer-events-none disabled:opacity-50",{"bg-accent text-black shadow-glow hover:translate-y-[-1px] hover:bg-[#ff922b]":e==="primary","border-white/25 bg-[#1a1a1a] text-white hover:border-accent/60 hover:text-accent":e==="secondary","border-white/25 bg-transparent text-white hover:border-accent hover:text-accent":e==="ghost","bg-danger text-white hover:bg-[#ff4d4d]":e==="danger"},{"px-4 py-2 text-xs":n==="sm","px-5 py-3 text-sm":n==="md","px-6 py-3.5 text-sm":n==="lg"},t),...i}));xt.displayName="Button";const Ga=({className:t,tone:e="neutral",...n})=>w.jsx("span",{className:ft("inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-[0.08em]",{"border-white/25 bg-white/5 text-white/80":e==="neutral","border-success/30 bg-success/10 text-success":e==="success","border-danger/30 bg-danger/10 text-danger":e==="danger","border-accent/50 bg-accent/15 text-accent":e==="accent"},t),...n}),oj=({active:t})=>w.jsx("svg",{className:ft("h-5 w-5",t?"text-accent":"text-white/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:w.jsx("path",{d:"M3 12h8V3H3v9Zm10 9h8V3h-8v18ZM3 21h8v-7H3v7Z"})}),lj=({active:t})=>w.jsxs("svg",{className:ft("h-5 w-5",t?"text-accent":"text-white/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[w.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"3"}),w.jsx("path",{d:"M7 8h10M7 12h6M7 16h8"})]}),uj=({active:t})=>w.jsxs("svg",{className:ft("h-5 w-5",t?"text-accent":"text-white/70"),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[w.jsx("path",{d:"M12 3l2.1 1.2 2.4-.6 1.6 2-1.4 2 1.4 2-1.6 2-2.4-.6L12 21l-2.1-1.2-2.4.6-1.6-2 1.4-2-1.4-2 1.6-2 2.4.6L12 3Z"}),w.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),cj=()=>w.jsx("svg",{className:"h-5 w-5 text-white/80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:w.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})}),Bw=()=>w.jsxs("svg",{className:"h-5 w-5 text-white/80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[w.jsx("path",{d:"M10 17l5-5-5-5"}),w.jsx("path",{d:"M15 12H3"}),w.jsx("path",{d:"M21 3v18"})]}),hj=()=>{const{profile:t,signOut:e}=Mc(),[n,i]=F.useState(!0),a=[{to:"/",label:"Dashboard",adminOnly:!1,Icon:oj},{to:"/crm",label:"CRM",adminOnly:!1,Icon:lj},{to:"/settings",label:"Settings",adminOnly:!0,Icon:uj}];return w.jsx("div",{className:"min-h-screen fade-in",children:w.jsxs("div",{className:"flex min-h-screen",children:[w.jsxs("header",{className:"fixed inset-x-0 top-0 z-40 flex h-16 items-center gap-3 border-b border-white/10 bg-[#0f0f0f]/95 px-3 shadow-panel backdrop-blur lg:hidden",children:[w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("p",{className:"kicker",children:"Dynk"})}),w.jsx("nav",{className:"flex flex-1 items-center gap-2 overflow-x-auto",children:a.filter(l=>!l.adminOnly||t?.role==="admin").map(l=>w.jsx(pg,{to:l.to,className:({isActive:c})=>ft("flex items-center gap-2 rounded-xl border px-3 py-2 text-[11px] font-semibold uppercase tracking-[0.12em] transition-all duration-200",c?"border-accent/70 bg-accent/15 text-accent":"border-transparent text-white/75 hover:border-white/15 hover:text-white","whitespace-nowrap"),children:({isActive:c})=>w.jsxs(w.Fragment,{children:[w.jsx(l.Icon,{active:c}),w.jsx("span",{className:"sr-only",children:l.label})]})},l.to))}),w.jsx("button",{type:"button",className:"flex h-10 w-10 items-center justify-center rounded-xl border border-white/15 bg-white/5 text-white/80 hover:border-accent/60 hover:text-accent",onClick:e,"aria-label":"Sign out",children:w.jsx(Bw,{})})]}),w.jsxs("aside",{className:ft("fixed inset-y-0 left-0 z-40 hidden flex-col justify-between border-r border-white/10 bg-[#0f0f0f]/95 shadow-panel backdrop-blur transition-all duration-200 lg:flex",n?"w-16":"w-64"),children:[w.jsxs("div",{className:"flex flex-col gap-6 px-3 py-6",children:[w.jsxs("div",{className:ft("flex items-center justify-between",n&&"justify-center"),children:[w.jsxs("div",{className:ft("space-y-1",n&&"hidden"),children:[w.jsx("p",{className:"kicker",children:"Dynk"}),w.jsx("h1",{className:"font-display text-lg text-white",children:"Vault CRM"})]}),w.jsx("button",{type:"button",className:ft("flex items-center justify-center rounded-xl border border-white/15 bg-white/5 p-2 text-white/70 hover:border-accent/60 hover:text-accent",n&&"mx-auto"),onClick:()=>i(l=>!l),"aria-label":"Toggle navigation",children:w.jsx(cj,{})})]}),w.jsx("nav",{className:"grid gap-2",children:a.filter(l=>!l.adminOnly||t?.role==="admin").map(l=>w.jsx(pg,{to:l.to,className:({isActive:c})=>ft("flex items-center gap-3 rounded-xl border px-3 py-3 text-xs font-semibold uppercase tracking-[0.12em] transition-all duration-200",c?"border-accent/70 bg-accent/15 text-accent":"border-transparent text-white/75 hover:border-white/15 hover:text-white",n&&"justify-center px-0"),children:({isActive:c})=>w.jsxs(w.Fragment,{children:[w.jsx(l.Icon,{active:c}),w.jsx("span",{className:ft(n&&"hidden"),children:l.label})]})},l.to))})]}),w.jsx("div",{className:"border-t border-white/10 px-3 py-4",children:n?w.jsx("button",{type:"button",className:"mx-auto flex h-10 w-10 items-center justify-center rounded-xl border border-white/15 bg-white/5 hover:border-accent/60",onClick:e,"aria-label":"Sign out",children:w.jsx(Bw,{})}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"text-xs text-white/70",children:[w.jsx("p",{className:"uppercase tracking-[0.2em]",children:"Signed In"}),w.jsx("p",{className:"text-white",children:t?.full_name??"Loading..."})]}),t?.role?w.jsx(Ga,{tone:t.role==="admin"?"accent":"neutral",children:t.role}):null]}),w.jsx("div",{className:"mt-4",children:w.jsx(xt,{variant:"secondary",size:"sm",onClick:e,children:"Sign out"})})]})})]}),w.jsx("div",{className:"flex-1 px-4 pb-6 pt-20 lg:ml-16 lg:px-10 lg:py-6",children:w.jsx("div",{className:"rise-in",children:w.jsx(FT,{})})})]})})},qw=({requireAdmin:t})=>{const{user:e,profile:n,loading:i,profileLoading:a}=Mc(),l=fi();return i?w.jsx("div",{className:"flex min-h-screen items-center justify-center text-muted",children:"Loading workspace..."}):e?t&&a?w.jsx("div",{className:"flex min-h-screen items-center justify-center text-muted",children:"Checking access..."}):t&&n?.role!=="admin"?w.jsx(dg,{to:"/",replace:!0}):w.jsx(FT,{}):w.jsx(dg,{to:"/login",state:{from:l},replace:!0})},fn=({className:t,...e})=>w.jsx("div",{className:ft("relative overflow-hidden rounded-2xl border border-white/20 bg-[#141414] p-5 shadow-panel transition-all duration-200 ease-out",t),...e}),fj=14,Hw=Ad(kc,"crm_records"),dj=()=>bc({queryKey:["dashboard"],queryFn:async()=>{const t=new Date;t.setDate(t.getDate()-7);const e=new Date;e.setDate(e.getDate()-fj);const[n,i]=await Promise.all([pc(Hw),pc(Od(Hw,Dd("updated_at","desc"),aP(6)))]),a=n.docs.map(M=>M.data()),l=t.getTime(),c=e.getTime(),f={},m={};let g=0,v=0,b=0;for(const M of a){const P=M.status??"Unknown";f[P]=1+(f[P]??0);const U=M.rep_id??"Unassigned";m[U]=1+(m[U]??0),M.created_at&&Date.parse(M.created_at)>=l&&(g+=1),M.presentation_sent&&(v+=1),M.last_spoke_to&&Date.parse(M.last_spoke_to)<c&&M.status!=="Won"&&M.status!=="Lost"&&(b+=1)}const T=a.length,x=i.docs.map(M=>({id:M.id,...M.data()}));return{total:T,newThisWeek:g,presentationSent:v,overdue:b,statusCounts:f,repCounts:m,recent:x}},staleTime:3e5,gcTime:9e5}),mj=t=>["reps",{includeInactive:t}],pj=3e5,gj=18e5,Md=Ad(kc,"reps"),yj=async t=>{const e=[Dd("name","asc")];t||e.unshift(fR("active","==",!0));const n=Od(Md,...e);return(await pc(n)).docs.map(a=>({id:a.id,...a.data()}))},mv=(t=!1)=>bc({queryKey:mj(t),queryFn:()=>yj(t),staleTime:pj,gcTime:gj}),vj=()=>{const t=Hr();return rs({mutationFn:async e=>{const n=new Date().toISOString(),i={name:e,active:!0,created_at:n};return{id:(await fv(Md,i)).id,...i}},onSuccess:()=>{t.invalidateQueries({queryKey:["reps"]})}})},_j=()=>{const t=Hr();return rs({mutationFn:async e=>{const{id:n,...i}=e;return await cv(ss(Md,n),i),e},onSuccess:()=>{t.invalidateQueries({queryKey:["reps"]})}})},bj=()=>{const t=Hr();return rs({mutationFn:async e=>(await hv(ss(Md,e)),e),onSuccess:()=>{t.invalidateQueries({queryKey:["reps"]})}})},Ej=()=>{const{data:t,isLoading:e,error:n}=dj(),{data:i}=mv(!0),{profile:a}=Mc();if(e)return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Overview"}),w.jsx("div",{className:"h-10 w-64 rounded-xl bg-white/10 animate-pulse"})]}),w.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((c,f)=>w.jsx(fn,{className:"h-28 animate-pulse"},f))}),w.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[w.jsx(fn,{className:"h-64 animate-pulse"}),w.jsx(fn,{className:"h-64 animate-pulse"})]}),w.jsx(fn,{className:"h-48 animate-pulse"})]});if(n||!t)return w.jsxs(fn,{className:"border border-danger/40",children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:"Dashboard unavailable"}),w.jsx("p",{className:"text-xs text-danger",children:"Check your Firebase connection and try again."})]});const l=c=>i?.find(f=>f.id===c)?.name??"Unassigned";return w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"kicker",children:"Overview"}),w.jsx("h2",{className:"section-title",children:"Performance intelligence"}),w.jsx("p",{className:"section-subtitle",children:"Track momentum across your pipeline."})]}),w.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[{label:"Total Records",value:t.total},{label:"New This Week",value:t.newThisWeek},{label:"Presentation Sent",value:t.presentationSent},{label:"Overdue Follow-ups",value:t.overdue}].map(c=>w.jsxs(fn,{className:"space-y-2 rise-in",children:[w.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-white/70",children:c.label}),w.jsx("p",{className:"font-display text-3xl text-white",children:c.value}),w.jsxs("p",{className:"text-xs text-white/70",children:["Updated ",new Date().toLocaleTimeString()]})]},c.label))}),w.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[w.jsxs(fn,{className:"space-y-4 rise-in",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Pipeline"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Status distribution"})]}),w.jsx("div",{className:"space-y-3",children:Object.entries(t.statusCounts).length===0?w.jsx("p",{className:"text-sm text-white/70",children:"No records yet."}):Object.entries(t.statusCounts).map(([c,f])=>{const m=t.total?f/t.total*100:0;return w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex items-center justify-between text-sm",children:[w.jsx("span",{children:c}),w.jsx("span",{className:"text-white/70",children:f})]}),w.jsx("div",{className:"h-2 rounded-full bg-white/10",children:w.jsx("div",{className:"h-2 rounded-full bg-accent",style:{width:`${Math.min(100,m)}%`}})})]},c)})})]}),w.jsxs(fn,{className:"space-y-4 rise-in",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Team"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Rep activity"})]}),w.jsx("div",{className:"space-y-3",children:Object.entries(t.repCounts).length===0?w.jsx("p",{className:"text-sm text-white/70",children:"No activity yet."}):Object.entries(t.repCounts).map(([c,f])=>{const m=t.total?f/t.total*100:0;return w.jsxs("div",{className:"space-y-1",children:[w.jsxs("div",{className:"flex items-center justify-between text-sm",children:[w.jsx("span",{children:l(c)}),w.jsx("span",{className:"text-white/70",children:f})]}),w.jsx("div",{className:"h-2 rounded-full bg-white/10",children:w.jsx("div",{className:"h-2 rounded-full bg-[#ff9a3c]",style:{width:`${Math.min(100,m)}%`}})})]},c)})})]})]}),w.jsxs(fn,{className:"space-y-4 rise-in",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Recent"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Latest updates"})]}),w.jsxs("div",{className:"space-y-3",children:[t.recent.length===0?w.jsx("p",{className:"text-sm text-white/70",children:"No activity yet."}):null,t.recent.map(c=>w.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/15 bg-white/5 px-4 py-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:c.customer_name}),w.jsxs("p",{className:"text-xs text-white/70",children:["Status: ",c.status]})]}),w.jsx("p",{className:"text-xs text-white/70",children:Gg(c.updated_at)})]},c.id))]})]}),a?.role==="admin"?w.jsxs(fn,{className:"flex flex-wrap items-center justify-between gap-4 rise-in",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Settings"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Manage reps & products"}),w.jsx("p",{className:"text-sm text-white/70",children:"Add new reps or products to keep dropdowns current."})]}),w.jsx(uy,{to:"/settings",children:w.jsx(xt,{variant:"secondary",children:"Open Settings"})})]}):null]})};var Vc=t=>t.type==="checkbox",Za=t=>t instanceof Date,Wn=t=>t==null;const MR=t=>typeof t=="object";var Wt=t=>!Wn(t)&&!Array.isArray(t)&&MR(t)&&!Za(t),wj=t=>Wt(t)&&t.target?Vc(t.target)?t.target.checked:t.target.value:t,Tj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sj=(t,e)=>t.has(Tj(e)),Aj=t=>{const e=t.constructor&&t.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},pv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(pv&&(t instanceof Blob||e))return t;const n=Array.isArray(t);if(!n&&!(Wt(t)&&Aj(t)))return t;const i=n?[]:Object.create(Object.getPrototypeOf(t));for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(i[a]=rn(t[a]));return i}var Vd=t=>/^\w*$/.test(t),Ot=t=>t===void 0,gv=t=>Array.isArray(t)?t.filter(Boolean):[],yv=t=>gv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ae=(t,e,n)=>{if(!e||!Wt(t))return n;const i=(Vd(e)?[e]:yv(e)).reduce((a,l)=>Wn(a)?a:a[l],t);return Ot(i)||i===t?Ot(t[e])?n:t[e]:i},ai=t=>typeof t=="boolean",Pr=t=>typeof t=="function",_t=(t,e,n)=>{let i=-1;const a=Vd(e)?[e]:yv(e),l=a.length,c=l-1;for(;++i<l;){const f=a[i];let m=n;if(i!==c){const g=t[f];m=Wt(g)||Array.isArray(g)?g:isNaN(+a[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;t[f]=m,t=t[f]}};const $w={BLUR:"blur",FOCUS_OUT:"focusout"},jr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Bi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VR=Et.createContext(null);VR.displayName="HookFormControlContext";const Rj=()=>Et.useContext(VR);var xj=(t,e,n,i=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==jr.all&&(e._proxyFormState[c]=!i||jr.all),t[c]}});return a};const PR=typeof window<"u"?Et.useLayoutEffect:Et.useEffect;var cr=t=>typeof t=="string",Qg=(t,e,n,i,a)=>cr(t)?(i&&e.watch.add(t),Ae(n,t,a)):Array.isArray(t)?t.map(l=>(i&&e.watch.add(l),Ae(n,l))):(i&&(e.watchAll=!0),n),Kg=t=>Wn(t)||!MR(t);function zr(t,e,n=new WeakSet){if(Kg(t)||Kg(e))return Object.is(t,e);if(Za(t)&&Za(e))return Object.is(t.getTime(),e.getTime());const i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of i){const c=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const f=e[l];if(Za(c)&&Za(f)||Wt(c)&&Wt(f)||Array.isArray(c)&&Array.isArray(f)?!zr(c,f,n):!Object.is(c,f))return!1}}return!0}function yf(t){const e=Rj(),{control:n=e,name:i,defaultValue:a,disabled:l,exact:c,compute:f}=t||{},m=Et.useRef(a),g=Et.useRef(f),v=Et.useRef(void 0),b=Et.useRef(n),T=Et.useRef(i);g.current=f;const[x,M]=Et.useState(()=>{const he=n._getWatch(i,m.current);return g.current?g.current(he):he}),P=Et.useCallback(he=>{const J=Qg(i,n._names,he||n._formValues,!1,m.current);return g.current?g.current(J):J},[n._formValues,n._names,i]),U=Et.useCallback(he=>{if(!l){const J=Qg(i,n._names,he||n._formValues,!1,m.current);if(g.current){const ve=g.current(J);zr(ve,v.current)||(M(ve),v.current=ve)}else M(J)}},[n._formValues,n._names,l,i]);PR(()=>((b.current!==n||!zr(T.current,i))&&(b.current=n,T.current=i,U()),n._subscribe({name:i,formState:{values:!0},exact:c,callback:he=>{U(he.values)}})),[n,c,i,U]),Et.useEffect(()=>n._removeUnmounted());const W=b.current!==n,Q=T.current,ne=Et.useMemo(()=>{if(l)return null;const he=!W&&!zr(Q,i);return W||he?P():null},[l,W,i,Q,P]);return ne!==null?ne:x}const Cj=Et.createContext(null);Cj.displayName="HookFormContext";var vv=(t,e,n,i,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[i]:a||!0}}:{},ec=t=>Array.isArray(t)?t:[t],Gw=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}};function jR(t,e){const n={};for(const i in t)if(t.hasOwnProperty(i)){const a=t[i],l=e[i];if(a&&Wt(a)&&l){const c=jR(a,l);Wt(c)&&(n[i]=c)}else t[i]&&(n[i]=l)}return n}var Fn=t=>Wt(t)&&!Object.keys(t).length,_v=t=>t.type==="file",td=t=>{if(!pv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zR=t=>t.type==="select-multiple",bv=t=>t.type==="radio",Ij=t=>bv(t)||Vc(t),hg=t=>td(t)&&t.isConnected;function Oj(t,e){const n=e.slice(0,-1).length;let i=0;for(;i<n;)t=Ot(t)?i++:t[e[i++]];return t}function Nj(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ot(t[e]))return!1;return!0}function Zt(t,e){const n=Array.isArray(e)?e:Vd(e)?[e]:yv(e),i=n.length===1?t:Oj(t,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Wt(i)&&Fn(i)||Array.isArray(i)&&Nj(i))&&Zt(t,n.slice(0,-1)),t}var Dj=t=>{for(const e in t)if(Pr(t[e]))return!0;return!1};function LR(t){return Array.isArray(t)||Wt(t)&&!Dj(t)}function Zg(t,e={}){for(const n in t){const i=t[n];LR(i)?(e[n]=Array.isArray(i)?[]:{},Zg(i,e[n])):Ot(i)||(e[n]=!0)}return e}function sl(t,e,n){n||(n=Zg(e));for(const i in t){const a=t[i];if(LR(a))Ot(e)||Kg(n[i])?n[i]=Zg(a,Array.isArray(a)?[]:{}):sl(a,Wn(e)?{}:e[i],n[i]);else{const l=e[i];n[i]=!zr(a,l)}}return n}const Qw={value:!1,isValid:!1},Kw={value:!0,isValid:!0};var UR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ot(t[0].attributes.value)?Ot(t[0].value)||t[0].value===""?Kw:{value:t[0].value,isValid:!0}:Kw:Qw}return Qw},FR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:i})=>Ot(t)?t:e?t===""?NaN:t&&+t:n&&cr(t)?new Date(t):i?i(t):t;const Zw={isValid:!1,value:null};var BR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Zw):Zw;function Yw(t){const e=t.ref;return _v(e)?e.files:bv(e)?BR(t.refs).value:zR(e)?[...e.selectedOptions].map(({value:n})=>n):Vc(e)?UR(t.refs).value:FR(Ot(e.value)?t.ref.value:e.value,t)}var kj=(t,e,n,i)=>{const a={};for(const l of t){const c=Ae(e,l);c&&_t(a,l,c._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:i}},nd=t=>t instanceof RegExp,Fu=t=>Ot(t)?t:nd(t)?t.source:Wt(t)?nd(t.value)?t.value.source:t.value:t,Xw=t=>({isOnSubmit:!t||t===jr.onSubmit,isOnBlur:t===jr.onBlur,isOnChange:t===jr.onChange,isOnAll:t===jr.all,isOnTouch:t===jr.onTouched});const Ww="AsyncFunction";var Mj=t=>!!t&&!!t.validate&&!!(Pr(t.validate)&&t.validate.constructor.name===Ww||Wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Ww)),Vj=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Jw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(i=>t.startsWith(i)&&/^\.\w+/.test(t.slice(i.length))));const tc=(t,e,n,i)=>{for(const a of n||Object.keys(t)){const l=Ae(t,a);if(l){const{_f:c,...f}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!i)return!0;if(c.ref&&e(c.ref,c.name)&&!i)return!0;if(tc(f,e))break}else if(Wt(f)&&tc(f,e))break}}};function eT(t,e,n){const i=Ae(t,n);if(i||Vd(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),c=Ae(e,l),f=Ae(t,l);if(c&&!Array.isArray(c)&&n!==l)return{name:n};if(f&&f.type)return{name:l,error:f};if(f&&f.root&&f.root.type)return{name:`${l}.root`,error:f.root};a.pop()}return{name:n}}var Pj=(t,e,n,i)=>{n(t);const{name:a,...l}=t;return Fn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!i||jr.all))},jj=(t,e,n)=>!t||!e||t===e||ec(t).some(i=>i&&(n?i===e:i.startsWith(e)||e.startsWith(i))),zj=(t,e,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?i.isOnBlur:a.isOnBlur)?!t:(n?i.isOnChange:a.isOnChange)?t:!0,Lj=(t,e)=>!gv(Ae(t,e)).length&&Zt(t,e),Uj=(t,e,n)=>{const i=ec(Ae(t,n));return _t(i,"root",e[n]),_t(t,n,i),t};function tT(t,e,n="validate"){if(cr(t)||Array.isArray(t)&&t.every(cr)||ai(t)&&!t)return{type:n,message:cr(t)?t:"",ref:e}}var tl=t=>Wt(t)&&!nd(t)?t:{value:t,message:""},nT=async(t,e,n,i,a,l)=>{const{ref:c,refs:f,required:m,maxLength:g,minLength:v,min:b,max:T,pattern:x,validate:M,name:P,valueAsNumber:U,mount:W}=t._f,Q=Ae(n,P);if(!W||e.has(P))return{};const ne=f?f[0]:c,he=D=>{a&&ne.reportValidity&&(ne.setCustomValidity(ai(D)?"":D||""),ne.reportValidity())},J={},ve=bv(c),N=Vc(c),A=ve||N,I=(U||_v(c))&&Ot(c.value)&&Ot(Q)||td(c)&&c.value===""||Q===""||Array.isArray(Q)&&!Q.length,O=vv.bind(null,P,i,J),z=(D,C,ke,Fe=Bi.maxLength,Z=Bi.minLength)=>{const fe=D?C:ke;J[P]={type:D?Fe:Z,message:fe,ref:c,...O(D?Fe:Z,fe)}};if(l?!Array.isArray(Q)||!Q.length:m&&(!A&&(I||Wn(Q))||ai(Q)&&!Q||N&&!UR(f).isValid||ve&&!BR(f).isValid)){const{value:D,message:C}=cr(m)?{value:!!m,message:m}:tl(m);if(D&&(J[P]={type:Bi.required,message:C,ref:ne,...O(Bi.required,C)},!i))return he(C),J}if(!I&&(!Wn(b)||!Wn(T))){let D,C;const ke=tl(T),Fe=tl(b);if(!Wn(Q)&&!isNaN(Q)){const Z=c.valueAsNumber||Q&&+Q;Wn(ke.value)||(D=Z>ke.value),Wn(Fe.value)||(C=Z<Fe.value)}else{const Z=c.valueAsDate||new Date(Q),fe=He=>new Date(new Date().toDateString()+" "+He),oe=c.type=="time",Be=c.type=="week";cr(ke.value)&&Q&&(D=oe?fe(Q)>fe(ke.value):Be?Q>ke.value:Z>new Date(ke.value)),cr(Fe.value)&&Q&&(C=oe?fe(Q)<fe(Fe.value):Be?Q<Fe.value:Z<new Date(Fe.value))}if((D||C)&&(z(!!D,ke.message,Fe.message,Bi.max,Bi.min),!i))return he(J[P].message),J}if((g||v)&&!I&&(cr(Q)||l&&Array.isArray(Q))){const D=tl(g),C=tl(v),ke=!Wn(D.value)&&Q.length>+D.value,Fe=!Wn(C.value)&&Q.length<+C.value;if((ke||Fe)&&(z(ke,D.message,C.message),!i))return he(J[P].message),J}if(x&&!I&&cr(Q)){const{value:D,message:C}=tl(x);if(nd(D)&&!Q.match(D)&&(J[P]={type:Bi.pattern,message:C,ref:c,...O(Bi.pattern,C)},!i))return he(C),J}if(M){if(Pr(M)){const D=await M(Q,n),C=tT(D,ne);if(C&&(J[P]={...C,...O(Bi.validate,C.message)},!i))return he(C.message),J}else if(Wt(M)){let D={};for(const C in M){if(!Fn(D)&&!i)break;const ke=tT(await M[C](Q,n),ne,C);ke&&(D={...ke,...O(C,ke.message)},he(ke.message),i&&(J[P]=D))}if(!Fn(D)&&(J[P]={ref:ne,...D},!i))return J}}return he(!0),J};const Fj={mode:jr.onSubmit,reValidateMode:jr.onChange,shouldFocusError:!0};function Bj(t={}){let e={...Fj,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},a=Wt(e.defaultValues)||Wt(e.values)?rn(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:rn(a),c={action:!1,mount:!1,watch:!1,keepIsValid:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...v};let T={...b};const x={array:Gw(),state:Gw()},M=e.criteriaMode===jr.all,P=V=>$=>{clearTimeout(g),g=setTimeout(V,$)},U=async V=>{if(!c.keepIsValid&&!e.disabled&&(b.isValid||T.isValid||V)){let $;e.resolver?($=Fn((await A()).errors),W()):$=await O(i,!0),$!==n.isValid&&x.state.next({isValid:$})}},W=(V,$)=>{!e.disabled&&(b.isValidating||b.validatingFields||T.isValidating||T.validatingFields)&&((V||Array.from(f.mount)).forEach(ee=>{ee&&($?_t(n.validatingFields,ee,$):Zt(n.validatingFields,ee))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Fn(n.validatingFields)}))},Q=(V,$=[],ee,me,pe=!0,ce=!0)=>{if(me&&ee&&!e.disabled){if(c.action=!0,ce&&Array.isArray(Ae(i,V))){const _e=ee(Ae(i,V),me.argA,me.argB);pe&&_t(i,V,_e)}if(ce&&Array.isArray(Ae(n.errors,V))){const _e=ee(Ae(n.errors,V),me.argA,me.argB);pe&&_t(n.errors,V,_e),Lj(n.errors,V)}if((b.touchedFields||T.touchedFields)&&ce&&Array.isArray(Ae(n.touchedFields,V))){const _e=ee(Ae(n.touchedFields,V),me.argA,me.argB);pe&&_t(n.touchedFields,V,_e)}(b.dirtyFields||T.dirtyFields)&&(n.dirtyFields=sl(a,l)),x.state.next({name:V,isDirty:D(V,$),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _t(l,V,$)},ne=(V,$)=>{_t(n.errors,V,$),x.state.next({errors:n.errors})},he=V=>{n.errors=V,x.state.next({errors:n.errors,isValid:!1})},J=(V,$,ee,me)=>{const pe=Ae(i,V);if(pe){const ce=Ae(l,V,Ot(ee)?Ae(a,V):ee);Ot(ce)||me&&me.defaultChecked||$?_t(l,V,$?ce:Yw(pe._f)):Fe(V,ce),c.mount&&!c.action&&U()}},ve=(V,$,ee,me,pe)=>{let ce=!1,_e=!1;const Ge={name:V};if(!e.disabled){if(!ee||me){(b.isDirty||T.isDirty)&&(_e=n.isDirty,n.isDirty=Ge.isDirty=D(),ce=_e!==Ge.isDirty);const nt=zr(Ae(a,V),$);_e=!!Ae(n.dirtyFields,V),nt?Zt(n.dirtyFields,V):_t(n.dirtyFields,V,!0),Ge.dirtyFields=n.dirtyFields,ce=ce||(b.dirtyFields||T.dirtyFields)&&_e!==!nt}if(ee){const nt=Ae(n.touchedFields,V);nt||(_t(n.touchedFields,V,ee),Ge.touchedFields=n.touchedFields,ce=ce||(b.touchedFields||T.touchedFields)&&nt!==ee)}ce&&pe&&x.state.next(Ge)}return ce?Ge:{}},N=(V,$,ee,me)=>{const pe=Ae(n.errors,V),ce=(b.isValid||T.isValid)&&ai($)&&n.isValid!==$;if(e.delayError&&ee?(m=P(()=>ne(V,ee)),m(e.delayError)):(clearTimeout(g),m=null,ee?_t(n.errors,V,ee):Zt(n.errors,V)),(ee?!zr(pe,ee):pe)||!Fn(me)||ce){const _e={...me,...ce&&ai($)?{isValid:$}:{},errors:n.errors,name:V};n={...n,..._e},x.state.next(_e)}},A=async V=>(W(V,!0),await e.resolver(l,e.context,kj(V||f.mount,i,e.criteriaMode,e.shouldUseNativeValidation))),I=async V=>{const{errors:$}=await A(V);if(W(V),V)for(const ee of V){const me=Ae($,ee);me?_t(n.errors,ee,me):Zt(n.errors,ee)}else n.errors=$;return $},O=async(V,$,ee={valid:!0})=>{for(const me in V){const pe=V[me];if(pe){const{_f:ce,..._e}=pe;if(ce){const Ge=f.array.has(ce.name),nt=pe._f&&Mj(pe._f);nt&&b.validatingFields&&W([ce.name],!0);const zt=await nT(pe,f.disabled,l,M,e.shouldUseNativeValidation&&!$,Ge);if(nt&&b.validatingFields&&W([ce.name]),zt[ce.name]&&(ee.valid=!1,$||t.shouldUseNativeValidation))break;!$&&(Ae(zt,ce.name)?Ge?Uj(n.errors,zt,ce.name):_t(n.errors,ce.name,zt[ce.name]):Zt(n.errors,ce.name))}!Fn(_e)&&await O(_e,$,ee)}}return ee.valid},z=()=>{for(const V of f.unMount){const $=Ae(i,V);$&&($._f.refs?$._f.refs.every(ee=>!hg(ee)):!hg($._f.ref))&&bt(V)}f.unMount=new Set},D=(V,$)=>!e.disabled&&(V&&$&&_t(l,V,$),!zr(j(),a)),C=(V,$,ee)=>Qg(V,f,{...c.mount?l:Ot($)?a:cr(V)?{[V]:$}:$},ee,$),ke=V=>gv(Ae(c.mount?l:a,V,e.shouldUnregister?Ae(a,V,[]):[])),Fe=(V,$,ee={})=>{const me=Ae(i,V);let pe=$;if(me){const ce=me._f;ce&&(!ce.disabled&&_t(l,V,FR($,ce)),pe=td(ce.ref)&&Wn($)?"":$,zR(ce.ref)?[...ce.ref.options].forEach(_e=>_e.selected=pe.includes(_e.value)):ce.refs?Vc(ce.ref)?ce.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(pe)?_e.checked=!!pe.find(Ge=>Ge===_e.value):_e.checked=pe===_e.value||!!pe)}):ce.refs.forEach(_e=>_e.checked=_e.value===pe):_v(ce.ref)?ce.ref.value="":(ce.ref.value=pe,ce.ref.type||x.state.next({name:V,values:rn(l)})))}(ee.shouldDirty||ee.shouldTouch)&&ve(V,pe,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&He(V)},Z=(V,$,ee)=>{for(const me in $){if(!$.hasOwnProperty(me))return;const pe=$[me],ce=V+"."+me,_e=Ae(i,ce);(f.array.has(V)||Wt(pe)||_e&&!_e._f)&&!Za(pe)?Z(ce,pe,ee):Fe(ce,pe,ee)}},fe=(V,$,ee={})=>{const me=Ae(i,V),pe=f.array.has(V),ce=rn($);_t(l,V,ce),pe?(x.array.next({name:V,values:rn(l)}),(b.isDirty||b.dirtyFields||T.isDirty||T.dirtyFields)&&ee.shouldDirty&&x.state.next({name:V,dirtyFields:sl(a,l),isDirty:D(V,ce)})):me&&!me._f&&!Wn(ce)?Z(V,ce,ee):Fe(V,ce,ee),Jw(V,f)?x.state.next({...n,name:V,values:rn(l)}):x.state.next({name:c.mount?V:void 0,values:rn(l)})},oe=async V=>{c.mount=!0;const $=V.target;let ee=$.name,me=!0;const pe=Ae(i,ee),ce=nt=>{me=Number.isNaN(nt)||Za(nt)&&isNaN(nt.getTime())||zr(nt,Ae(l,ee,nt))},_e=Xw(e.mode),Ge=Xw(e.reValidateMode);if(pe){let nt,zt;const Cr=$.type?Yw(pe._f):wj(V),xn=V.type===$w.BLUR||V.type===$w.FOCUS_OUT,Qr=!Vj(pe._f)&&!e.resolver&&!Ae(n.errors,ee)&&!pe._f.deps||zj(xn,Ae(n.touchedFields,ee),n.isSubmitted,Ge,_e),qt=Jw(ee,f,xn);_t(l,ee,Cr),xn?(!$||!$.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(V),m&&m(0)):pe._f.onChange&&pe._f.onChange(V);const Cn=ve(ee,Cr,xn),pn=!Fn(Cn)||qt;if(!xn&&x.state.next({name:ee,type:V.type,values:rn(l)}),Qr)return(b.isValid||T.isValid)&&(e.mode==="onBlur"?xn&&U():xn||U()),pn&&x.state.next({name:ee,...qt?{}:Cn});if(!xn&&qt&&x.state.next({...n}),e.resolver){const{errors:mo}=await A([ee]);if(W([ee]),ce(Cr),me){const pa=eT(n.errors,i,ee),ga=eT(mo,i,pa.name||ee);nt=ga.error,ee=ga.name,zt=Fn(mo)}}else W([ee],!0),nt=(await nT(pe,f.disabled,l,M,e.shouldUseNativeValidation))[ee],W([ee]),ce(Cr),me&&(nt?zt=!1:(b.isValid||T.isValid)&&(zt=await O(i,!0)));me&&(pe._f.deps&&(!Array.isArray(pe._f.deps)||pe._f.deps.length>0)&&He(pe._f.deps),N(ee,zt,nt,Cn))}},Be=(V,$)=>{if(Ae(n.errors,$)&&V.focus)return V.focus(),1},He=async(V,$={})=>{let ee,me;const pe=ec(V);if(e.resolver){const ce=await I(Ot(V)?V:pe);ee=Fn(ce),me=V?!pe.some(_e=>Ae(ce,_e)):ee}else V?(me=(await Promise.all(pe.map(async ce=>{const _e=Ae(i,ce);return await O(_e&&_e._f?{[ce]:_e}:_e)}))).every(Boolean),!(!me&&!n.isValid)&&U()):me=ee=await O(i);return x.state.next({...!cr(V)||(b.isValid||T.isValid)&&ee!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:ee}:{},errors:n.errors}),$.shouldFocus&&!me&&tc(i,Be,V?pe:f.mount),me},j=(V,$)=>{let ee={...c.mount?l:a};return $&&(ee=jR($.dirtyFields?n.dirtyFields:n.touchedFields,ee)),Ot(V)?ee:cr(V)?Ae(ee,V):V.map(me=>Ae(ee,me))},te=(V,$)=>({invalid:!!Ae(($||n).errors,V),isDirty:!!Ae(($||n).dirtyFields,V),error:Ae(($||n).errors,V),isValidating:!!Ae(n.validatingFields,V),isTouched:!!Ae(($||n).touchedFields,V)}),le=V=>{V&&ec(V).forEach($=>Zt(n.errors,$)),x.state.next({errors:V?n.errors:{}})},ye=(V,$,ee)=>{const me=(Ae(i,V,{_f:{}})._f||{}).ref,pe=Ae(n.errors,V)||{},{ref:ce,message:_e,type:Ge,...nt}=pe;_t(n.errors,V,{...nt,...$,ref:me}),x.state.next({name:V,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&me&&me.focus&&me.focus()},Ie=(V,$)=>Pr(V)?x.state.subscribe({next:ee=>"values"in ee&&V(C(void 0,$),ee)}):C(V,$,!0),Ve=V=>x.state.subscribe({next:$=>{jj(V.name,$.name,V.exact)&&Pj($,V.formState||b,fo,V.reRenderRoot)&&V.callback({values:{...l},...n,...$,defaultValues:a})}}).unsubscribe,Ce=V=>(c.mount=!0,T={...T,...V.formState},Ve({...V,formState:{...v,...V.formState}})),bt=(V,$={})=>{for(const ee of V?ec(V):f.mount)f.mount.delete(ee),f.array.delete(ee),$.keepValue||(Zt(i,ee),Zt(l,ee)),!$.keepError&&Zt(n.errors,ee),!$.keepDirty&&Zt(n.dirtyFields,ee),!$.keepTouched&&Zt(n.touchedFields,ee),!$.keepIsValidating&&Zt(n.validatingFields,ee),!e.shouldUnregister&&!$.keepDefaultValue&&Zt(a,ee);x.state.next({values:rn(l)}),x.state.next({...n,...$.keepDirty?{isDirty:D()}:{}}),!$.keepIsValid&&U()},Ee=({disabled:V,name:$})=>{if(ai(V)&&c.mount||V||f.disabled.has($)){const pe=f.disabled.has($)!==!!V;V?f.disabled.add($):f.disabled.delete($),pe&&c.mount&&!c.action&&U()}},jt=(V,$={})=>{let ee=Ae(i,V);const me=ai($.disabled)||ai(e.disabled);return _t(i,V,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:V}},name:V,mount:!0,...$}}),f.mount.add(V),ee?Ee({disabled:ai($.disabled)?$.disabled:e.disabled,name:V}):J(V,!0,$.value),{...me?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:Fu($.min),max:Fu($.max),minLength:Fu($.minLength),maxLength:Fu($.maxLength),pattern:Fu($.pattern)}:{},name:V,onChange:oe,onBlur:oe,ref:pe=>{if(pe){jt(V,$),ee=Ae(i,V);const ce=Ot(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,_e=Ij(ce),Ge=ee._f.refs||[];if(_e?Ge.find(nt=>nt===ce):ce===ee._f.ref)return;_t(i,V,{_f:{...ee._f,..._e?{refs:[...Ge.filter(hg),ce,...Array.isArray(Ae(a,V))?[{}]:[]],ref:{type:ce.type,name:V}}:{ref:ce}}}),J(V,!1,void 0,ce)}else ee=Ae(i,V,{}),ee._f&&(ee._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(Sj(f.array,V)&&c.action)&&f.unMount.add(V)}}},mn=()=>e.shouldFocusError&&tc(i,Be,f.mount),Hn=V=>{ai(V)&&(x.state.next({disabled:V}),tc(i,($,ee)=>{const me=Ae(i,ee);me&&($.disabled=me._f.disabled||V,Array.isArray(me._f.refs)&&me._f.refs.forEach(pe=>{pe.disabled=me._f.disabled||V}))},0,!1))},mi=(V,$)=>async ee=>{let me;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let pe=rn(l);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:_e}=await A();W(),n.errors=ce,pe=rn(_e)}else await O(i);if(f.disabled.size)for(const ce of f.disabled)Zt(pe,ce);if(Zt(n.errors,"root"),Fn(n.errors)){x.state.next({errors:{}});try{await V(pe,ee)}catch(ce){me=ce}}else $&&await $({...n.errors},ee),mn(),setTimeout(mn);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fn(n.errors)&&!me,submitCount:n.submitCount+1,errors:n.errors}),me)throw me},er=(V,$={})=>{Ae(i,V)&&(Ot($.defaultValue)?fe(V,rn(Ae(a,V))):(fe(V,$.defaultValue),_t(a,V,rn($.defaultValue))),$.keepTouched||Zt(n.touchedFields,V),$.keepDirty||(Zt(n.dirtyFields,V),n.isDirty=$.defaultValue?D(V,rn(Ae(a,V))):D()),$.keepError||(Zt(n.errors,V),b.isValid&&U()),x.state.next({...n}))},$r=(V,$={})=>{const ee=V?rn(V):a,me=rn(ee),pe=Fn(V),ce=pe?a:me;if($.keepDefaultValues||(a=ee),!$.keepValues){if($.keepDirtyValues){const _e=new Set([...f.mount,...Object.keys(sl(a,l))]);for(const Ge of Array.from(_e)){const nt=Ae(n.dirtyFields,Ge),zt=Ae(l,Ge),Cr=Ae(ce,Ge);nt&&!Ot(zt)?_t(ce,Ge,zt):!nt&&!Ot(Cr)&&fe(Ge,Cr)}}else{if(pv&&Ot(V))for(const _e of f.mount){const Ge=Ae(i,_e);if(Ge&&Ge._f){const nt=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(td(nt)){const zt=nt.closest("form");if(zt){zt.reset();break}}}}if($.keepFieldsRef)for(const _e of f.mount)fe(_e,Ae(ce,_e));else i={}}l=e.shouldUnregister?$.keepDefaultValues?rn(a):{}:rn(ce),x.array.next({values:{...ce}}),x.state.next({values:{...ce}})}f={mount:$.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!e.shouldUnregister&&!Fn(ce),c.watch=!!e.shouldUnregister,c.keepIsValid=!!$.keepIsValid,c.action=!1,$.keepErrors||(n.errors={}),x.state.next({submitCount:$.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:$.keepDirty?n.isDirty:!!($.keepDefaultValues&&!zr(V,a)),isSubmitted:$.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:$.keepDirtyValues?$.keepDefaultValues&&l?sl(a,l):n.dirtyFields:$.keepDefaultValues&&V?sl(a,V):$.keepDirty?n.dirtyFields:{},touchedFields:$.keepTouched?n.touchedFields:{},errors:$.keepErrors?n.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},pi=(V,$)=>$r(Pr(V)?V(l):V,{...e.resetOptions,...$}),jl=(V,$={})=>{const ee=Ae(i,V),me=ee&&ee._f;if(me){const pe=me.refs?me.refs[0]:me.ref;pe.focus&&setTimeout(()=>{pe.focus(),$.shouldSelect&&Pr(pe.select)&&pe.select()})}},fo=V=>{n={...n,...V}},Gr={control:{register:jt,unregister:bt,getFieldState:te,handleSubmit:mi,setError:ye,_subscribe:Ve,_runSchema:A,_updateIsValidating:W,_focusError:mn,_getWatch:C,_getDirty:D,_setValid:U,_setFieldArray:Q,_setDisabledField:Ee,_setErrors:he,_getFieldArray:ke,_reset:$r,_resetDefaultValues:()=>Pr(e.defaultValues)&&e.defaultValues().then(V=>{pi(V,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:Hn,_subjects:x,_proxyFormState:b,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(V){c=V},get _defaultValues(){return a},get _names(){return f},set _names(V){f=V},get _formState(){return n},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:Ce,trigger:He,register:jt,handleSubmit:mi,watch:Ie,setValue:fe,getValues:j,reset:pi,resetField:er,clearErrors:le,unregister:bt,setError:ye,setFocus:jl,getFieldState:te};return{...Gr,formControl:Gr}}function qR(t={}){const e=Et.useRef(void 0),n=Et.useRef(void 0),[i,a]=Et.useState({isDirty:!1,isValidating:!1,isLoading:Pr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:i},t.defaultValues&&!Pr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...f}=Bj(t);e.current={...f,formState:i}}const l=e.current.control;return l._options=t,PR(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(f=>({...f,isReady:!0})),l._formState.isReady=!0,c},[l]),Et.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),Et.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),Et.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),Et.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),Et.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Et.useEffect(()=>{var c;t.values&&!zr(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),!((c=l._options.resetOptions)===null||c===void 0)&&c.keepIsValid||l._setValid(),n.current=t.values,a(f=>({...f}))):l._resetDefaultValues()},[l,t.values]),Et.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Et.useMemo(()=>xj(i,l),[l,i]),e.current}const rT=(t,e,n)=>{if(t&&"reportValidity"in t){const i=Ae(n,e);t.setCustomValidity(i&&i.message||""),t.reportValidity()}},Yg=(t,e)=>{for(const n in e.fields){const i=e.fields[n];i&&i.ref&&"reportValidity"in i.ref?rT(i.ref,n,t):i&&i.refs&&i.refs.forEach(a=>rT(a,n,t))}},iT=(t,e)=>{e.shouldUseNativeValidation&&Yg(t,e);const n={};for(const i in t){const a=Ae(e.fields,i),l=Object.assign(t[i]||{},{ref:a&&a.ref});if(qj(e.names||Object.keys(t),i)){const c=Object.assign({},Ae(n,i));_t(c,"root",l),_t(n,i,c)}else _t(n,i,l)}return n},qj=(t,e)=>{const n=sT(e);return t.some(i=>sT(i).match(`^${n}\\.\\d+`))};function sT(t){return t.replace(/\]|\[/g,"")}function ue(t,e,n){function i(f,m){if(f._zod||Object.defineProperty(f,"_zod",{value:{def:m,constr:c,traits:new Set},enumerable:!1}),f._zod.traits.has(t))return;f._zod.traits.add(t),e(f,m);const g=c.prototype,v=Object.keys(g);for(let b=0;b<v.length;b++){const T=v[b];T in f||(f[T]=g[T].bind(f))}}const a=n?.Parent??Object;class l extends a{}Object.defineProperty(l,"name",{value:t});function c(f){var m;const g=n?.Parent?new l:this;i(g,f),(m=g._zod).deferred??(m.deferred=[]);for(const v of g._zod.deferred)v();return g}return Object.defineProperty(c,"init",{value:i}),Object.defineProperty(c,Symbol.hasInstance,{value:f=>n?.Parent&&f instanceof n.Parent?!0:f?._zod?.traits?.has(t)}),Object.defineProperty(c,"name",{value:t}),c}class dl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class HR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const $R={};function so(t){return $R}function GR(t){const e=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,a])=>e.indexOf(+i)===-1).map(([i,a])=>a)}function Xg(t,e){return typeof e=="bigint"?e.toString():e}function Ev(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function wv(t){return t==null}function Tv(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}const aT=Symbol("evaluating");function dt(t,e,n){let i;Object.defineProperty(t,e,{get(){if(i!==aT)return i===void 0&&(i=aT,i=n()),i},set(a){Object.defineProperty(t,e,{value:a})},configurable:!0})}function ho(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function fa(...t){const e={};for(const n of t){const i=Object.getOwnPropertyDescriptors(n);Object.assign(e,i)}return Object.defineProperties({},e)}function oT(t){return JSON.stringify(t)}function Hj(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const QR="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function rd(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const $j=Ev(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function gc(t){if(rd(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(rd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function KR(t){return gc(t)?{...t}:Array.isArray(t)?[...t]:t}const Gj=new Set(["string","number","symbol"]);function Pd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function da(t,e,n){const i=new t._zod.constr(e??t._zod.def);return(!e||n?.parent)&&(i._zod.parent=t),i}function Pe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Qj(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}function Kj(t,e){const n=t._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=fa(t._zod.def,{get shape(){const c={};for(const f in e){if(!(f in n.shape))throw new Error(`Unrecognized key: "${f}"`);e[f]&&(c[f]=n.shape[f])}return ho(this,"shape",c),c},checks:[]});return da(t,l)}function Zj(t,e){const n=t._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=fa(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const f in e){if(!(f in n.shape))throw new Error(`Unrecognized key: "${f}"`);e[f]&&delete c[f]}return ho(this,"shape",c),c},checks:[]});return da(t,l)}function Yj(t,e){if(!gc(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0){const l=t._zod.def.shape;for(const c in e)if(Object.getOwnPropertyDescriptor(l,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const a=fa(t._zod.def,{get shape(){const l={...t._zod.def.shape,...e};return ho(this,"shape",l),l}});return da(t,a)}function Xj(t,e){if(!gc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n=fa(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e};return ho(this,"shape",i),i}});return da(t,n)}function Wj(t,e){const n=fa(t._zod.def,{get shape(){const i={...t._zod.def.shape,...e._zod.def.shape};return ho(this,"shape",i),i},get catchall(){return e._zod.def.catchall},checks:[]});return da(t,n)}function Jj(t,e,n){const a=e._zod.def.checks;if(a&&a.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=fa(e._zod.def,{get shape(){const f=e._zod.def.shape,m={...f};if(n)for(const g in n){if(!(g in f))throw new Error(`Unrecognized key: "${g}"`);n[g]&&(m[g]=t?new t({type:"optional",innerType:f[g]}):f[g])}else for(const g in f)m[g]=t?new t({type:"optional",innerType:f[g]}):f[g];return ho(this,"shape",m),m},checks:[]});return da(e,c)}function ez(t,e,n){const i=fa(e._zod.def,{get shape(){const a=e._zod.def.shape,l={...a};if(n)for(const c in n){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);n[c]&&(l[c]=new t({type:"nonoptional",innerType:a[c]}))}else for(const c in a)l[c]=new t({type:"nonoptional",innerType:a[c]});return ho(this,"shape",l),l}});return da(e,i)}function ol(t,e=0){if(t.aborted===!0)return!0;for(let n=e;n<t.issues.length;n++)if(t.issues[n]?.continue!==!0)return!0;return!1}function ZR(t,e){return e.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(t),n})}function vf(t){return typeof t=="string"?t:t?.message}function ao(t,e,n){const i={...t,path:t.path??[]};if(!t.message){const a=vf(t.inst?._zod.def?.error?.(t))??vf(e?.error?.(t))??vf(n.customError?.(t))??vf(n.localeError?.(t))??"Invalid input";i.message=a}return delete i.inst,delete i.continue,e?.reportInput||delete i.input,i}function Sv(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function yc(...t){const[e,n,i]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:i}:{...e}}const YR=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Xg,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Av=ue("$ZodError",YR),jd=ue("$ZodError",YR,{Parent:Error});function tz(t,e=n=>n.message){const n={},i=[];for(const a of t.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:n}}function nz(t,e=n=>n.message){const n={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>i({issues:c}));else if(l.code==="invalid_key")i({issues:l.issues});else if(l.code==="invalid_element")i({issues:l.issues});else if(l.path.length===0)n._errors.push(e(l));else{let c=n,f=0;for(;f<l.path.length;){const m=l.path[f];f===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(e(l))):c[m]=c[m]||{_errors:[]},c=c[m],f++}}};return i(t),n}const zd=t=>(e,n,i,a)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise)throw new dl;if(c.issues.length){const f=new(a?.Err??t)(c.issues.map(m=>ao(m,l,so())));throw QR(f,a?.callee),f}return c.value},rz=zd(jd),Ld=t=>async(e,n,i,a)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let c=e._zod.run({value:n,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const f=new(a?.Err??t)(c.issues.map(m=>ao(m,l,so())));throw QR(f,a?.callee),f}return c.value},iz=Ld(jd),Ud=t=>(e,n,i)=>{const a=i?{...i,async:!1}:{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new dl;return l.issues.length?{success:!1,error:new(t??Av)(l.issues.map(c=>ao(c,a,so())))}:{success:!0,data:l.value}},sz=Ud(jd),Fd=t=>async(e,n,i)=>{const a=i?Object.assign(i,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>ao(c,a,so())))}:{success:!0,data:l.value}},az=Fd(jd),oz=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return zd(t)(e,n,a)},lz=t=>(e,n,i)=>zd(t)(e,n,i),uz=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ld(t)(e,n,a)},cz=t=>async(e,n,i)=>Ld(t)(e,n,i),hz=t=>(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ud(t)(e,n,a)},fz=t=>(e,n,i)=>Ud(t)(e,n,i),dz=t=>async(e,n,i)=>{const a=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Fd(t)(e,n,a)},mz=t=>async(e,n,i)=>Fd(t)(e,n,i),pz=/^[cC][^\s-]{8,}$/,gz=/^[0-9a-z]+$/,yz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,vz=/^[0-9a-vA-V]{20}$/,_z=/^[A-Za-z0-9]{27}$/,bz=/^[a-zA-Z0-9_-]{21}$/,Ez=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,wz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,lT=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Tz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Sz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Az(){return new RegExp(Sz,"u")}const Rz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Cz=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Iz=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Oz=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,XR=/^[A-Za-z0-9_-]*$/,Nz=/^\+[1-9]\d{6,14}$/,WR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Dz=new RegExp(`^${WR}$`);function JR(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kz(t){return new RegExp(`^${JR(t)}$`)}function Mz(t){const e=JR({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${e}(?:${n.join("|")})`;return new RegExp(`^${WR}T(?:${i})$`)}const Vz=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Pz=/^(?:true|false)$/i,jz=/^[^A-Z]*$/,zz=/^[^a-z]*$/,di=ue("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),Lz=ue("$ZodCheckMaxLength",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!wv(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<a&&(i._zod.bag.maximum=e.maximum)}),t._zod.check=i=>{const a=i.value;if(a.length<=e.maximum)return;const c=Sv(a);i.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Uz=ue("$ZodCheckMinLength",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!wv(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>a&&(i._zod.bag.minimum=e.minimum)}),t._zod.check=i=>{const a=i.value;if(a.length>=e.minimum)return;const c=Sv(a);i.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:a,inst:t,continue:!e.abort})}}),Fz=ue("$ZodCheckLengthEquals",(t,e)=>{var n;di.init(t,e),(n=t._zod.def).when??(n.when=i=>{const a=i.value;return!wv(a)&&a.length!==void 0}),t._zod.onattach.push(i=>{const a=i._zod.bag;a.minimum=e.length,a.maximum=e.length,a.length=e.length}),t._zod.check=i=>{const a=i.value,l=a.length;if(l===e.length)return;const c=Sv(a),f=l>e.length;i.issues.push({origin:c,...f?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!e.abort})}}),Bd=ue("$ZodCheckStringFormat",(t,e)=>{var n,i;di.init(t,e),t._zod.onattach.push(a=>{const l=a._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:e.format,input:a.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(i=t._zod).check??(i.check=()=>{})}),Bz=ue("$ZodCheckRegex",(t,e)=>{Bd.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),qz=ue("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=jz),Bd.init(t,e)}),Hz=ue("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=zz),Bd.init(t,e)}),$z=ue("$ZodCheckIncludes",(t,e)=>{di.init(t,e);const n=Pd(e.includes),i=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=i,t._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(i)}),t._zod.check=a=>{a.value.includes(e.includes,e.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:a.value,inst:t,continue:!e.abort})}}),Gz=ue("$ZodCheckStartsWith",(t,e)=>{di.init(t,e);const n=new RegExp(`^${Pd(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.startsWith(e.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:i.value,inst:t,continue:!e.abort})}}),Qz=ue("$ZodCheckEndsWith",(t,e)=>{di.init(t,e);const n=new RegExp(`.*${Pd(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),t._zod.check=i=>{i.value.endsWith(e.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:i.value,inst:t,continue:!e.abort})}}),Kz=ue("$ZodCheckOverwrite",(t,e)=>{di.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class Zz{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const i=e.split(`
`).filter(c=>c),a=Math.min(...i.map(c=>c.length-c.trimStart().length)),l=i.map(c=>c.slice(a)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,n=this?.args,a=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...n,a.join(`
`))}}const Yz={major:4,minor:3,patch:6},Jt=ue("$ZodType",(t,e)=>{var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Yz;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const a of i)for(const l of a._zod.onattach)l(t);if(i.length===0)(n=t._zod).deferred??(n.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,f,m)=>{let g=ol(c),v;for(const b of f){if(b._zod.def.when){if(!b._zod.def.when(c))continue}else if(g)continue;const T=c.issues.length,x=b._zod.check(c);if(x instanceof Promise&&m?.async===!1)throw new dl;if(v||x instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await x,c.issues.length!==T&&(g||(g=ol(c,T)))});else{if(c.issues.length===T)continue;g||(g=ol(c,T))}}return v?v.then(()=>c):c},l=(c,f,m)=>{if(ol(c))return c.aborted=!0,c;const g=a(f,i,m);if(g instanceof Promise){if(m.async===!1)throw new dl;return g.then(v=>t._zod.parse(v,m))}return t._zod.parse(g,m)};t._zod.run=(c,f)=>{if(f.skipChecks)return t._zod.parse(c,f);if(f.direction==="backward"){const g=t._zod.parse({value:c.value,issues:[]},{...f,skipChecks:!0});return g instanceof Promise?g.then(v=>l(v,c,f)):l(g,c,f)}const m=t._zod.parse(c,f);if(m instanceof Promise){if(f.async===!1)throw new dl;return m.then(g=>a(g,i,f))}return a(m,i,f)}}dt(t,"~standard",()=>({validate:a=>{try{const l=sz(t,a);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return az(t,a).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}))}),Rv=ue("$ZodString",(t,e)=>{Jt.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??Vz(t._zod.bag),t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:t}),n}}),It=ue("$ZodStringFormat",(t,e)=>{Bd.init(t,e),Rv.init(t,e)}),Xz=ue("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=wz),It.init(t,e)}),Wz=ue("$ZodUUID",(t,e)=>{if(e.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(i===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=lT(i))}else e.pattern??(e.pattern=lT());It.init(t,e)}),Jz=ue("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Tz),It.init(t,e)}),e4=ue("$ZodURL",(t,e)=>{It.init(t,e),t._zod.check=n=>{try{const i=n.value.trim(),a=new URL(i);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=a.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),t4=ue("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Az()),It.init(t,e)}),n4=ue("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=bz),It.init(t,e)}),r4=ue("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=pz),It.init(t,e)}),i4=ue("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=gz),It.init(t,e)}),s4=ue("$ZodULID",(t,e)=>{e.pattern??(e.pattern=yz),It.init(t,e)}),a4=ue("$ZodXID",(t,e)=>{e.pattern??(e.pattern=vz),It.init(t,e)}),o4=ue("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=_z),It.init(t,e)}),l4=ue("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=Mz(e)),It.init(t,e)}),u4=ue("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=Dz),It.init(t,e)}),c4=ue("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=kz(e)),It.init(t,e)}),h4=ue("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Ez),It.init(t,e)}),f4=ue("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Rz),It.init(t,e),t._zod.bag.format="ipv4"}),d4=ue("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=xz),It.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),m4=ue("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=Cz),It.init(t,e)}),p4=ue("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=Iz),It.init(t,e),t._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[a,l]=i;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${a}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ex(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const g4=ue("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=Oz),It.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{ex(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function y4(t){if(!XR.test(t))return!1;const e=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ex(n)}const v4=ue("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=XR),It.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{y4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),_4=ue("$ZodE164",(t,e)=>{e.pattern??(e.pattern=Nz),It.init(t,e)});function b4(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const a=JSON.parse(atob(i));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||e&&(!("alg"in a)||a.alg!==e))}catch{return!1}}const E4=ue("$ZodJWT",(t,e)=>{It.init(t,e),t._zod.check=n=>{b4(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),w4=ue("$ZodBoolean",(t,e)=>{Jt.init(t,e),t._zod.pattern=Pz,t._zod.parse=(n,i)=>{if(e.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:t}),n}}),T4=ue("$ZodUnknown",(t,e)=>{Jt.init(t,e),t._zod.parse=n=>n}),S4=ue("$ZodNever",(t,e)=>{Jt.init(t,e),t._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function uT(t,e,n){t.issues.length&&e.issues.push(...ZR(n,t.issues)),e.value[n]=t.value}const A4=ue("$ZodArray",(t,e)=>{Jt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:t}),n;n.value=Array(a.length);const l=[];for(let c=0;c<a.length;c++){const f=a[c],m=e.element._zod.run({value:f,issues:[]},i);m instanceof Promise?l.push(m.then(g=>uT(g,n,c))):uT(m,n,c)}return l.length?Promise.all(l).then(()=>n):n}});function id(t,e,n,i,a){if(t.issues.length){if(a&&!(n in i))return;e.issues.push(...ZR(n,t.issues))}t.value===void 0?n in i&&(e.value[n]=void 0):e.value[n]=t.value}function tx(t){const e=Object.keys(t.shape);for(const i of e)if(!t.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=Qj(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function nx(t,e,n,i,a,l){const c=[],f=a.keySet,m=a.catchall._zod,g=m.def.type,v=m.optout==="optional";for(const b in e){if(f.has(b))continue;if(g==="never"){c.push(b);continue}const T=m.run({value:e[b],issues:[]},i);T instanceof Promise?t.push(T.then(x=>id(x,n,b,e,v))):id(T,n,b,e,v)}return c.length&&n.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:l}),t.length?Promise.all(t).then(()=>n):n}const R4=ue("$ZodObject",(t,e)=>{if(Jt.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const f=e.shape;Object.defineProperty(e,"shape",{get:()=>{const m={...f};return Object.defineProperty(e,"shape",{value:m}),m}})}const i=Ev(()=>tx(e));dt(t._zod,"propValues",()=>{const f=e.shape,m={};for(const g in f){const v=f[g]._zod;if(v.values){m[g]??(m[g]=new Set);for(const b of v.values)m[g].add(b)}}return m});const a=rd,l=e.catchall;let c;t._zod.parse=(f,m)=>{c??(c=i.value);const g=f.value;if(!a(g))return f.issues.push({expected:"object",code:"invalid_type",input:g,inst:t}),f;f.value={};const v=[],b=c.shape;for(const T of c.keys){const x=b[T],M=x._zod.optout==="optional",P=x._zod.run({value:g[T],issues:[]},m);P instanceof Promise?v.push(P.then(U=>id(U,f,T,g,M))):id(P,f,T,g,M)}return l?nx(v,g,f,m,i.value,t):v.length?Promise.all(v).then(()=>f):f}}),x4=ue("$ZodObjectJIT",(t,e)=>{R4.init(t,e);const n=t._zod.parse,i=Ev(()=>tx(e)),a=T=>{const x=new Zz(["shape","payload","ctx"]),M=i.value,P=ne=>{const he=oT(ne);return`shape[${he}]._zod.run({ value: input[${he}], issues: [] }, ctx)`};x.write("const input = payload.value;");const U=Object.create(null);let W=0;for(const ne of M.keys)U[ne]=`key_${W++}`;x.write("const newResult = {};");for(const ne of M.keys){const he=U[ne],J=oT(ne),N=T[ne]?._zod?.optout==="optional";x.write(`const ${he} = ${P(ne)};`),N?x.write(`
        if (${he}.issues.length) {
          if (${J} in input) {
            payload.issues = payload.issues.concat(${he}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${J}, ...iss.path] : [${J}]
            })));
          }
        }
        
        if (${he}.value === undefined) {
          if (${J} in input) {
            newResult[${J}] = undefined;
          }
        } else {
          newResult[${J}] = ${he}.value;
        }
        
      `):x.write(`
        if (${he}.issues.length) {
          payload.issues = payload.issues.concat(${he}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${J}, ...iss.path] : [${J}]
          })));
        }
        
        if (${he}.value === undefined) {
          if (${J} in input) {
            newResult[${J}] = undefined;
          }
        } else {
          newResult[${J}] = ${he}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const Q=x.compile();return(ne,he)=>Q(T,ne,he)};let l;const c=rd,f=!$R.jitless,g=f&&$j.value,v=e.catchall;let b;t._zod.parse=(T,x)=>{b??(b=i.value);const M=T.value;return c(M)?f&&g&&x?.async===!1&&x.jitless!==!0?(l||(l=a(e.shape)),T=l(T,x),v?nx([],M,T,x,b,t):T):n(T,x):(T.issues.push({expected:"object",code:"invalid_type",input:M,inst:t}),T)}});function cT(t,e,n,i){for(const l of t)if(l.issues.length===0)return e.value=l.value,e;const a=t.filter(l=>!ol(l));return a.length===1?(e.value=a[0].value,a[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(l=>l.issues.map(c=>ao(c,i,so())))}),e)}const C4=ue("$ZodUnion",(t,e)=>{Jt.init(t,e),dt(t._zod,"optin",()=>e.options.some(a=>a._zod.optin==="optional")?"optional":void 0),dt(t._zod,"optout",()=>e.options.some(a=>a._zod.optout==="optional")?"optional":void 0),dt(t._zod,"values",()=>{if(e.options.every(a=>a._zod.values))return new Set(e.options.flatMap(a=>Array.from(a._zod.values)))}),dt(t._zod,"pattern",()=>{if(e.options.every(a=>a._zod.pattern)){const a=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${a.map(l=>Tv(l.source)).join("|")})$`)}});const n=e.options.length===1,i=e.options[0]._zod.run;t._zod.parse=(a,l)=>{if(n)return i(a,l);let c=!1;const f=[];for(const m of e.options){const g=m._zod.run({value:a.value,issues:[]},l);if(g instanceof Promise)f.push(g),c=!0;else{if(g.issues.length===0)return g;f.push(g)}}return c?Promise.all(f).then(m=>cT(m,a,t,l)):cT(f,a,t,l)}}),I4=ue("$ZodIntersection",(t,e)=>{Jt.init(t,e),t._zod.parse=(n,i)=>{const a=n.value,l=e.left._zod.run({value:a,issues:[]},i),c=e.right._zod.run({value:a,issues:[]},i);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([m,g])=>hT(n,m,g)):hT(n,l,c)}});function Wg(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(gc(t)&&gc(e)){const n=Object.keys(e),i=Object.keys(t).filter(l=>n.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Wg(t[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};a[l]=c.data}return{valid:!0,data:a}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Wg(a,l);if(!c.valid)return{valid:!1,mergeErrorPath:[i,...c.mergeErrorPath]};n.push(c.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function hT(t,e,n){const i=new Map;let a;for(const f of e.issues)if(f.code==="unrecognized_keys"){a??(a=f);for(const m of f.keys)i.has(m)||i.set(m,{}),i.get(m).l=!0}else t.issues.push(f);for(const f of n.issues)if(f.code==="unrecognized_keys")for(const m of f.keys)i.has(m)||i.set(m,{}),i.get(m).r=!0;else t.issues.push(f);const l=[...i].filter(([,f])=>f.l&&f.r).map(([f])=>f);if(l.length&&a&&t.issues.push({...a,keys:l}),ol(t))return t;const c=Wg(e.value,n.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const O4=ue("$ZodEnum",(t,e)=>{Jt.init(t,e);const n=GR(e.entries),i=new Set(n);t._zod.values=i,t._zod.pattern=new RegExp(`^(${n.filter(a=>Gj.has(typeof a)).map(a=>typeof a=="string"?Pd(a):a.toString()).join("|")})$`),t._zod.parse=(a,l)=>{const c=a.value;return i.has(c)||a.issues.push({code:"invalid_value",values:n,input:c,inst:t}),a}}),N4=ue("$ZodTransform",(t,e)=>{Jt.init(t,e),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new HR(t.constructor.name);const a=e.transform(n.value,n);if(i.async)return(a instanceof Promise?a:Promise.resolve(a)).then(c=>(n.value=c,n));if(a instanceof Promise)throw new dl;return n.value=a,n}});function fT(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const rx=ue("$ZodOptional",(t,e)=>{Jt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",dt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),dt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Tv(n.source)})?$`):void 0}),t._zod.parse=(n,i)=>{if(e.innerType._zod.optin==="optional"){const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>fT(l,n.value)):fT(a,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,i)}}),D4=ue("$ZodExactOptional",(t,e)=>{rx.init(t,e),dt(t._zod,"values",()=>e.innerType._zod.values),dt(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(n,i)=>e.innerType._zod.run(n,i)}),k4=ue("$ZodNullable",(t,e)=>{Jt.init(t,e),dt(t._zod,"optin",()=>e.innerType._zod.optin),dt(t._zod,"optout",()=>e.innerType._zod.optout),dt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${Tv(n.source)}|null)$`):void 0}),dt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,i)=>n.value===null?n:e.innerType._zod.run(n,i)}),M4=ue("$ZodDefault",(t,e)=>{Jt.init(t,e),t._zod.optin="optional",dt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);if(n.value===void 0)return n.value=e.defaultValue,n;const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>dT(l,e)):dT(a,e)}});function dT(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const V4=ue("$ZodPrefault",(t,e)=>{Jt.init(t,e),t._zod.optin="optional",dt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,i))}),P4=ue("$ZodNonOptional",(t,e)=>{Jt.init(t,e),dt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),t._zod.parse=(n,i)=>{const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>mT(l,t)):mT(a,t)}});function mT(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const j4=ue("$ZodCatch",(t,e)=>{Jt.init(t,e),dt(t._zod,"optin",()=>e.innerType._zod.optin),dt(t._zod,"optout",()=>e.innerType._zod.optout),dt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(l=>(n.value=l.value,l.issues.length&&(n.value=e.catchValue({...n,error:{issues:l.issues.map(c=>ao(c,i,so()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>ao(l,i,so()))},input:n.value}),n.issues=[]),n)}}),z4=ue("$ZodPipe",(t,e)=>{Jt.init(t,e),dt(t._zod,"values",()=>e.in._zod.values),dt(t._zod,"optin",()=>e.in._zod.optin),dt(t._zod,"optout",()=>e.out._zod.optout),dt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,i)=>{if(i.direction==="backward"){const l=e.out._zod.run(n,i);return l instanceof Promise?l.then(c=>_f(c,e.in,i)):_f(l,e.in,i)}const a=e.in._zod.run(n,i);return a instanceof Promise?a.then(l=>_f(l,e.out,i)):_f(a,e.out,i)}});function _f(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const L4=ue("$ZodReadonly",(t,e)=>{Jt.init(t,e),dt(t._zod,"propValues",()=>e.innerType._zod.propValues),dt(t._zod,"values",()=>e.innerType._zod.values),dt(t._zod,"optin",()=>e.innerType?._zod?.optin),dt(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(n,i)=>{if(i.direction==="backward")return e.innerType._zod.run(n,i);const a=e.innerType._zod.run(n,i);return a instanceof Promise?a.then(pT):pT(a)}});function pT(t){return t.value=Object.freeze(t.value),t}const U4=ue("$ZodCustom",(t,e)=>{di.init(t,e),Jt.init(t,e),t._zod.parse=(n,i)=>n,t._zod.check=n=>{const i=n.value,a=e.fn(i);if(a instanceof Promise)return a.then(l=>gT(l,n,i,t));gT(a,n,i,t)}});function gT(t,e,n,i){if(!t){const a={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(a.params=i._zod.def.params),e.issues.push(yc(a))}}var yT;class F4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const i=n[0];return this._map.set(e,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const a={...i,...this._map.get(e)};return Object.keys(a).length?a:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function B4(){return new F4}(yT=globalThis).__zod_globalRegistry??(yT.__zod_globalRegistry=B4());const Ku=globalThis.__zod_globalRegistry;function q4(t,e){return new t({type:"string",...Pe(e)})}function H4(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Pe(e)})}function vT(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Pe(e)})}function $4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Pe(e)})}function G4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Pe(e)})}function Q4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Pe(e)})}function K4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Pe(e)})}function Z4(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Pe(e)})}function Y4(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Pe(e)})}function X4(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Pe(e)})}function W4(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Pe(e)})}function J4(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Pe(e)})}function eL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Pe(e)})}function tL(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Pe(e)})}function nL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Pe(e)})}function rL(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Pe(e)})}function iL(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Pe(e)})}function sL(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Pe(e)})}function aL(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Pe(e)})}function oL(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Pe(e)})}function lL(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Pe(e)})}function uL(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Pe(e)})}function cL(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Pe(e)})}function hL(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Pe(e)})}function fL(t,e){return new t({type:"string",format:"date",check:"string_format",...Pe(e)})}function dL(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Pe(e)})}function mL(t,e){return new t({type:"string",format:"duration",check:"string_format",...Pe(e)})}function pL(t,e){return new t({type:"boolean",...Pe(e)})}function gL(t){return new t({type:"unknown"})}function yL(t,e){return new t({type:"never",...Pe(e)})}function ix(t,e){return new Lz({check:"max_length",...Pe(e),maximum:t})}function sd(t,e){return new Uz({check:"min_length",...Pe(e),minimum:t})}function sx(t,e){return new Fz({check:"length_equals",...Pe(e),length:t})}function vL(t,e){return new Bz({check:"string_format",format:"regex",...Pe(e),pattern:t})}function _L(t){return new qz({check:"string_format",format:"lowercase",...Pe(t)})}function bL(t){return new Hz({check:"string_format",format:"uppercase",...Pe(t)})}function EL(t,e){return new $z({check:"string_format",format:"includes",...Pe(e),includes:t})}function wL(t,e){return new Gz({check:"string_format",format:"starts_with",...Pe(e),prefix:t})}function TL(t,e){return new Qz({check:"string_format",format:"ends_with",...Pe(e),suffix:t})}function Pl(t){return new Kz({check:"overwrite",tx:t})}function SL(t){return Pl(e=>e.normalize(t))}function AL(){return Pl(t=>t.trim())}function RL(){return Pl(t=>t.toLowerCase())}function xL(){return Pl(t=>t.toUpperCase())}function CL(){return Pl(t=>Hj(t))}function IL(t,e,n){return new t({type:"array",element:e,...Pe(n)})}function OL(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Pe(n)})}function NL(t){const e=DL(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(yc(i,n.value,e._zod.def));else{const a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),a.continue??(a.continue=!e._zod.def.abort),n.issues.push(yc(a))}},t(n.value,n)));return e}function DL(t,e){const n=new di({check:"custom",...Pe(e)});return n._zod.check=t,n}function ax(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Ku,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Rn(t,e,n={path:[],schemaPath:[]}){var i;const a=t._zod.def,l=e.seen.get(t);if(l)return l.count++,n.schemaPath.includes(t)&&(l.cycle=n.path),l.schema;const c={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,c);const f=t._zod.toJSONSchema?.();if(f)c.schema=f;else{const v={...n,schemaPath:[...n.schemaPath,t],path:n.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,c.schema,v);else{const T=c.schema,x=e.processors[a.type];if(!x)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${a.type}`);x(t,e,T,v)}const b=t._zod.parent;b&&(c.ref||(c.ref=b),Rn(b,e,v),e.seen.get(b).isParent=!0)}const m=e.metadataRegistry.get(t);return m&&Object.assign(c.schema,m),e.io==="input"&&Un(t)&&(delete c.schema.examples,delete c.schema.default),e.io==="input"&&c.schema._prefault&&((i=c.schema).default??(i.default=c.schema._prefault)),delete c.schema._prefault,e.seen.get(t).schema}function ox(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const c of t.seen.entries()){const f=t.metadataRegistry.get(c[0])?.id;if(f){const m=i.get(f);if(m&&m!==c[0])throw new Error(`Duplicate schema id "${f}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(f,c[0])}}const a=c=>{const f=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const b=t.external.registry.get(c[0])?.id,T=t.external.uri??(M=>M);if(b)return{ref:T(b)};const x=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=x,{defId:x,ref:`${T("__shared")}#/${f}/${x}`}}if(c[1]===n)return{ref:"#"};const g=`#/${f}/`,v=c[1].schema.id??`__schema${t.counter++}`;return{defId:v,ref:g+v}},l=c=>{if(c[1].schema.$ref)return;const f=c[1],{ref:m,defId:g}=a(c);f.def={...f.schema},g&&(f.defId=g);const v=f.schema;for(const b in v)delete v[b];v.$ref=m};if(t.cycles==="throw")for(const c of t.seen.entries()){const f=c[1];if(f.cycle)throw new Error(`Cycle detected: #/${f.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const f=c[1];if(e===c[0]){l(c);continue}if(t.external){const g=t.external.registry.get(c[0])?.id;if(e!==c[0]&&g){l(c);continue}}if(t.metadataRegistry.get(c[0])?.id){l(c);continue}if(f.cycle){l(c);continue}if(f.count>1&&t.reused==="ref"){l(c);continue}}}function lx(t,e){const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=c=>{const f=t.seen.get(c);if(f.ref===null)return;const m=f.def??f.schema,g={...m},v=f.ref;if(f.ref=null,v){i(v);const T=t.seen.get(v),x=T.schema;if(x.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(x)):Object.assign(m,x),Object.assign(m,g),c._zod.parent===v)for(const P in m)P==="$ref"||P==="allOf"||P in g||delete m[P];if(x.$ref&&T.def)for(const P in m)P==="$ref"||P==="allOf"||P in T.def&&JSON.stringify(m[P])===JSON.stringify(T.def[P])&&delete m[P]}const b=c._zod.parent;if(b&&b!==v){i(b);const T=t.seen.get(b);if(T?.schema.$ref&&(m.$ref=T.schema.$ref,T.def))for(const x in m)x==="$ref"||x==="allOf"||x in T.def&&JSON.stringify(m[x])===JSON.stringify(T.def[x])&&delete m[x]}t.override({zodSchema:c,jsonSchema:m,path:f.path??[]})};for(const c of[...t.seen.entries()].reverse())i(c[0]);const a={};if(t.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?a.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?a.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const c=t.external.registry.get(e)?.id;if(!c)throw new Error("Schema is missing an `id` property");a.$id=t.external.uri(c)}Object.assign(a,n.def??n.schema);const l=t.external?.defs??{};for(const c of t.seen.entries()){const f=c[1];f.def&&f.defId&&(l[f.defId]=f.def)}t.external||Object.keys(l).length>0&&(t.target==="draft-2020-12"?a.$defs=l:a.definitions=l);try{const c=JSON.parse(JSON.stringify(a));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:ad(e,"input",t.processors),output:ad(e,"output",t.processors)}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function Un(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const i=t._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Un(i.element,n);if(i.type==="set")return Un(i.valueType,n);if(i.type==="lazy")return Un(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Un(i.innerType,n);if(i.type==="intersection")return Un(i.left,n)||Un(i.right,n);if(i.type==="record"||i.type==="map")return Un(i.keyType,n)||Un(i.valueType,n);if(i.type==="pipe")return Un(i.in,n)||Un(i.out,n);if(i.type==="object"){for(const a in i.shape)if(Un(i.shape[a],n))return!0;return!1}if(i.type==="union"){for(const a of i.options)if(Un(a,n))return!0;return!1}if(i.type==="tuple"){for(const a of i.items)if(Un(a,n))return!0;return!!(i.rest&&Un(i.rest,n))}return!1}const kL=(t,e={})=>n=>{const i=ax({...n,processors:e});return Rn(t,i),ox(i,t),lx(i,t)},ad=(t,e,n={})=>i=>{const{libraryOptions:a,target:l}=i??{},c=ax({...a??{},target:l,io:e,processors:n});return Rn(t,c),ox(c,t),lx(c,t)},ML={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},VL=(t,e,n,i)=>{const a=n;a.type="string";const{minimum:l,maximum:c,format:f,patterns:m,contentEncoding:g}=t._zod.bag;if(typeof l=="number"&&(a.minLength=l),typeof c=="number"&&(a.maxLength=c),f&&(a.format=ML[f]??f,a.format===""&&delete a.format,f==="time"&&delete a.format),g&&(a.contentEncoding=g),m&&m.size>0){const v=[...m];v.length===1?a.pattern=v[0].source:v.length>1&&(a.allOf=[...v.map(b=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:b.source}))])}},PL=(t,e,n,i)=>{n.type="boolean"},jL=(t,e,n,i)=>{n.not={}},zL=(t,e,n,i)=>{},LL=(t,e,n,i)=>{const a=t._zod.def,l=GR(a.entries);l.every(c=>typeof c=="number")&&(n.type="number"),l.every(c=>typeof c=="string")&&(n.type="string"),n.enum=l},UL=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},FL=(t,e,n,i)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},BL=(t,e,n,i)=>{const a=n,l=t._zod.def,{minimum:c,maximum:f}=t._zod.bag;typeof c=="number"&&(a.minItems=c),typeof f=="number"&&(a.maxItems=f),a.type="array",a.items=Rn(l.element,e,{...i,path:[...i.path,"items"]})},qL=(t,e,n,i)=>{const a=n,l=t._zod.def;a.type="object",a.properties={};const c=l.shape;for(const g in c)a.properties[g]=Rn(c[g],e,{...i,path:[...i.path,"properties",g]});const f=new Set(Object.keys(c)),m=new Set([...f].filter(g=>{const v=l.shape[g]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));m.size>0&&(a.required=Array.from(m)),l.catchall?._zod.def.type==="never"?a.additionalProperties=!1:l.catchall?l.catchall&&(a.additionalProperties=Rn(l.catchall,e,{...i,path:[...i.path,"additionalProperties"]})):e.io==="output"&&(a.additionalProperties=!1)},HL=(t,e,n,i)=>{const a=t._zod.def,l=a.inclusive===!1,c=a.options.map((f,m)=>Rn(f,e,{...i,path:[...i.path,l?"oneOf":"anyOf",m]}));l?n.oneOf=c:n.anyOf=c},$L=(t,e,n,i)=>{const a=t._zod.def,l=Rn(a.left,e,{...i,path:[...i.path,"allOf",0]}),c=Rn(a.right,e,{...i,path:[...i.path,"allOf",1]}),f=g=>"allOf"in g&&Object.keys(g).length===1,m=[...f(l)?l.allOf:[l],...f(c)?c.allOf:[c]];n.allOf=m},GL=(t,e,n,i)=>{const a=t._zod.def,l=Rn(a.innerType,e,i),c=e.seen.get(t);e.target==="openapi-3.0"?(c.ref=a.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},QL=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType},KL=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,n.default=JSON.parse(JSON.stringify(a.defaultValue))},ZL=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(a.defaultValue)))},YL=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType;let c;try{c=a.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=c},XL=(t,e,n,i)=>{const a=t._zod.def,l=e.io==="input"?a.in._zod.def.type==="transform"?a.out:a.in:a.out;Rn(l,e,i);const c=e.seen.get(t);c.ref=l},WL=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType,n.readOnly=!0},ux=(t,e,n,i)=>{const a=t._zod.def;Rn(a.innerType,e,i);const l=e.seen.get(t);l.ref=a.innerType};function _T(t,e){try{var n=t()}catch(i){return e(i)}return n&&n.then?n.then(void 0,e):n}function JL(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];n[c]={message:f.message,type:f.code}}else n[c]={message:l,type:a};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(b){return t.push(b)})}),e){var m=n[c].types,g=m&&m[i.code];n[c]=vv(c,e,n,a,g?[].concat(g,i.message):i.message)}t.shift()}return n}function eU(t,e){for(var n={};t.length;){var i=t[0],a=i.code,l=i.message,c=i.path.join(".");if(!n[c])if(i.code==="invalid_union"&&i.errors.length>0){var f=i.errors[0][0];n[c]={message:f.message,type:f.code}}else n[c]={message:l,type:a};if(i.code==="invalid_union"&&i.errors.forEach(function(v){return v.forEach(function(b){return t.push(b)})}),e){var m=n[c].types,g=m&&m[i.code];n[c]=vv(c,e,n,a,g?[].concat(g,i.message):i.message)}t.shift()}return n}function cx(t,e,n){if(n===void 0&&(n={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(t))return function(i,a,l){try{return Promise.resolve(_T(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(c){return l.shouldUseNativeValidation&&Yg({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if((function(f){return Array.isArray(f?.issues)})(c))return{values:{},errors:iT(JL(c.errors,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(t))return function(i,a,l){try{return Promise.resolve(_T(function(){return Promise.resolve((n.mode==="sync"?rz:iz)(t,i,e)).then(function(c){return l.shouldUseNativeValidation&&Yg({},l),{errors:{},values:n.raw?Object.assign({},i):c}})},function(c){if((function(f){return f instanceof Av})(c))return{values:{},errors:iT(eU(c.issues,!l.shouldUseNativeValidation&&l.criteriaMode==="all"),l)};throw c}))}catch(c){return Promise.reject(c)}};throw new Error("Invalid input: not a Zod schema")}const tU=ue("ZodISODateTime",(t,e)=>{l4.init(t,e),Dt.init(t,e)});function nU(t){return hL(tU,t)}const rU=ue("ZodISODate",(t,e)=>{u4.init(t,e),Dt.init(t,e)});function iU(t){return fL(rU,t)}const sU=ue("ZodISOTime",(t,e)=>{c4.init(t,e),Dt.init(t,e)});function aU(t){return dL(sU,t)}const oU=ue("ZodISODuration",(t,e)=>{h4.init(t,e),Dt.init(t,e)});function lU(t){return mL(oU,t)}const uU=(t,e)=>{Av.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>nz(t,n)},flatten:{value:n=>tz(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Xg,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Xg,2)}},isEmpty:{get(){return t.issues.length===0}}})},xr=ue("ZodError",uU,{Parent:Error}),cU=zd(xr),hU=Ld(xr),fU=Ud(xr),dU=Fd(xr),mU=oz(xr),pU=lz(xr),gU=uz(xr),yU=cz(xr),vU=hz(xr),_U=fz(xr),bU=dz(xr),EU=mz(xr),en=ue("ZodType",(t,e)=>(Jt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ad(t,"input"),output:ad(t,"output")}}),t.toJSONSchema=kL(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(fa(e,{checks:[...e.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),t.with=t.check,t.clone=(n,i)=>da(t,n,i),t.brand=()=>t,t.register=((n,i)=>(n.add(t,i),t)),t.parse=(n,i)=>cU(t,n,i,{callee:t.parse}),t.safeParse=(n,i)=>fU(t,n,i),t.parseAsync=async(n,i)=>hU(t,n,i,{callee:t.parseAsync}),t.safeParseAsync=async(n,i)=>dU(t,n,i),t.spa=t.safeParseAsync,t.encode=(n,i)=>mU(t,n,i),t.decode=(n,i)=>pU(t,n,i),t.encodeAsync=async(n,i)=>gU(t,n,i),t.decodeAsync=async(n,i)=>yU(t,n,i),t.safeEncode=(n,i)=>vU(t,n,i),t.safeDecode=(n,i)=>_U(t,n,i),t.safeEncodeAsync=async(n,i)=>bU(t,n,i),t.safeDecodeAsync=async(n,i)=>EU(t,n,i),t.refine=(n,i)=>t.check(d6(n,i)),t.superRefine=n=>t.check(m6(n)),t.overwrite=n=>t.check(Pl(n)),t.optional=()=>wT(t),t.exactOptional=()=>e6(t),t.nullable=()=>TT(t),t.nullish=()=>wT(TT(t)),t.nonoptional=n=>a6(t,n),t.array=()=>fx(t),t.or=n=>KU([t,n]),t.and=n=>YU(t,n),t.transform=n=>ST(t,WU(n)),t.default=n=>r6(t,n),t.prefault=n=>s6(t,n),t.catch=n=>l6(t,n),t.pipe=n=>ST(t,n),t.readonly=()=>h6(t),t.describe=n=>{const i=t.clone();return Ku.add(i,{description:n}),i},Object.defineProperty(t,"description",{get(){return Ku.get(t)?.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Ku.get(t);const i=t.clone();return Ku.add(i,n[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=n=>n(t),t)),hx=ue("_ZodString",(t,e)=>{Rv.init(t,e),en.init(t,e),t._zod.processJSONSchema=(i,a,l)=>VL(t,i,a);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...i)=>t.check(vL(...i)),t.includes=(...i)=>t.check(EL(...i)),t.startsWith=(...i)=>t.check(wL(...i)),t.endsWith=(...i)=>t.check(TL(...i)),t.min=(...i)=>t.check(sd(...i)),t.max=(...i)=>t.check(ix(...i)),t.length=(...i)=>t.check(sx(...i)),t.nonempty=(...i)=>t.check(sd(1,...i)),t.lowercase=i=>t.check(_L(i)),t.uppercase=i=>t.check(bL(i)),t.trim=()=>t.check(AL()),t.normalize=(...i)=>t.check(SL(...i)),t.toLowerCase=()=>t.check(RL()),t.toUpperCase=()=>t.check(xL()),t.slugify=()=>t.check(CL())}),wU=ue("ZodString",(t,e)=>{Rv.init(t,e),hx.init(t,e),t.email=n=>t.check(H4(TU,n)),t.url=n=>t.check(Z4(SU,n)),t.jwt=n=>t.check(cL(LU,n)),t.emoji=n=>t.check(Y4(AU,n)),t.guid=n=>t.check(vT(bT,n)),t.uuid=n=>t.check($4(bf,n)),t.uuidv4=n=>t.check(G4(bf,n)),t.uuidv6=n=>t.check(Q4(bf,n)),t.uuidv7=n=>t.check(K4(bf,n)),t.nanoid=n=>t.check(X4(RU,n)),t.guid=n=>t.check(vT(bT,n)),t.cuid=n=>t.check(W4(xU,n)),t.cuid2=n=>t.check(J4(CU,n)),t.ulid=n=>t.check(eL(IU,n)),t.base64=n=>t.check(oL(PU,n)),t.base64url=n=>t.check(lL(jU,n)),t.xid=n=>t.check(tL(OU,n)),t.ksuid=n=>t.check(nL(NU,n)),t.ipv4=n=>t.check(rL(DU,n)),t.ipv6=n=>t.check(iL(kU,n)),t.cidrv4=n=>t.check(sL(MU,n)),t.cidrv6=n=>t.check(aL(VU,n)),t.e164=n=>t.check(uL(zU,n)),t.datetime=n=>t.check(nU(n)),t.date=n=>t.check(iU(n)),t.time=n=>t.check(aU(n)),t.duration=n=>t.check(lU(n))});function Vr(t){return q4(wU,t)}const Dt=ue("ZodStringFormat",(t,e)=>{It.init(t,e),hx.init(t,e)}),TU=ue("ZodEmail",(t,e)=>{Jz.init(t,e),Dt.init(t,e)}),bT=ue("ZodGUID",(t,e)=>{Xz.init(t,e),Dt.init(t,e)}),bf=ue("ZodUUID",(t,e)=>{Wz.init(t,e),Dt.init(t,e)}),SU=ue("ZodURL",(t,e)=>{e4.init(t,e),Dt.init(t,e)}),AU=ue("ZodEmoji",(t,e)=>{t4.init(t,e),Dt.init(t,e)}),RU=ue("ZodNanoID",(t,e)=>{n4.init(t,e),Dt.init(t,e)}),xU=ue("ZodCUID",(t,e)=>{r4.init(t,e),Dt.init(t,e)}),CU=ue("ZodCUID2",(t,e)=>{i4.init(t,e),Dt.init(t,e)}),IU=ue("ZodULID",(t,e)=>{s4.init(t,e),Dt.init(t,e)}),OU=ue("ZodXID",(t,e)=>{a4.init(t,e),Dt.init(t,e)}),NU=ue("ZodKSUID",(t,e)=>{o4.init(t,e),Dt.init(t,e)}),DU=ue("ZodIPv4",(t,e)=>{f4.init(t,e),Dt.init(t,e)}),kU=ue("ZodIPv6",(t,e)=>{d4.init(t,e),Dt.init(t,e)}),MU=ue("ZodCIDRv4",(t,e)=>{m4.init(t,e),Dt.init(t,e)}),VU=ue("ZodCIDRv6",(t,e)=>{p4.init(t,e),Dt.init(t,e)}),PU=ue("ZodBase64",(t,e)=>{g4.init(t,e),Dt.init(t,e)}),jU=ue("ZodBase64URL",(t,e)=>{v4.init(t,e),Dt.init(t,e)}),zU=ue("ZodE164",(t,e)=>{_4.init(t,e),Dt.init(t,e)}),LU=ue("ZodJWT",(t,e)=>{E4.init(t,e),Dt.init(t,e)}),UU=ue("ZodBoolean",(t,e)=>{w4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>PL(t,n,i)});function FU(t){return pL(UU,t)}const BU=ue("ZodUnknown",(t,e)=>{T4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>zL()});function ET(){return gL(BU)}const qU=ue("ZodNever",(t,e)=>{S4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>jL(t,n,i)});function HU(t){return yL(qU,t)}const $U=ue("ZodArray",(t,e)=>{A4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>BL(t,n,i,a),t.element=e.element,t.min=(n,i)=>t.check(sd(n,i)),t.nonempty=n=>t.check(sd(1,n)),t.max=(n,i)=>t.check(ix(n,i)),t.length=(n,i)=>t.check(sx(n,i)),t.unwrap=()=>t.element});function fx(t,e){return IL($U,t,e)}const GU=ue("ZodObject",(t,e)=>{x4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>qL(t,n,i,a),dt(t,"shape",()=>e.shape),t.keyof=()=>mx(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:ET()}),t.loose=()=>t.clone({...t._zod.def,catchall:ET()}),t.strict=()=>t.clone({...t._zod.def,catchall:HU()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Yj(t,n),t.safeExtend=n=>Xj(t,n),t.merge=n=>Wj(t,n),t.pick=n=>Kj(t,n),t.omit=n=>Zj(t,n),t.partial=(...n)=>Jj(px,t,n[0]),t.required=(...n)=>ez(gx,t,n[0])});function dx(t,e){const n={type:"object",shape:t??{},...Pe(e)};return new GU(n)}const QU=ue("ZodUnion",(t,e)=>{C4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>HL(t,n,i,a),t.options=e.options});function KU(t,e){return new QU({type:"union",options:t,...Pe(e)})}const ZU=ue("ZodIntersection",(t,e)=>{I4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>$L(t,n,i,a)});function YU(t,e){return new ZU({type:"intersection",left:t,right:e})}const Jg=ue("ZodEnum",(t,e)=>{O4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(i,a,l)=>LL(t,i,a),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(i,a)=>{const l={};for(const c of i)if(n.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new Jg({...e,checks:[],...Pe(a),entries:l})},t.exclude=(i,a)=>{const l={...e.entries};for(const c of i)if(n.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new Jg({...e,checks:[],...Pe(a),entries:l})}});function mx(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new Jg({type:"enum",entries:n,...Pe(e)})}const XU=ue("ZodTransform",(t,e)=>{N4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>FL(t,n),t._zod.parse=(n,i)=>{if(i.direction==="backward")throw new HR(t.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(yc(l,n.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=n.value),c.inst??(c.inst=t),n.issues.push(yc(c))}};const a=e.transform(n.value,n);return a instanceof Promise?a.then(l=>(n.value=l,n)):(n.value=a,n)}});function WU(t){return new XU({type:"transform",transform:t})}const px=ue("ZodOptional",(t,e)=>{rx.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>ux(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function wT(t){return new px({type:"optional",innerType:t})}const JU=ue("ZodExactOptional",(t,e)=>{D4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>ux(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function e6(t){return new JU({type:"optional",innerType:t})}const t6=ue("ZodNullable",(t,e)=>{k4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>GL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function TT(t){return new t6({type:"nullable",innerType:t})}const n6=ue("ZodDefault",(t,e)=>{M4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>KL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function r6(t,e){return new n6({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():KR(e)}})}const i6=ue("ZodPrefault",(t,e)=>{V4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>ZL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function s6(t,e){return new i6({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():KR(e)}})}const gx=ue("ZodNonOptional",(t,e)=>{P4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>QL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function a6(t,e){return new gx({type:"nonoptional",innerType:t,...Pe(e)})}const o6=ue("ZodCatch",(t,e)=>{j4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>YL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function l6(t,e){return new o6({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const u6=ue("ZodPipe",(t,e)=>{z4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>XL(t,n,i,a),t.in=e.in,t.out=e.out});function ST(t,e){return new u6({type:"pipe",in:t,out:e})}const c6=ue("ZodReadonly",(t,e)=>{L4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>WL(t,n,i,a),t.unwrap=()=>t._zod.def.innerType});function h6(t){return new c6({type:"readonly",innerType:t})}const f6=ue("ZodCustom",(t,e)=>{U4.init(t,e),en.init(t,e),t._zod.processJSONSchema=(n,i,a)=>UL(t,n)});function d6(t,e={}){return OL(f6,t,e)}function m6(t){return NL(t)}const p6=t=>["crm-records",t],Pc=Ad(kc,"crm_records"),kf=t=>{if(!t)return[];const e=t.toLowerCase().trim();if(!e)return[];const n=e.split(/[^a-z0-9]+/).filter(Boolean);return Array.from(new Set([e,...n]))},xv=t=>{const e=new Set;return kf(t.customer_name).forEach(n=>e.add(n)),kf(t.business_name).forEach(n=>e.add(n)),kf(t.contact_number).forEach(n=>e.add(n)),Array.from(e)},g6=(t,e)=>{const n=kf(e);if(n.length===0)return!0;const i=t.search_tokens??xv(t);return n.some(a=>i.includes(a))},y6=t=>bc({queryKey:p6(t),queryFn:async()=>{const{page:e,pageSize:n,sort:i="updated_at",sortDir:a="desc"}=t,f=(await pc(Od(Pc,Dd(i,a)))).docs.map(b=>({id:b.id,...b.data()})).filter(b=>{if(t.repId&&b.rep_id!==t.repId||t.status&&b.status!==t.status||t.presentationSent==="sent"&&!b.presentation_sent||t.presentationSent==="not"&&b.presentation_sent)return!1;if(t.productIds?.length){const T=b.product_ids??[];if(!t.productIds.some(M=>T.includes(M)))return!1}return!(t.search&&!g6(b,t.search))}),m=f.length,g=(e-1)*n;return{data:f.slice(g,g+n),count:m}},staleTime:15e3,gcTime:3e5,placeholderData:e=>e??{data:[],count:0}}),v6=t=>bc({queryKey:["crm-record",t],enabled:!!t,queryFn:async()=>{if(!t)return null;const e=await gR(ss(Pc,t));return e.exists()?{id:e.id,...e.data()}:null},staleTime:3e4,gcTime:3e5}),_6=()=>{const t=Hr();return rs({mutationFn:async({record:e,productIds:n})=>{const i=new Date().toISOString(),a={...e,created_at:i,updated_at:i,product_ids:n,search_tokens:xv(e)};return{id:(await fv(Pc,a)).id,...a}},onSuccess:()=>{t.invalidateQueries({queryKey:["crm-records"]}),t.invalidateQueries({queryKey:["dashboard"]})}})},yx=()=>{const t=Hr();return rs({mutationFn:async({id:e,record:n,productIds:i})=>{const a="customer_name"in n||"business_name"in n||"contact_number"in n,l={...n,product_ids:i,updated_at:n.updated_at??new Date().toISOString()};return a&&(l.search_tokens=xv(n)),await cv(ss(Pc,e),l),{id:e,...l}},onSuccess:(e,n)=>{t.invalidateQueries({queryKey:["crm-records"]}),t.invalidateQueries({queryKey:["crm-record",n.id]}),t.invalidateQueries({queryKey:["dashboard"]})}})},b6=()=>{const t=Hr();return rs({mutationFn:async e=>(await hv(ss(Pc,e)),e),onSuccess:()=>{t.invalidateQueries({queryKey:["crm-records"]}),t.invalidateQueries({queryKey:["dashboard"]})}})},E6=({open:t,title:e,onClose:n,children:i,actions:a})=>{F.useEffect(()=>{if(!t)return;const c=f=>{f.key==="Escape"&&n()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[t,n]),F.useEffect(()=>{if(!t)return;const c=document.body.style.overflow,f=document.body.style.paddingRight,m=document.documentElement.style.overflow,g=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",g>0&&(document.body.style.paddingRight=`${g}px`),()=>{document.body.style.overflow=c,document.body.style.paddingRight=f,document.documentElement.style.overflow=m}},[t]);const l=w.jsxs("div",{className:ft("fixed inset-0 z-50 transition-opacity duration-200",t?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"),children:[w.jsx("div",{className:ft("absolute inset-0 bg-black/70 transition-opacity duration-200",t?"opacity-100":"opacity-0"),onClick:n}),w.jsx("div",{className:ft("fixed right-0 inset-y-0 w-full max-w-full transform transition-transform duration-300 sm:max-w-3xl",t?"translate-x-0":"translate-x-full"),children:w.jsxs("div",{className:"flex h-full flex-col border-l border-white/15 bg-[#151515] shadow-panel",children:[w.jsxs("div",{className:"flex items-center justify-between border-b border-white/15 px-4 py-4 sm:px-6 sm:py-5",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Editor"}),w.jsx("h2",{className:"font-display text-lg text-white sm:text-2xl",children:e})]}),w.jsx("button",{className:"rounded-full border border-white/20 px-3 py-2 text-xs uppercase tracking-widest text-white/70 hover:border-accent/60 hover:text-accent",onClick:n,children:"Close"})]}),w.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4 sm:px-6 sm:py-5",children:i}),a?w.jsx("div",{className:"border-t border-white/15 px-4 py-4 sm:px-6 sm:py-4",children:a}):null]})})]});return typeof document>"u"?null:PI.createPortal(l,document.body)},Ar=F.forwardRef(({className:t,hint:e,...n},i)=>w.jsxs("div",{className:"space-y-1",children:[w.jsx("input",{ref:i,className:ft("w-full rounded-xl border border-white/15 bg-[#1a1a1a] px-4 py-3 text-sm text-white placeholder:text-white/50 transition-all duration-200 hover:border-white/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60 disabled:cursor-not-allowed disabled:opacity-60",t),...n}),e?w.jsx("p",{className:"text-xs text-white/70",children:e}):null]}));Ar.displayName="Input";const vx=({options:t,value:e,onChange:n,placeholder:i})=>{const[a,l]=F.useState(!1),[c,f]=F.useState(""),m=F.useRef(null);F.useEffect(()=>{const b=T=>{m.current?.contains(T.target)||l(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=t.filter(b=>b.name.toLowerCase().includes(c.toLowerCase())),v=b=>{e.includes(b)?n(e.filter(T=>T!==b)):n([...e,b])};return w.jsxs("div",{ref:m,className:"relative",children:[w.jsxs("button",{type:"button",onClick:()=>l(b=>!b),className:"flex w-full items-center justify-between rounded-xl border border-white/15 bg-[#1a1a1a] px-4 py-3 text-left text-sm text-white transition-all duration-200 hover:border-white/30",children:[w.jsx("span",{className:ft(e.length?"text-white":"text-white/60"),children:e.length?`${e.length} selected`:i??"Select options"}),w.jsx("span",{className:"text-xs text-white/60",children:""})]}),a?w.jsxs("div",{className:"absolute left-0 top-full z-20 mt-2 w-full rounded-xl border border-white/15 bg-[#1a1a1a] shadow-panel",children:[w.jsx("div",{className:"border-b border-white/10 px-3 py-2",children:w.jsx("input",{value:c,onChange:b=>f(b.target.value),className:"w-full bg-transparent text-sm text-white placeholder:text-white/50 focus:outline-none",placeholder:"Filter..."})}),w.jsxs("div",{className:"max-h-56 overflow-y-auto p-2",children:[g.length===0?w.jsx("p",{className:"px-2 py-2 text-xs text-white/60",children:"No matches"}):null,g.map(b=>w.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg px-2 py-2 text-sm text-white hover:bg-white/10",children:[w.jsx("input",{type:"checkbox",checked:e.includes(b.id),onChange:()=>v(b.id),className:"h-4 w-4 rounded border-white/30 bg-transparent"}),w.jsx("span",{children:b.name})]},b.id))]})]}):null,e.length?w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.map(b=>{const T=t.find(x=>x.id===b);return w.jsx("span",{className:"rounded-full border border-white/20 bg-white/5 px-3 py-1 text-xs text-white/70",children:T?.name??"Unknown"},b)})}):null]})},ll=({options:t,value:e,onChange:n,placeholder:i})=>{const[a,l]=F.useState(!1),[c,f]=F.useState(""),m=F.useRef(null);F.useEffect(()=>{const b=T=>{m.current?.contains(T.target)||l(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=t.filter(b=>b.name.toLowerCase().includes(c.toLowerCase())),v=t.find(b=>b.id===e);return w.jsxs("div",{ref:m,className:"relative",children:[w.jsxs("button",{type:"button",onClick:()=>l(b=>!b),className:"flex w-full items-center justify-between rounded-xl border border-white/15 bg-[#1a1a1a] px-4 py-3 text-left text-sm text-white transition-all duration-200 hover:border-white/30",children:[w.jsx("span",{className:ft(v?"text-white":"text-white/60"),children:v?.name??i??"Select option"}),w.jsx("span",{className:"text-xs text-white/60",children:""})]}),a?w.jsxs("div",{className:"absolute left-0 top-full z-20 mt-2 w-full rounded-xl border border-white/15 bg-[#1a1a1a] shadow-panel",children:[w.jsx("div",{className:"border-b border-white/10 px-3 py-2",children:w.jsx("input",{value:c,onChange:b=>f(b.target.value),className:"w-full bg-transparent text-sm text-white placeholder:text-white/50 focus:outline-none",placeholder:"Filter..."})}),w.jsxs("div",{className:"max-h-56 overflow-y-auto p-2",children:[g.length===0?w.jsx("p",{className:"px-2 py-2 text-xs text-white/60",children:"No matches"}):null,g.map(b=>w.jsxs("button",{type:"button",className:ft("flex w-full items-center justify-between rounded-lg px-2 py-2 text-left text-sm text-white transition-colors",e===b.id?"bg-white/10":"hover:bg-white/10"),onClick:()=>{n(b.id),l(!1)},children:[w.jsx("span",{children:b.name}),e===b.id?w.jsx("span",{className:"h-2 w-2 rounded-full bg-accent"}):null]},b.id))]})]}):null]})},_x=F.createContext(void 0),w6=({children:t})=>{const[e,n]=F.useState([]),i=l=>{const c=crypto.randomUUID();n(f=>[...f,{...l,id:c}]),setTimeout(()=>{n(f=>f.filter(m=>m.id!==c))},3500)},a=F.useMemo(()=>({push:i}),[]);return w.jsxs(_x.Provider,{value:a,children:[t,w.jsx("div",{className:"fixed bottom-6 right-6 z-[60] space-y-3",children:e.map(l=>w.jsxs("div",{className:ft("rounded-2xl border bg-panel/90 px-4 py-3 text-sm shadow-panel backdrop-blur",{"border-success/40":l.tone==="success","border-danger/40":l.tone==="danger"}),children:[w.jsx("p",{className:"font-semibold text-white",children:l.title}),l.description?w.jsx("p",{className:"text-xs text-muted",children:l.description}):null]},l.id))})]})},Cv=()=>{const t=F.useContext(_x);if(!t)throw new Error("useToast must be used within ToastProvider");return t},bx=["New","In Progress","Won","Lost"],T6=dx({customer_name:Vr().min(1,"Customer name is required"),business_name:Vr().optional(),rep_id:Vr().optional(),contact_number:Vr().optional(),last_spoke_to:Vr().optional(),presentation_sent:FU().default(!1),presentation_sent_at:Vr().optional(),products:fx(Vr()).default([]),notes:Vr().optional(),status:mx(bx),next_follow_up_at:Vr().optional()}),AT=t=>({customer_name:t?.customer_name??"",business_name:t?.business_name??"",rep_id:t?.rep_id??"",contact_number:t?.contact_number??"",last_spoke_to:t?.last_spoke_to??Xa(),presentation_sent:t?.presentation_sent??!1,presentation_sent_at:t?.presentation_sent?t.presentation_sent_at??Xa():"",products:t?.product_ids??[],notes:t?.notes??"",status:t?.status??"New",next_follow_up_at:t?.next_follow_up_at??Xa()}),S6=({open:t,record:e,reps:n,products:i,onClose:a})=>{const{user:l}=Mc(),{push:c}=Cv(),f=!!e?.id,{data:m}=v6(e?.id),g=m??e,v=cx(T6),b=qR({resolver:v,defaultValues:AT(g)}),T=_6(),x=yx(),M=b6(),P=T.isPending||x.isPending,U=M.isPending;F.useEffect(()=>{t&&b.reset(AT(g))},[g,b,t]);const W=yf({control:b.control,name:"presentation_sent"}),Q=yf({control:b.control,name:"products"}),ne=yf({control:b.control,name:"rep_id"}),he=yf({control:b.control,name:"status"}),J=F.useMemo(()=>i.map(O=>({id:O.id,name:O.name})),[i]),ve=F.useMemo(()=>n.map(O=>({id:O.id,name:O.name})),[n]),N=bx.map(O=>({id:O,name:O})),A=b.handleSubmit(async O=>{if(!l)return;const z={customer_name:O.customer_name,business_name:O.business_name?.trim()||null,rep_id:O.rep_id||null,contact_number:O.contact_number?.trim()||null,last_spoke_to:O.last_spoke_to||null,presentation_sent:O.presentation_sent??!1,presentation_sent_at:O.presentation_sent?O.presentation_sent_at||O.last_spoke_to||Xa():null,status:O.status,notes:O.notes?.trim()||null,next_follow_up_at:O.next_follow_up_at||null};try{f&&e?.id?(await x.mutateAsync({id:e.id,record:{...z,updated_at:new Date().toISOString()},productIds:O.products}),c({title:"Record updated",tone:"success"})):(await T.mutateAsync({record:{...z,owner_id:l.uid},productIds:O.products}),c({title:"Record created",tone:"success"})),a()}catch(D){c({title:"Save failed",description:D.message,tone:"danger"})}}),I=async()=>{if(!(!e?.id||!window.confirm("Delete this record? This cannot be undone.")))try{await M.mutateAsync(e.id),c({title:"Record deleted",tone:"success"}),a()}catch(z){c({title:"Delete failed",description:z.message,tone:"danger"})}};return w.jsx(E6,{open:t,title:f?"Edit CRM Record":"New CRM Record",onClose:a,actions:w.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[f?w.jsx(xt,{variant:"danger",size:"sm",onClick:I,disabled:U,children:"Delete"}):w.jsx("span",{}),w.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[w.jsx(xt,{variant:"secondary",size:"sm",onClick:a,disabled:P,className:"w-full sm:w-auto",children:"Cancel"}),w.jsx(xt,{size:"sm",onClick:A,disabled:P,className:"w-full sm:w-auto",children:P?"Saving...":"Save"})]})]}),children:w.jsxs("form",{className:"space-y-6",onSubmit:A,children:[w.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Customer Name"}),w.jsx(Ar,{...b.register("customer_name"),placeholder:"Jane Doe"}),b.formState.errors.customer_name?w.jsx("p",{className:"mt-1 text-xs text-danger",children:b.formState.errors.customer_name.message}):null]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Business Name"}),w.jsx(Ar,{...b.register("business_name"),placeholder:"Dynk Holdings"})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Rep"}),w.jsx("div",{className:"mt-2",children:w.jsx(ll,{options:[{id:"",name:"Unassigned"},...ve],value:ne??"",onChange:O=>b.setValue("rep_id",O),placeholder:"Unassigned"})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Contact Number"}),w.jsx(Ar,{...b.register("contact_number"),placeholder:"(555) 238-2940"})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Last Spoke"}),w.jsx(Ar,{type:"date",...b.register("last_spoke_to")}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.jsx(xt,{type:"button",size:"sm",variant:"ghost",onClick:()=>b.setValue("last_spoke_to",Xa()),children:"Mark spoke today"})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Next Follow-up"}),w.jsx(Ar,{type:"date",...b.register("next_follow_up_at")}),w.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:w.jsx(xt,{type:"button",size:"sm",variant:"ghost",onClick:()=>b.setValue("next_follow_up_at",kR(7)),children:"Set 7 days out"})})]})]}),w.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"field-label",children:"Presentation Sent"}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("label",{className:"flex items-center gap-2 text-sm text-white",children:[w.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-transparent",...b.register("presentation_sent")}),"Sent"]}),w.jsx(xt,{type:"button",size:"sm",variant:"ghost",onClick:()=>{b.setValue("presentation_sent",!0),b.setValue("presentation_sent_at",Xa())},children:"Mark sent today"})]}),w.jsx(Ar,{type:"date",...b.register("presentation_sent_at"),className:ft(!W&&"opacity-60"),disabled:!W})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Status"}),w.jsx("div",{className:"mt-2",children:w.jsx(ll,{options:N,value:he??"New",onChange:O=>b.setValue("status",O),placeholder:"New"})})]})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("p",{className:"field-label",children:"Products Offered"}),w.jsx("div",{className:"mt-3",children:w.jsx(vx,{options:J,value:Q??[],onChange:O=>b.setValue("products",O),placeholder:"Select products"})})]}),w.jsxs("div",{className:"mt-4",children:[w.jsx("p",{className:"field-label",children:"Notes"}),w.jsx("div",{className:"mt-3",children:w.jsx("textarea",{...b.register("notes"),rows:6,className:"w-full rounded-xl border border-white/15 bg-[#1a1a1a] px-4 py-3 text-sm text-white placeholder:text-white/50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/60",placeholder:"Summaries, objections, next steps..."})})]})]})})},A6=({className:t,...e})=>w.jsx("table",{className:ft("w-full border-separate border-spacing-y-2",t),...e}),R6=({className:t,...e})=>w.jsx("thead",{className:ft("text-left text-xs uppercase tracking-[0.18em] text-muted",t),...e}),x6=({className:t,...e})=>w.jsx("tr",{className:ft("bg-panel2/40",t),...e}),qi=({className:t,...e})=>w.jsx("td",{className:ft("px-4 py-3 text-sm text-white",t),...e}),Hi=({className:t,...e})=>w.jsx("th",{className:ft("px-4 py-3 text-xs font-semibold",t),...e}),RT=t=>t==="Won"?"success":t==="Lost"?"danger":t==="In Progress"?"accent":"neutral",C6=({records:t,repsById:e,productsById:n,loading:i,error:a,onRowClick:l,onMarkSpoke:c})=>{if(i&&t.length===0)return w.jsx(fn,{className:"flex min-h-[240px] items-center justify-center",children:w.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-white/20 bg-[#151515] px-4 py-2 text-xs font-semibold uppercase tracking-[0.08em] text-white",children:[w.jsx("span",{className:"loader-spin h-4 w-4 rounded-full border-2 border-white/30 border-t-accent"}),w.jsx("span",{className:"loader-pulse",children:"Loading"})]})});if(a)return w.jsx(fn,{className:"flex items-center justify-between border border-danger/40",children:w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:"Unable to load records"}),w.jsx("p",{className:"text-xs text-danger",children:a})]})});if(t.length===0)return w.jsxs(fn,{children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:"No results yet"}),w.jsx("p",{className:"text-xs text-white/70",children:"Adjust filters or add a new record to start tracking leads."})]});const f=i&&t.length>0;return w.jsxs("div",{className:ft("relative space-y-4 transition-all duration-300 ease-out",i?"opacity-70 blur-[1px]":"opacity-100 blur-0"),children:[f?w.jsx("div",{className:"absolute inset-0 z-10 flex items-start justify-center rounded-2xl bg-black/50 pt-16 transition-opacity duration-300 ease-out",children:w.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-white/20 bg-[#151515] px-4 py-2 text-xs font-semibold uppercase tracking-[0.08em] text-white",children:[w.jsx("span",{className:"loader-spin h-4 w-4 rounded-full border-2 border-white/30 border-t-accent"}),w.jsx("span",{className:"loader-pulse",children:"Loading"})]})}):null,w.jsx("div",{className:"space-y-3 md:hidden",children:t.map(m=>{const g=m.rep_id?e[m.rep_id]?.name:null,v=m.product_ids??[];return w.jsxs(fn,{className:"cursor-pointer space-y-3",onClick:()=>l(m),children:[w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-base font-semibold text-white",children:m.customer_name}),w.jsx("p",{className:"text-xs text-white/70",children:m.business_name??""})]}),w.jsx(Ga,{tone:RT(m.status),children:m.status})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-white/70",children:[w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Rep"}),w.jsx("p",{className:"mt-1 text-white",children:g??""})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Phone"}),w.jsx("p",{className:"mt-1 text-white",children:m.contact_number??""})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Last spoke"}),w.jsx("p",{className:"mt-1 text-white",children:Gg(m.last_spoke_to)})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Presentation"}),w.jsx("div",{className:"mt-1",children:m.presentation_sent?w.jsx(Ga,{tone:"success",children:"Sent"}):w.jsx(Ga,{tone:"neutral",children:"Not sent"})})]})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Products"}),w.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[v.length===0?w.jsx("span",{className:"text-xs text-white/60",children:""}):null,v.map(b=>w.jsx("span",{className:"rounded-full border border-white/20 bg-white/5 px-2 py-1 text-xs text-white/70",children:n[b]?.name??"Product"},b))]})]}),w.jsx(xt,{size:"sm",variant:"secondary",onClick:b=>{b.stopPropagation(),c(m)},children:"Mark spoke today"})]},m.id)})}),w.jsx("div",{className:"hidden overflow-x-auto rounded-2xl border border-white/20 md:block",children:w.jsxs(A6,{className:"min-w-[980px] border-separate border-spacing-y-2",children:[w.jsx(R6,{children:w.jsxs("tr",{className:"bg-[#161616]",children:[w.jsx(Hi,{children:"Customer"}),w.jsx(Hi,{children:"Business"}),w.jsx(Hi,{children:"Rep"}),w.jsx(Hi,{children:"Phone"}),w.jsx(Hi,{children:"Last Spoke"}),w.jsx(Hi,{children:"Presentation"}),w.jsx(Hi,{children:"Status"}),w.jsx(Hi,{children:"Products"}),w.jsx(Hi,{children:"Spoke Today"})]})}),w.jsx("tbody",{children:t.map(m=>{const g=m.rep_id?e[m.rep_id]?.name:null,v=m.product_ids??[];return w.jsxs(x6,{className:"cursor-pointer border border-white/15 bg-[#151515] hover:bg-white/5",onClick:()=>l(m),children:[w.jsx(qi,{className:"font-semibold",children:m.customer_name}),w.jsx(qi,{children:m.business_name??""}),w.jsx(qi,{children:g??""}),w.jsx(qi,{children:m.contact_number??""}),w.jsx(qi,{children:Gg(m.last_spoke_to)}),w.jsx(qi,{children:m.presentation_sent?w.jsx(Ga,{tone:"success",children:"Sent"}):w.jsx(Ga,{tone:"neutral",children:"Not sent"})}),w.jsx(qi,{children:w.jsx(Ga,{tone:RT(m.status),children:m.status})}),w.jsx(qi,{children:w.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.length===0?w.jsx("span",{className:"text-xs text-white/60",children:""}):null,v.map(b=>w.jsx("span",{className:"rounded-full border border-white/20 bg-white/5 px-2 py-1 text-xs text-white/70",children:n[b]?.name??"Product"},b))]})}),w.jsx(qi,{children:w.jsx(xt,{size:"sm",variant:"secondary",onClick:b=>{b.stopPropagation(),c(m)},children:"Mark today"})})]},m.id)})})]})})]})},I6=t=>["products",{includeInactive:t}],O6=3e5,N6=18e5,qd=Ad(kc,"products"),D6=async t=>{const e=[Dd("name","asc")];t||e.unshift(fR("active","==",!0));const n=Od(qd,...e);return(await pc(n)).docs.map(a=>({id:a.id,...a.data()}))},Ex=(t=!1)=>bc({queryKey:I6(t),queryFn:()=>D6(t),staleTime:O6,gcTime:N6}),k6=()=>{const t=Hr();return rs({mutationFn:async e=>{const n=new Date().toISOString(),i={name:e,active:!0,created_at:n};return{id:(await fv(qd,i)).id,...i}},onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}})},M6=()=>{const t=Hr();return rs({mutationFn:async e=>{const{id:n,...i}=e;return await cv(ss(qd,n),i),e},onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}})},V6=()=>{const t=Hr();return rs({mutationFn:async e=>(await hv(ss(qd,e)),e),onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}})},Ef=10,P6=()=>{const[t,e]=F.useState(""),[n,i]=F.useState(""),[a,l]=F.useState(""),[c,f]=F.useState("all"),[m,g]=F.useState([]),[v,b]=F.useState("updated_at"),[T,x]=F.useState("desc"),[M,P]=F.useState(1),[U,W]=F.useState(!1),[Q,ne]=F.useState(null),[he,J]=F.useState(!1),[ve,N]=F.useState(null),{data:A=[]}=mv(!0),{data:I=[]}=Ex(!0),O=yx(),{push:z}=Cv(),D=y6({page:M,pageSize:Ef,search:t.trim()||void 0,repId:n||void 0,status:a||void 0,presentationSent:c,productIds:m.length?m:void 0,sort:v,sortDir:T}),C=F.useMemo(()=>D.data?Math.max(1,Math.ceil(D.data.count/Ef)):1,[D.data]),ke=D.data?.count??0,Fe=ke===0?0:(M-1)*Ef+1,Z=Math.min(M*Ef,ke),fe=t.trim().length>0||n||a||c!=="all"||m.length>0,oe=()=>{ne(null),W(!0)},Be=Ee=>{ne(Ee),W(!0)},He=()=>{e(""),i(""),l(""),f("all"),g([]),P(1)},j=async Ee=>{try{await O.mutateAsync({id:Ee.id,record:{last_spoke_to:Xa(),next_follow_up_at:kR(7),updated_at:new Date().toISOString()},productIds:Ee.product_ids??[]}),N(Ee.customer_name),J(!0),z({title:"Marked as spoke today",tone:"success"})}catch(jt){z({title:"Update failed",description:jt.message,tone:"danger"})}},te=I.map(Ee=>({id:Ee.id,name:Ee.name})),le=A.map(Ee=>({id:Ee.id,name:Ee.name})),ye=F.useMemo(()=>Object.fromEntries(A.map(Ee=>[Ee.id,Ee])),[A]),Ie=F.useMemo(()=>Object.fromEntries(I.map(Ee=>[Ee.id,Ee])),[I]),Ve=[{id:"",name:"All statuses"},{id:"New",name:"New"},{id:"In Progress",name:"In Progress"},{id:"Won",name:"Won"},{id:"Lost",name:"Lost"}],Ce=[{id:"all",name:"All"},{id:"sent",name:"Sent"},{id:"not",name:"Not Sent"}],bt=[{id:"updated_at",name:"Updated"},{id:"last_spoke_to",name:"Last spoke"}];return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"section-card sticky top-4 z-20",children:[w.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"kicker",children:"CRM"}),w.jsx("h2",{className:"font-display text-2xl text-white",children:"Lead command center"}),w.jsx("p",{className:"text-xs text-white/70",children:"Filter, qualify, and convert faster."})]}),w.jsxs("div",{className:"flex w-full flex-wrap items-center gap-2 sm:w-auto",children:[w.jsx("div",{className:"w-full sm:w-80 lg:w-96",children:w.jsx(Ar,{value:t,onChange:Ee=>{e(Ee.target.value),P(1)},placeholder:"Search customer, business, phone"})}),w.jsx(xt,{onClick:oe,children:"New Record"})]})]}),w.jsxs("div",{className:"mt-5 grid gap-4 lg:grid-cols-6",children:[w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Rep"}),w.jsx("div",{className:"mt-2",children:w.jsx(ll,{options:[{id:"",name:"All reps"},...le],value:n,onChange:Ee=>{i(Ee),P(1)},placeholder:"All reps"})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Status"}),w.jsx("div",{className:"mt-2",children:w.jsx(ll,{options:Ve,value:a,onChange:Ee=>{l(Ee),P(1)},placeholder:"All statuses"})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Presentation"}),w.jsx("div",{className:"mt-2",children:w.jsx(ll,{options:Ce,value:c,onChange:Ee=>{f(Ee),P(1)},placeholder:"All"})})]}),w.jsxs("div",{className:"lg:col-span-2",children:[w.jsx("p",{className:"field-label",children:"Products"}),w.jsx("div",{className:"mt-2",children:w.jsx(vx,{options:te,value:m,onChange:Ee=>{g(Ee),P(1)},placeholder:"Filter products"})})]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Sort"}),w.jsxs("div",{className:"mt-2 flex gap-2",children:[w.jsx(ll,{options:bt,value:v,onChange:Ee=>b(Ee),placeholder:"Updated"}),w.jsx(xt,{size:"sm",variant:"ghost",onClick:()=>x(Ee=>Ee==="asc"?"desc":"asc"),children:T==="asc"?"":""})]})]})]}),w.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-3 text-xs text-white/70",children:[w.jsx("span",{children:ke===0?"No results yet":`Showing ${Fe}-${Z} of ${ke}`}),fe?w.jsx(xt,{size:"sm",variant:"ghost",onClick:He,children:"Clear filters"}):null]})]}),w.jsxs(fn,{className:"min-h-[420px]",children:[w.jsx(C6,{records:D.data?.data??[],repsById:ye,productsById:Ie,loading:D.isLoading||D.isFetching,error:D.error?"Failed to load CRM records.":null,onRowClick:Be,onMarkSpoke:j}),w.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/70",children:[w.jsxs("span",{children:["Page ",M," of ",C]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(xt,{size:"sm",variant:"ghost",disabled:M<=1,onClick:()=>P(Ee=>Math.max(1,Ee-1)),children:"Prev"}),w.jsx(xt,{size:"sm",variant:"ghost",disabled:M>=C,onClick:()=>P(Ee=>Math.min(C,Ee+1)),children:"Next"})]})]})]})]}),w.jsx(S6,{open:U,record:Q,reps:A,products:I,onClose:()=>W(!1)}),he?w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[w.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:()=>J(!1)}),w.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-white/15 bg-[#151515] p-6 shadow-panel",children:[w.jsx("p",{className:"kicker",children:"Follow-up scheduled"}),w.jsx("h3",{className:"mt-2 text-xl font-semibold text-white",children:"Next follow-up set"}),w.jsxs("p",{className:"mt-2 text-sm text-white/70",children:[ve?`${ve} has`:"This record has"," been marked as spoken to today. The next follow-up is set to one week from now."]}),w.jsx("div",{className:"mt-5 flex justify-end",children:w.jsx(xt,{variant:"secondary",size:"sm",onClick:()=>J(!1),children:"Got it"})})]})]}):null]})},j6=dx({email:Vr().email("Enter a valid email"),password:Vr().min(6,"Password must be at least 6 characters")}),z6=()=>{const{user:t,loading:e}=Mc(),n=iy(),i=fi(),a=qR({resolver:cx(j6)}),l=a.formState.isSubmitting;F.useEffect(()=>{t&&n("/",{replace:!0})},[t,n]);const c=a.handleSubmit(async f=>{try{await yP(f.email,f.password);const m=i.state?.from?.pathname??"/";n(m,{replace:!0})}catch(m){a.setError("root",{message:m.message})}});return e?w.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:w.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-white/20 bg-[#151515] px-4 py-2 text-xs font-semibold uppercase tracking-[0.08em] text-white",children:[w.jsx("span",{className:"loader-spin h-4 w-4 rounded-full border-2 border-white/30 border-t-accent"}),w.jsx("span",{className:"loader-pulse",children:"Loading"})]})}):w.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",children:w.jsxs(fn,{className:"w-full max-w-md space-y-6 rise-in",children:[l?w.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center bg-black/60",children:w.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-white/20 bg-[#151515] px-4 py-2 text-xs font-semibold uppercase tracking-[0.08em] text-white",children:[w.jsx("span",{className:"loader-spin h-4 w-4 rounded-full border-2 border-white/30 border-t-accent"}),w.jsx("span",{className:"loader-pulse",children:"Signing in"})]})}):null,w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"kicker",children:"Secure access"}),w.jsx("h1",{className:"section-title",children:"Welcome back"}),w.jsx("p",{className:"section-subtitle",children:"Sign in to continue managing your pipeline."})]}),w.jsxs("form",{className:ft("space-y-4",l&&"pointer-events-none opacity-70"),onSubmit:c,children:[w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Email"}),w.jsx("div",{className:"mt-2",children:w.jsx(Ar,{type:"email",placeholder:"you@company.com",...a.register("email")})}),a.formState.errors.email?w.jsx("p",{className:"mt-1 text-xs text-danger",children:a.formState.errors.email.message}):null]}),w.jsxs("div",{children:[w.jsx("p",{className:"field-label",children:"Password"}),w.jsx("div",{className:"mt-2",children:w.jsx(Ar,{type:"password",...a.register("password")})}),a.formState.errors.password?w.jsx("p",{className:"mt-1 text-xs text-danger",children:a.formState.errors.password.message}):null]}),a.formState.errors.root?w.jsx("p",{className:"text-xs text-danger",children:a.formState.errors.root.message}):null,w.jsx(xt,{className:"w-full",type:"submit",disabled:l,children:l?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"loader-spin h-4 w-4 rounded-full border-2 border-black/30 border-t-black"}),w.jsx("span",{className:"loader-pulse",children:"Signing in"})]}):"Sign in"})]})]})})},L6=()=>{const{data:t=[],isLoading:e}=mv(!0),{data:n=[],isLoading:i}=Ex(!0),[a,l]=F.useState(""),[c,f]=F.useState(""),m=vj(),g=_j(),v=bj(),b=k6(),T=M6(),x=V6(),{push:M}=Cv(),P=async()=>{if(a.trim())try{await m.mutateAsync(a.trim()),l(""),M({title:"Rep created",tone:"success"})}catch(J){M({title:"Rep create failed",description:J.message,tone:"danger"})}},U=async()=>{if(c.trim())try{await b.mutateAsync(c.trim()),f(""),M({title:"Product created",tone:"success"})}catch(J){M({title:"Product create failed",description:J.message,tone:"danger"})}},W=async(J,ve)=>{try{await g.mutateAsync({id:J,active:!ve}),M({title:ve?"Rep deactivated":"Rep activated",tone:"success"})}catch(N){M({title:"Update failed",description:N.message,tone:"danger"})}},Q=async(J,ve)=>{try{await T.mutateAsync({id:J,active:!ve}),M({title:ve?"Product deactivated":"Product activated",tone:"success"})}catch(N){M({title:"Update failed",description:N.message,tone:"danger"})}},ne=async J=>{if(window.confirm("Delete this rep?"))try{await v.mutateAsync(J),M({title:"Rep deleted",tone:"success"})}catch(ve){M({title:"Delete failed",description:ve.message,tone:"danger"})}},he=async J=>{if(window.confirm("Delete this product?"))try{await x.mutateAsync(J),M({title:"Product deleted",tone:"success"})}catch(ve){M({title:"Delete failed",description:ve.message,tone:"danger"})}};return w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Administration"}),w.jsx("h2",{className:"section-title",children:"Settings"}),w.jsx("p",{className:"section-subtitle",children:"Manage reps, products, and access controls."})]}),w.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[w.jsxs(fn,{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Reps"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Manage sales reps"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Ar,{value:a,onChange:J=>l(J.target.value),placeholder:"Add a rep"}),w.jsx(xt,{onClick:P,disabled:m.isPending,children:"Add"})]}),w.jsxs("div",{className:"space-y-2",children:[e?w.jsx("p",{className:"text-sm text-white/70",children:"Loading reps..."}):null,!e&&t.length===0?w.jsx("p",{className:"text-sm text-white/70",children:"No reps yet."}):null,t.map(J=>w.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:J.name}),w.jsx("p",{className:"text-xs text-white/70",children:J.active?"Active":"Inactive"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(xt,{size:"sm",variant:"ghost",onClick:()=>W(J.id,J.active),disabled:g.isPending,children:J.active?"Deactivate":"Activate"}),w.jsx(xt,{size:"sm",variant:"danger",onClick:()=>ne(J.id),children:"Delete"})]})]},J.id))]})]}),w.jsxs(fn,{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"kicker",children:"Products"}),w.jsx("h3",{className:"font-display text-2xl text-white",children:"Manage catalog"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Ar,{value:c,onChange:J=>f(J.target.value),placeholder:"Add a product"}),w.jsx(xt,{onClick:U,disabled:b.isPending,children:"Add"})]}),w.jsxs("div",{className:"space-y-2",children:[i?w.jsx("p",{className:"text-sm text-white/70",children:"Loading products..."}):null,!i&&n.length===0?w.jsx("p",{className:"text-sm text-white/70",children:"No products yet."}):null,n.map(J=>w.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-white/5 px-4 py-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-semibold text-white",children:J.name}),w.jsx("p",{className:"text-xs text-white/70",children:J.active?"Active":"Inactive"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(xt,{size:"sm",variant:"ghost",onClick:()=>Q(J.id,J.active),disabled:T.isPending,children:J.active?"Deactivate":"Activate"}),w.jsx(xt,{size:"sm",variant:"danger",onClick:()=>he(J.id),disabled:x.isPending,children:"Delete"})]})]},J.id))]})]})]})]})},U6=()=>w.jsxs(rI,{children:[w.jsx($i,{path:"/login",element:w.jsx(z6,{})}),w.jsx($i,{element:w.jsx(qw,{}),children:w.jsxs($i,{element:w.jsx(hj,{}),children:[w.jsx($i,{index:!0,element:w.jsx(Ej,{})}),w.jsx($i,{path:"/crm",element:w.jsx(P6,{})}),w.jsx($i,{element:w.jsx(qw,{requireAdmin:!0}),children:w.jsx($i,{path:"/settings",element:w.jsx(L6,{})})})]})}),w.jsx($i,{path:"*",element:w.jsx(dg,{to:"/",replace:!0})})]}),F6=new aO({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});i1.createRoot(document.getElementById("root")).render(w.jsx(F.StrictMode,{children:w.jsx(oO,{client:F6,children:w.jsx(xI,{children:w.jsx(gP,{children:w.jsx(w6,{children:w.jsx(U6,{})})})})})}));
